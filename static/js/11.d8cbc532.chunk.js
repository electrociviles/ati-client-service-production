(this.webpackJsonpati=this.webpackJsonpati||[]).push([[11],{1107:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return oe}));var n=a(21),r=a(1),c=a.n(r),l=a(920),i=a(141),o=a(987),u=a(991),m=a(990),s=a(1006),d=a(988),p=a(1106),f=a(989),g=a(72),b=a(73),E=a.n(b);function v(){var e=Object(g.a)(["\n    query getPacks($start: Int, $end: Int) {\n        getPacks(start: $start, end: $end) {\n            id\n            name\n            price\n            date\n            status\n            quantity\n            pack_products {\n                id\n                quantity\n                product {\n                  id\n                  name\n                  price\n                }\n            }\n        },\n        totalPacks\n    }\n"]);return v=function(){return e},e}function O(){var e=Object(g.a)(["\n    query getProducts($start: Int, $end: Int) {\n        getProducts(start: $start, end: $end) {\n            id\n            name\n            price\n            quantity\n            unitOfmeasurement {\n                id\n                name\n                abbreviation\n            }  \n        }\n    }\n"]);return O=function(){return e},e}E()(O());var j=E()(v()),h=a(962),y=a(143),C=a(956),k=a.n(C),P=a(276),N=a.n(P),x=a(932),S=a(1013),q=a(1012),$=a(992),w=a(1011),F=a(961),I=a.n(F),W=a(917),z=a(283),T=a.n(z),A=a(942),B=a(974),G=a(922),M=a(993),_=a(144),L=(a(30),a(15),a(14),a(16)),V=a(933),R=a(1004),D=a(3),H=a(959),J=a(935),U=(a(947),a(925),a(955),a(284)),Q=a.n(U),K=a(71),X=a(964),Y=a(963),Z=a.n(Y),ee=a(953),te=a.n(ee),ae=Object(l.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(L.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));var ne=function(e){var t=Object(r.useState)({}),a=Object(n.a)(t,2),l=a[0],s=a[1],p=Object(r.useState)(e.pack.name),g=Object(n.a)(p,2),b=g[0],E=g[1],v=Object(r.useState)(e.pack.price),O=Object(n.a)(v,2),j=O[0],C=O[1],k=Object(r.useState)(e.pack.quantity?e.pack.quantity:0),P=Object(n.a)(k,2),N=P[0],x=P[1],S=Object(r.useState)([]),q=Object(n.a)(S,2),$=q[0],w=q[1],F=Object(r.useState)(!1),I=Object(n.a)(F,2),z=I[0],T=I[1],A=Object(r.useState)(!1),B=Object(n.a)(A,2),M=(B[0],B[1]),L=Object(r.useState)(""),U=Object(n.a)(L,2),Y=(U[0],U[1]),ee=Object(r.useState)(!1),ne=Object(n.a)(ee,2),re=(ne[0],ne[1]),ce=Object(r.useState)(""),le=Object(n.a)(ce,2),ie=(le[0],le[1]),oe=Object(r.useState)(!1),ue=Object(n.a)(oe,2),me=(ue[0],ue[1]),se=Object(r.useState)(""),de=Object(n.a)(se,2),pe=(de[0],de[1]),fe=Object(y.b)(h.d),ge=Object(n.a)(fe,1)[0],be=ae();Object(r.useEffect)((function(){var t=e.pack.pack_products.map((function(e){return{id:e.product.id,name:e.product.name,quantity:e.quantity,price:e.product.price,status:!0}}));console.log("newProducts",t),w(t)}),[]);var Ee=Object(r.useState)({name:e.pack.name,price:e.pack.price,quantity:e.pack.quantity,pack:""}),ve=Object(n.a)(Ee,2),Oe=(ve[0],ve[1],function(e){var t=void 0!==e?e:b;return null==t||""===t.toString().trim()?(M(!0),Y("Este campo es requerido"),1):(M(!1),Y(""),0)}),je=function(e){var t=void 0!==e?e:j;return null==t||""===t.toString().trim()?(re(!0),ie("Este campo es requerido"),1):Number(t)<=0?(re(!0),ie("Valor no permitido"),1):(re(!1),ie(""),0)},he=function(e){var t=void 0!==e?e:N;return null==t||""===t.toString().trim()?(me(!0),pe("Este campo es requerido"),1):Number(t)<0?(me(!0),pe("Valor no permitido"),1):(me(!1),pe(""),0)},ye=function(e){return function(){var t=$.filter((function(t){return t!==e}));w(t)}};return c.a.createElement(r.Fragment,null,c.a.createElement(R.a,{maxWidth:"md"},c.a.createElement(i.a,{className:be.paper},c.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(t){t.preventDefault(),function(t){var a=$.map((function(t,a){return{id:e.pack.id,quantity:t.quantity,product:t.id}})),n={id:e.pack.id,name:b,price:parseFloat(j),quantity:parseFloat(N),pack_products:a};ge({variables:{input:n,file:l}}).then((function(t){console.log(t),console.log(e),t.data.updatePack&&e.modal&&(te.a.fire({icon:"success",title:"El paquete fue actualizado exitosamente",showConfirmButton:!1,timer:1500}),e.setPack(t.data.updateProduct),e.onCloseEditPack())}))}()}},c.a.createElement(V.a,{container:!0,spacing:3},c.a.createElement(V.a,{item:!0,xs:6},c.a.createElement(J.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(D.a)(be.margin,be.textField),variant:"outlined",label:"Nombre",value:b,onChange:function(e){E(e.target.value),Oe(e.target.value)}})),c.a.createElement(V.a,{item:!0,xs:6},c.a.createElement(J.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(D.a)(be.margin,be.textField),variant:"outlined",label:"Precio",value:j,onChange:function(e){C(e.target.value),je(e.target.value)}})),c.a.createElement(V.a,{item:!0,xs:12,sm:6},c.a.createElement(J.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(D.a)(be.margin,be.textField),variant:"outlined",label:"Cantidad",value:N,onChange:function(e){x(e.target.value),he(e.target.value)}})),c.a.createElement(V.a,{item:!0,xs:6},c.a.createElement(G.a,{className:be.filterButton,color:"primary",onClick:function(){T(!0)},size:"small",variant:"outlined"},c.a.createElement(Q.a,{className:be.filterIcon})," Agregar productos"),0===$.length?c.a.createElement("div",{className:be.error},c.a.createElement(K.a,null,"No se han agregado productos")):""),c.a.createElement(V.a,{item:!0,xs:12},c.a.createElement(o.a,{size:"small"},c.a.createElement(d.a,null,c.a.createElement(f.a,null,c.a.createElement(m.a,null,"Producto"),c.a.createElement(m.a,null,"Precio"),c.a.createElement(m.a,{style:{width:160}},"Cantidad"),c.a.createElement(m.a,null,"Eliminar"))),c.a.createElement(u.a,null,$.map((function(e,t){return c.a.createElement(f.a,{key:t},c.a.createElement(m.a,null,e.name),c.a.createElement(m.a,null,e.price),c.a.createElement(m.a,null,c.a.createElement(J.a,{autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(D.a)(be.margin,be.textField),variant:"outlined",label:"Cantidad",margin:"dense",value:e.quantity,onChange:(a=t,function(e){var t=0,n=$.map((function(t,n){return a!==n||(t.quantity=Number(e.target.value)),t}));n.map((function(e,a){console.log("product",e),t+=Number(e.price)*Number(e.quantity)})),w(n),C(t)})})),c.a.createElement(m.a,{className:be.iconWidth},c.a.createElement(W.a,{title:"Editar",placement:"top"},c.a.createElement(Z.a,{className:be.icon,onClick:ye(e)}))));var a}))))),c.a.createElement(V.a,{item:!0,xs:12,sm:12},c.a.createElement(H.a,{open:!0,filesLimit:1,dropzoneText:"Arrastre y suelte un archivo de imagen aqu\xed o haga clic",acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:function(e){s(e[0])}})),c.a.createElement(V.a,{item:!0,xs:2,sm:3},c.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary"},"Actualizar")))))),c.a.createElement(X.a,{onClose:function(){T(!1)},onFilter:null,open:z,getProducts:function(){return $.map((function(e){return e.id}))},selectProduct:function(e){e.quantity=0,w((function(t){return[].concat(Object(_.a)(t),[e])}))}}))},re=a(492),ce=a(943),le=Object(re.a)({},B.esES),ie=Object(l.a)({fragment:{padding:40},margin:{margin:le.spacing(1)},root:{width:"100%",margin:le.spacing(1)},container:{maxHeight:440},iconWidth:{width:10}});function oe(){var e=ie(),t=Object(r.useState)(0),a=Object(n.a)(t,2),l=a[0],g=a[1],b=Object(r.useState)(10),E=Object(n.a)(b,2),v=E[0],O=E[1],C=Object(r.useState)(0),P=Object(n.a)(C,2),F=P[0],z=P[1],B=Object(y.b)(h.b),_=Object(n.a)(B,1)[0],L=Object(y.b)(h.c),V=Object(n.a)(L,1)[0],R=c.a.useState(!1),D=Object(n.a)(R,2),H=D[0],J=D[1],U=Object(r.useState)(!1),Q=Object(n.a)(U,2),K=Q[0],X=Q[1],Y=Object(r.useState)(!1),Z=Object(n.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(r.useState)(!1),re=Object(n.a)(ae,2),oe=re[0],ue=re[1],me=Object(r.useState)({}),se=Object(n.a)(me,2),de=se[0],pe=se[1],fe=Object(r.useState)([]),ge=Object(n.a)(fe,2),be=ge[0],Ee=ge[1];Object(r.useEffect)((function(){je({variables:{start:l,end:v}})}),[]);var ve=Object(y.a)(j,{fetchPolicy:"no-cache",onCompleted:function(){Ee(he.getPacks),z(he.totalPacks)}}),Oe=Object(n.a)(ve,2),je=Oe[0],he=Oe[1].data,ye=function(e){return function(){pe(e),X(!0)}},Ce=function(e){return function(){pe(e),ue(!0)}},ke=function(){te(!1)},Pe=function(){X(!1)},Ne=function(){J(!1)},xe=function(){ue(!1)},Se=function(e){je({variables:{start:l,end:v}}),J(!1)};return c.a.createElement(ce.a,{theme:le},c.a.createElement(r.Fragment,null,c.a.createElement(i.a,{className:e.margin},c.a.createElement(A.a,{onClick:function(){J(!0)},variant:"extended",size:"small",className:e.margin},c.a.createElement(T.a,{className:e.extendedIcon}),"Nuevo paquete"),c.a.createElement(s.a,{className:e.container},c.a.createElement(o.a,{stickyHeader:!0,"aria-label":"sticky table"},c.a.createElement(d.a,null,c.a.createElement(f.a,null,c.a.createElement(m.a,null,"Nombre"),c.a.createElement(m.a,null,"Precio"),c.a.createElement(m.a,null,"Fecha"),c.a.createElement(m.a,{colSpan:4},"Acciones"))),c.a.createElement(u.a,null,be.map((function(t){return c.a.createElement(f.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.id},c.a.createElement(m.a,null,t.name),c.a.createElement(m.a,null,t.price),c.a.createElement(m.a,null,t.date),c.a.createElement(m.a,{className:e.iconWidth},c.a.createElement(W.a,{title:"Editar",placement:"top"},c.a.createElement(k.a,{className:e.icon,onClick:Ce(t)}))),c.a.createElement(m.a,{className:e.iconWidth},c.a.createElement(W.a,{title:"Eliminar",placement:"top"},t.status?c.a.createElement(N.a,{className:e.icon,onClick:(a=t,function(){pe(a),te(!0)})}):c.a.createElement(I.a,{className:e.icon,onClick:ye(t)}))));var a}))))),c.a.createElement(p.a,{rowsPerPageOptions:[10,25,100],component:"div",count:F,rowsPerPage:v,page:l,onChangePage:function(e,t){g(t),je({variables:{start:t,end:v}})},onChangeRowsPerPage:function(e){O(+e.target.value),g(0)}})),c.a.createElement(x.a,{open:H,onClose:Ce,"aria-labelledby":"form-dialog-title"},c.a.createElement(w.a,{id:"form-dialog-title"},"Nuevo paquete"),c.a.createElement(q.a,null,c.a.createElement(M.default,{onCloseCreatePack:Ne,setPack:Se,modal:!0})),c.a.createElement(S.a,null,c.a.createElement(G.a,{onClick:Ne,color:"primary"},"Cerrar"))),c.a.createElement(x.a,{open:oe,onClose:xe,"aria-labelledby":"form-dialog-title"},c.a.createElement(w.a,{id:"form-dialog-title"},"Editar paquete"),c.a.createElement(q.a,null,c.a.createElement(ne,{onCloseEditPack:xe,pack:de,setPack:Se,modal:!0})),c.a.createElement(S.a,null,c.a.createElement(G.a,{onClick:xe,color:"primary"},"Cerrar"))),c.a.createElement(x.a,{open:ee,onClose:ke,"aria-labelledby":"draggable-dialog-title"},c.a.createElement(w.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),c.a.createElement(q.a,null,c.a.createElement($.a,null,"Esta seguro de eliminar este paquete?")),c.a.createElement(S.a,null,c.a.createElement(G.a,{autoFocus:!0,onClick:ke,color:"primary"},"NO"),c.a.createElement(G.a,{onClick:function(){te(!1),_({variables:{id:de.id}}).then((function(e){var t=be.map((function(e,t){return de.id!==e.id||(e.status=!1),e}));Ee(t)}))},color:"primary"},"SI"))),c.a.createElement(x.a,{open:K,onClose:Pe,"aria-labelledby":"draggable-dialog-title"},c.a.createElement(w.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),c.a.createElement(q.a,null,c.a.createElement($.a,null,"Esta seguro de recuperar este paquete?")),c.a.createElement(S.a,null,c.a.createElement(G.a,{autoFocus:!0,onClick:Pe,color:"primary"},"NO"),c.a.createElement(G.a,{onClick:function(){X(!1),V({variables:{id:de.id}}).then((function(e){var t=be.map((function(e,t){return de.id!==e.id||(e.status=!0),e}));Ee(t)}))},color:"primary"},"SI")))))}},955:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(18)).default)(r.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=c},956:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(18)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},960:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(72),r=a(73),c=a.n(r);function l(){var e=Object(n.a)(["\n    query getProductsByName($name: String, $products: [String]) {\n        getProductsByName(name: $name, products: $products) {\n            id\n            name\n            price\n            quantity\n            status\n        }\n    }\n"]);return l=function(){return e},e}function i(){var e=Object(n.a)(["\n    query getProducts($start: Int, $end: Int) {\n        getProducts(start: $start, end: $end) {\n            id\n            name\n            price\n            quantity\n            status\n        },\n        totalProducts\n    }\n"]);return i=function(){return e},e}function o(){var e=Object(n.a)(["\n    query getProducts($start: Int, $end: Int) {\n        getProducts(start: $start, end: $end) {\n            id\n            name\n            price\n            quantity\n        }\n    }\n"]);return o=function(){return e},e}c()(o());var u=c()(i()),m=c()(l())},961:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(18)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=c},962:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a(72),r=a(73),c=a.n(r);function l(){var e=Object(n.a)(["\n  mutation restorePack($id:ID) {\n    restorePack(id: $id) \n  } \n"]);return l=function(){return e},e}function i(){var e=Object(n.a)(["\n  mutation deletePack($id:ID) {\n    deletePack(id: $id) \n  } \n"]);return i=function(){return e},e}function o(){var e=Object(n.a)(["\n  mutation updatePack($input: PackWebInput, $file: Upload) \n  {\n    updatePack(input: $input, file: $file)\n    {\n      id\n      name\n    }\n  }\n"]);return o=function(){return e},e}function u(){var e=Object(n.a)(["\n  mutation createPack($input: PackWebInput, $file: Upload) \n  {\n    createPack(input: $input, file: $file)\n    {\n        id\n        name\n        price\n    }\n  }\n"]);return u=function(){return e},e}var m=c()(u()),s=c()(o()),d=c()(i()),p=c()(l())},964:function(e,t,a){"use strict";var n=a(144),r=a(21),c=a(14),l=a(1),i=a.n(l),o=a(3),u=a(891),m=a(143),s=a(960),d=a(987),p=a(991),f=a(990),g=a(988),b=a(989),E=a(934),v=a(922),O=a(919),j=a(935),h=a(120),y=a.n(h),C=a(276),k=a.n(C),P=Object(u.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},drawer:{width:620,maxWidth:"100%"},header:{padding:e.spacing(2,1),display:"flex",justifyContent:"space-between"},buttonIcon:{marginRight:e.spacing(1)},content:{padding:e.spacing(0,3),flexGrow:1},contentSection:{padding:e.spacing(2,0)},contentSectionHeader:{display:"flex",justifyContent:"space-between",cursor:"pointer"},contentSectionContent:{},formGroup:{padding:e.spacing(2,0)},fieldGroup:{display:"flex",alignItems:"center"},field:{marginTop:0,marginBottom:0},flexGrow:{flexGrow:1},addButton:{marginLeft:e.spacing(1)},tags:{marginTop:e.spacing(1)},minAmount:{marginRight:e.spacing(3)},maxAmount:{marginLeft:e.spacing(3)},radioGroup:{},actions:{padding:e.spacing(3),"& > * + *":{marginTop:e.spacing(2)}}}}));t.a=function(e){var t=e.open,a=e.onClose,u=(e.onFilter,e.selectProduct,e.getProducts,e.className),h=Object(c.a)(e,["open","onClose","onFilter","selectProduct","getProducts","className"]),C=Object(l.useState)([]),N=Object(r.a)(C,2),x=N[0],S=N[1],q=Object(l.useState)(""),$=Object(r.a)(q,2),w=$[0],F=$[1],I=P(),W=Object(m.a)(s.a,{fetchPolicy:"no-cache",onCompleted:function(){G?console.log("Cargando "):(console.log(B),S(B.getProductsByName))}}),z=Object(r.a)(W,2),T=z[0],A=z[1],B=A.data,G=A.loading;return i.a.createElement(E.a,{anchor:"right",classes:{paper:I.drawer},onClose:a,open:t,variant:"temporary"},i.a.createElement("form",Object.assign({},h,{className:Object(o.a)(I.root,u)}),i.a.createElement("div",{className:I.header},i.a.createElement(v.a,{onClick:a,size:"small"},i.a.createElement(y.a,{className:I.buttonIcon}),"Close")),i.a.createElement("div",{className:I.content},i.a.createElement("div",{className:I.contentSection},i.a.createElement(O.a,null),i.a.createElement("div",{className:I.formGroup},i.a.createElement(j.a,{className:I.field,fullWidth:!0,label:"Nombre del producto",autoComplete:"off",margin:"dense",name:"name",autoFocus:!0,onChange:function(t){F(t.target.value),t.target.value.toString().trim().length>0?T({variables:{name:t.target.value,products:e.getProducts()},fetchPolicy:"no-cache"}):S([])},value:w,variant:"outlined"})),i.a.createElement("div",{className:I.formGroup},i.a.createElement(d.a,null,i.a.createElement(g.a,null,i.a.createElement(b.a,null,i.a.createElement(f.a,null,"Producto"),i.a.createElement(f.a,null,"Precio"),i.a.createElement(f.a,null,"Cantidad"),i.a.createElement(f.a,null,"Agregar"))),i.a.createElement(p.a,null,x.map((function(t,a){return i.a.createElement(b.a,{key:a},i.a.createElement(f.a,null,t.name),i.a.createElement(f.a,null,t.price),i.a.createElement(f.a,null,t.quantity),i.a.createElement(f.a,null,i.a.createElement(v.a,{color:"primary",size:"small",variant:"outlined",onClick:function(){!function(t,a){var r=x;r.splice(a,1),S(Object(n.a)(r)),e.selectProduct(t)}(t,a)}},"Agregar")))}))))))),i.a.createElement("div",{className:I.actions},i.a.createElement(v.a,{fullWidth:!0,onClick:function(){F(""),S([])},variant:"contained"},i.a.createElement(k.a,{className:I.buttonIcon}),"Limpiar"))))}},992:function(e,t,a){"use strict";var n=a(2),r=a(1),c=(a(8),a(10)),l=a(71),i=r.forwardRef((function(e,t){return r.createElement(l.a,Object(n.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(c.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(i)},993:function(e,t,a){"use strict";a.r(t);var n=a(144),r=a(21),c=a(1),l=a.n(c),i=a(143),o=a(920),u=a(16),m=a(141),s=a(933),d=a(1004),p=a(3),f=a(987),g=a(284),b=a.n(g),E=a(991),v=a(990),O=a(988),j=a(989),h=a(922),y=a(959),C=a(964),k=a(935),P=a(963),N=a.n(P),x=a(917),S=a(962),q=a(953),$=a.n(q),w=a(71),F=a(40),I=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(u.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary,marginTop:10},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)},error:{color:"#f44336"}}}));t.default=Object(F.g)((function(e){var t=l.a.useState({}),a=Object(r.a)(t,2),o=a[0],u=a[1],g=l.a.useState([]),P=Object(r.a)(g,2),q=P[0],F=P[1],W=Object(c.useState)(!1),z=Object(r.a)(W,2),T=z[0],A=z[1],B=Object(c.useState)(""),G=Object(r.a)(B,2),M=G[0],_=G[1],L=Object(c.useState)(""),V=Object(r.a)(L,2),R=V[0],D=V[1],H=Object(c.useState)(""),J=Object(r.a)(H,2),U=J[0],Q=J[1],K=Object(c.useState)(!1),X=Object(r.a)(K,2),Y=X[0],Z=X[1],ee=Object(c.useState)(""),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],re=Object(c.useState)(!1),ce=Object(r.a)(re,2),le=ce[0],ie=ce[1],oe=Object(c.useState)(""),ue=Object(r.a)(oe,2),me=ue[0],se=ue[1],de=Object(c.useState)(!1),pe=Object(r.a)(de,2),fe=pe[0],ge=pe[1],be=Object(c.useState)(""),Ee=Object(r.a)(be,2),ve=Ee[0],Oe=Ee[1],je=Object(i.b)(S.a),he=Object(r.a)(je,1)[0],ye=I(),Ce=function(e){var t=void 0!==e?e:M;return null==t||""===t.toString().trim()?(Z(!0),ne("Este campo es requerido"),1):(Z(!1),ne(""),0)},ke=function(e){var t=void 0!==e?e:R;return null==t||""===t.toString().trim()?(ie(!0),se("Este campo es requerido"),1):Number(t)<=0?(ie(!0),se("Valor no permitido"),1):(ie(!1),se(""),0)},Pe=function(e){var t=void 0!==e?e:U;return null==t||""===t.toString().trim()?(ge(!0),Oe("Este campo es requerido"),1):Number(t)<0?(ge(!0),Oe("Valor no permitido"),1):(ge(!1),Oe(""),0)},Ne=function(e){return function(){var t=q.filter((function(t){return t!==e}));F(t)}},xe=function(t){if(0===function(){var e=0;return e+=Ce(),e+=ke(),e+=Pe()}()&&q.length>0){var a=[];q.forEach((function(e){a.push({product:e.id,quantity:Number(e.quantity)})}));var n={name:M,price:parseFloat(R),quantity:parseFloat(U),pack_products:a};he({variables:{input:n,file:o}}).then((function(t){t.data.createPack&&($.a.fire({icon:"success",title:"El paquete fue creado exitosamente",showConfirmButton:!1,timer:1500}),e.setPack(n))}))}};return l.a.createElement(c.Fragment,null,l.a.createElement(d.a,{maxWidth:"md"},l.a.createElement(m.a,{className:ye.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),xe()}},l.a.createElement(s.a,{container:!0,spacing:3},l.a.createElement(s.a,{item:!0,xs:6},l.a.createElement(k.a,{fullWidth:!0,error:Y,helperText:ae,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(p.a)(ye.margin,ye.textField),variant:"outlined",label:"Nombre del paquete",value:M,onChange:function(e){_(e.target.value),Ce(e.target.value)}})),l.a.createElement(s.a,{item:!0,xs:6},l.a.createElement(k.a,{fullWidth:!0,error:le,helperText:me,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(p.a)(ye.margin,ye.textField),variant:"outlined",label:"Precio del paquete",value:R,type:"number",onChange:function(e){D(e.target.value),ke(e.target.value)}})),l.a.createElement(s.a,{item:!0,xs:12,sm:6},l.a.createElement(k.a,{fullWidth:!0,error:fe,helperText:ve,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(p.a)(ye.margin,ye.textField),variant:"outlined",label:"Cantidad",value:U,onChange:function(e){Q(e.target.value),Pe(e.target.value)}})),l.a.createElement(s.a,{item:!0,xs:6},l.a.createElement(h.a,{className:ye.filterButton,color:"primary",onClick:function(){A(!0)},size:"small",variant:"outlined"},l.a.createElement(b.a,{className:ye.filterIcon})," Agregar productos"),0===q.length?l.a.createElement("div",{className:ye.error},l.a.createElement(w.a,null,"No se han agregado productos")):""),l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(f.a,{size:"small"},l.a.createElement(O.a,null,l.a.createElement(j.a,null,l.a.createElement(v.a,null,"Producto"),l.a.createElement(v.a,null,"Precio"),l.a.createElement(v.a,{style:{width:160}},"Cantidad"),l.a.createElement(v.a,null,"Quitar"))),l.a.createElement(E.a,null,q.map((function(e,t){return l.a.createElement(j.a,{key:t},l.a.createElement(v.a,null,e.name),l.a.createElement(v.a,null,e.price),l.a.createElement(v.a,null,l.a.createElement(k.a,{autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(p.a)(ye.margin,ye.textField),variant:"outlined",label:"Cantidad",margin:"dense",value:e.quantity,onChange:(a=t,function(e){var t=0,n=q.map((function(t,n){return a!==n||(t.quantity=e.target.value),t}));n.map((function(e,a){console.log(e),t+=Number(e.price)*Number(e.quantity)})),F(n),D(t)})})),l.a.createElement(v.a,{className:ye.iconWidth},l.a.createElement(x.a,{title:"Editar",placement:"top"},l.a.createElement(N.a,{className:ye.icon,onClick:Ne(e)}))));var a}))))),l.a.createElement(s.a,{item:!0,xs:12,sm:12},l.a.createElement(y.a,{open:!0,filesLimit:1,dropzoneText:"Arrastre y suelte un archivo de imagen aqu\xed o haga clic",acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:function(e){u(e[0])}})),l.a.createElement(s.a,{item:!0,xs:2,sm:3},l.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary"},"Crear")))))),l.a.createElement(C.a,{onClose:function(){A(!1)},onFilter:null,open:T,getProducts:function(e){return q.map((function(e){return e.id}))},selectProduct:function(e){e.quantity=0,F((function(t){return[].concat(Object(n.a)(t),[e])}))}}))}))}}]);
//# sourceMappingURL=11.d8cbc532.chunk.js.map