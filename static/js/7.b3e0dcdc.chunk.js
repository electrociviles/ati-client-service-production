(this.webpackJsonpati=this.webpackJsonpati||[]).push([[7],{1054:function(e,a,t){"use strict";t.r(a);var n=t(18),r=t(11),c=t(1),l=t.n(c),o=t(914),s=t(1037),i=t(1038),m=t(1040),u=t(1042),d=t(1039),p=t(127),E=t(930),g=t(13),b=(t(961),t(968),t(906)),f=t(1055),v=t(1048),O=t(1053),j=t(24),h=t(1046),_=t(250),N=t(947),C=t(916),y=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],s=Object(c.useState)(""),i=Object(n.a)(s,2),m=i[0],u=i[1],d=Object(c.useState)(!1),p=Object(n.a)(d,2),g=p[0],b=p[1];Object(c.useEffect)((function(){e.project&&(o(e.project),u(e.project.observation))}),[r,e.project]);return l.a.createElement(c.Fragment,null,l.a.createElement(N.a,null),l.a.createElement("div",{className:"project__info"},r?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"project_name"},r.name),l.a.createElement("div",{className:"project_type"},"tri"===r.type?"Trif\xe1sico":"Monof\xe1sico"),l.a.createElement("div",{className:"board_observation"},l.a.createElement(c.Fragment,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,margin:"dense",label:"Observaciones",value:m,onChange:function(e){u(e.target.value)},fullWidth:!0}),g?l.a.createElement(c.Fragment,null,l.a.createElement(h.a,null)):l.a.createElement(C.a,{onClick:function(){b(!0);var e={id:r._id,observations:m};Object(_.q)(e).then((function(e){b(!1),"success"==e.status?N.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):N.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"Actualizar Observaciones")))):""))},S=t(909),k=t(923),x=t(913),w=t(910),I=t(1028),F=(t(969),function(e){var a=Object(c.useState)(""),t=Object(n.a)(a,2),r=t[0],o=t[1];return Object(c.useEffect)((function(){o(e.url)}),[e.url]),l.a.createElement("div",null,r?l.a.createElement(I.a,{src:r,zoomSrc:r}):"")}),P=t(1004),T=t(927),B=t(1045),W=t(1043),M=(t(970),t(942)),R=t(874),A=t(955),D=t.n(A),z=(t(956),l.a.forwardRef((function(e,a){return l.a.createElement(R.a,Object.assign({direction:"up",ref:a},e))}))),H=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(!1),p=Object(n.a)(u,2),g=p[0],b=p[1],f=Object(c.useState)(""),v=Object(n.a)(f,2),O=v[0],y=v[1],I=Object(c.useState)(""),R=Object(n.a)(I,2),A=R[0],H=R[1],L=Object(c.useState)(!1),V=Object(n.a)(L,2),G=V[0],U=V[1],J=Object(c.useState)([]),q=Object(n.a)(J,2),Z=(q[0],q[1]),K=Object(c.useState)(""),Q=Object(n.a)(K,2),X=Q[0],Y=(Q[1],Object(c.useState)(null)),$=Object(n.a)(Y,2),ee=$[0],ae=$[1],te=Object(c.useState)([]),ne=Object(n.a)(te,2),re=ne[0],ce=ne[1],le=Object(c.useState)([]),oe=Object(n.a)(le,2),se=oe[0],ie=oe[1],me=Object(c.useState)([]),ue=Object(n.a)(me,2),de=ue[0],pe=ue[1],Ee=Object(c.useState)([]),ge=Object(n.a)(Ee,2),be=ge[0],fe=ge[1],ve=Object(c.useState)([]),Oe=Object(n.a)(ve,2),je=Oe[0],he=Oe[1];Object(c.useEffect)((function(){o(e.project),e.project&&Z(e.project.boards)}),[X,r,e.project]);var _e=function(e){return function(a){console.log(e),H(e.observations);var t=e.itemsBoards.map((function(e){return 0===e.photos.length&&(e.photos=[{url:"default.png",type:"remote"}]),e}));e.itemsBoards=t,ae(e),H(e.observation),console.log(e.observation);var n=e.itemsBoards.filter((function(e){return"before"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:Ne("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));ce(n);var r=e.itemsBoards.filter((function(e){return"voltaje"==e.item.type})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:Ne("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));ie(r);var c=e.itemsBoards.filter((function(e){return"corriente"==e.item.type})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:Ne("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));pe(c);var o=e.itemsBoards.filter((function(e){return"after"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:Ne("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));fe(o);var s=e.itemsBoards.filter((function(e){return"finding"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:Ne("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));he(s)}},Ne=function(e){return function(a){y(e),b(!0)}},Ce=function(e){return function(a){Object(_.s)(e._id).then((function(a){if("success"===a.status){switch(e.item.mode){case"before":var t=re.map((function(a){return console.log("cell ",a),a._id===e._id&&(a.status="activo"),a}));ce(t);break;case"after":var n=be.map((function(a){return a._id===e._id&&(a.status="activo"),a}));fe(n)}switch(e.item.type){case"voltaje":var r=re.map((function(a){return a._id===e._id&&(a.status="activo"),a}));ie(r);break;case"corriente":var c=de.map((function(a){return a._id===e._id&&(a.status="activo"),a}));pe(c)}}}))}},ye=function(){b(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(N.a,null),l.a.createElement(S.a,null,l.a.createElement(k.a,{title:"TABLEROS"}),l.a.createElement(x.a,null),l.a.createElement(w.a,null,l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r?r.boards.map((function(e,a){return l.a.createElement("div",{key:a,className:"board_item"},l.a.createElement(M.a,{size:"small",color:"primary",label:e.name,variant:"outlined",onClick:_e(e)}))})):""),l.a.createElement("div",{className:"board_observations"},l.a.createElement(c.Fragment,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,margin:"dense",label:"Observaciones",value:A,onChange:function(e){H(e.target.value)},fullWidth:!0}),G?l.a.createElement(c.Fragment,null,l.a.createElement(h.a,null)):l.a.createElement(C.a,{onClick:function(){console.log(A),U(!0);var e={id:ee._id,observations:A};Object(_.p)(e).then((function(e){U(!1),"success"==e.status?N.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):N.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"Actualizar Observaciones"))))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"project__wrapper"},l.a.createElement("div",{className:"project__board__wrapper"},l.a.createElement(c.Fragment,null,je.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"HALLAZGOS"),l.a.createElement("div",{className:"aux_title"},l.a.createElement("span",{className:"bold"}," Titulo:")," ",je[0].title),l.a.createElement("div",{className:"aux_observations"},l.a.createElement("span",{className:"bold"},"Observaciones:")," ",je[0].observations),l.a.createElement("div",{className:"board__item__wrapper"},je.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(P.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"",re.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"ANTES DE MANTENIMIENTO"),l.a.createElement("div",{className:"board__item__wrapper"},re.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(P.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"",se.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"VOLTAJES"),l.a.createElement("div",{className:"board__item__wrapper"},se.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#".concat(e.item.colorOne),color:"#".concat(e.item.textColorOne)}},e.item.letterOne),l.a.createElement("div",{className:"card_color_right",style:{backgroundColor:"#".concat(e.item.colorTwo),color:"#".concat(e.item.textColorTwo)}},e.item.letterTwo)):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(P.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500})),l.a.createElement("div",{className:"card_footer"},l.a.createElement("span",{className:"text_value"},"Valor:"),e.item.value))})))):"",de.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"CORRIENTES"),l.a.createElement("div",{className:"board__item__wrapper"},de.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color",style:{backgroundColor:"#".concat(e.item.colorOne),color:"#".concat(e.item.textColorOne)}},e.item.letterOne)),l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(P.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500})),l.a.createElement("div",{className:"card_footer"},l.a.createElement("span",{className:"text_value"},"Valor:"),e.item.value))})))):"",be.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"DESPUES DE MANTENIMIENTO"),l.a.createElement("div",{className:"board__item__wrapper"},be.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(P.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"")))))))),l.a.createElement(T.a,{fullWidth:!0,maxWidth:"sm",open:g,onClose:ye,TransitionComponent:z},l.a.createElement(W.a,null,l.a.createElement(F,{url:O})),l.a.createElement(B.a,null,l.a.createElement(C.a,{autoFocus:!0,onClick:ye,color:"primary"},"Cerrar")))))},L=l.a.forwardRef((function(e,a){return l.a.createElement(R.a,Object.assign({direction:"up",ref:a},e))})),V=function(e){console.log(e.project);var a=Object(c.useState)([]),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(""),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(!1),f=Object(n.a)(b,2),v=(f[0],f[1],Object(c.useState)(!1)),O=Object(n.a)(v,2),h=O[0],_=O[1];Object(c.useEffect)((function(){var a=e.project.aroundItems.map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:N("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));o(a)}),[]);var N=function(e){return function(a){g(e),console.log("Url",e),_(!0)}},y=function(){_(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"title_action"},"IMAGENES DEL ENTORNO"))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))}))))))),l.a.createElement(T.a,{fullWidth:!0,maxWidth:"sm",open:h,onClose:y,TransitionComponent:L},l.a.createElement(W.a,null,l.a.createElement(F,{url:E})),l.a.createElement(B.a,null,l.a.createElement(C.a,{autoFocus:!0,onClick:y,color:"primary"},"Cerrar"))))},G=l.a.forwardRef((function(e,a){return l.a.createElement(R.a,Object.assign({direction:"up",ref:a},e))})),U=function(e){console.log(e.project);var a=Object(c.useState)([]),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(""),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(!1),f=Object(n.a)(b,2),v=(f[0],f[1],Object(c.useState)(!1)),O=Object(n.a)(v,2),h=O[0],_=O[1];Object(c.useEffect)((function(){var a=e.project.outletSampling.map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(j.a.urlImages).concat(e.url),onClick:N("".concat(j.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));o(a)}),[]);var N=function(e){return function(a){g(e),console.log("Url",e),_(!0)}},y=function(){_(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"project__info"},l.a.createElement("div",{className:"project__wrapper"},l.a.createElement("div",{className:"project__board__wrapper"},l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"title_action"},"MUESTREO DE TOMAS"))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(D.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))))))))),l.a.createElement(T.a,{fullWidth:!0,maxWidth:"sm",open:h,onClose:y,TransitionComponent:G},l.a.createElement(W.a,null,l.a.createElement(F,{url:E})),l.a.createElement(B.a,null,l.a.createElement(C.a,{autoFocus:!0,onClick:y,color:"primary"},"Cerrar"))))},J=t(963),q=t(90),Z=t(221);function K(e){var a=e.children,t=e.value,n=e.index,c=Object(r.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},c),t===n&&l.a.createElement(O.a,{p:3},l.a.createElement("div",null,a)))}function Q(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}var X=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(g.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),Y=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],s=X(),i=l.a.useState(0),m=Object(n.a)(i,2),u=m[0],d=m[1];return Object(c.useEffect)((function(){o(e.project)}),[r,e.project]),l.a.createElement("div",{className:s.root},l.a.createElement(b.a,{position:"static",color:"default"},l.a.createElement(f.a,{value:u,onChange:function(e,a){d(a)},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example"},l.a.createElement(v.a,Object.assign({label:"Informaci\xf3n del proyecto",icon:l.a.createElement(J.b,{className:"icon"})},Q(0))),l.a.createElement(v.a,Object.assign({label:"Tableros",icon:l.a.createElement(J.a,{className:"icon"})},Q(1))),l.a.createElement(v.a,Object.assign({label:"Fotos del entorno",icon:l.a.createElement(q.e,{className:"icon"})},Q(2))),l.a.createElement(v.a,Object.assign({label:"Muestreo de tomas",icon:l.a.createElement(Z.a,{className:"icon"})},Q(3))))),l.a.createElement(K,{value:u,index:0},l.a.createElement(y,{project:r})),l.a.createElement(K,{value:u,index:1},l.a.createElement(H,{project:r})),l.a.createElement(K,{value:u,index:2},l.a.createElement(V,{project:r})),l.a.createElement(K,{value:u,index:3},l.a.createElement(U,{project:r})))},$=t(928),ee=t(1005),ae=t(3),te=t(920),ne=t(1056),re=t(66),ce=(t(951),Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(g.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var le=function(e){Object(c.useEffect)((function(){console.log(e),Object(_.j)().then((function(e){O(e.customers)})),e.person}),[]);var a=Object(c.useState)(""),t=Object(n.a)(a,2),r=t[0],o=t[1],s=Object(c.useState)(!1),i=Object(n.a)(s,2),m=i[0],u=(i[1],Object(c.useState)({})),d=Object(n.a)(u,2),g=(d[0],d[1],ce()),b=Object(c.useState)([]),f=Object(n.a)(b,2),v=f[0],O=f[1],j=Object(c.useState)(),h=Object(n.a)(j,2),y=h[0],S=h[1],k=Object(c.useState)(""),x=Object(n.a)(k,2),w=x[0],I=x[1],F=Object(c.useState)(""),P=Object(n.a)(F,2),T=(P[0],P[1],Object(c.useState)("")),B=Object(n.a)(T,2),W=(B[0],B[1],Object(c.useState)("")),R=Object(n.a)(W,2),A=(R[0],R[1],Object(c.useState)(null)),D=Object(n.a)(A,2),z=(D[0],D[1],Object(c.useState)(!1)),H=Object(n.a)(z,2),L=H[0],V=H[1],G=Object(c.useState)(""),U=Object(n.a)(G,2),J=U[0],q=U[1],Z=Object(c.useState)(!1),K=Object(n.a)(Z,2),Q=(K[0],K[1],Object(c.useState)("")),X=Object(n.a)(Q,2),Y=(X[0],X[1],function(e){var a=void 0!==e?e:w;return null==a||""===a.toString().trim()?(V(!0),q("Este campo es requerido"),1):(V(!1),q(""),0)}),le=function(a){if(0===function(){var e=0;return e+=Y()}()){var t={name:w,type:r,customer:y._id,observation:""};e.person?Object(_.w)(t).then((function(e){console.log("response",e),"success"==e.status?N.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):N.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):Object(_.c)(t).then((function(a){console.log("response",a),"success"==a.status?(N.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onClose(),e.onRefreshProjects()):N.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else N.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(c.Fragment,null,l.a.createElement(N.a,null),l.a.createElement(ee.a,{maxWidth:"md"},l.a.createElement(p.a,{className:g.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),le()}},l.a.createElement($.a,{container:!0,spacing:3},l.a.createElement($.a,{item:!0,xs:12,sm:4},l.a.createElement(E.a,{fullWidth:!0,select:!0,className:Object(ae.a)(g.margin,g.textField),variant:"outlined",label:"Tipo",margin:"dense",value:r,onChange:function(e){o(e.target.value)}},l.a.createElement(te.a,{key:"tri",value:"tri"},"Trif\xe1sico"),l.a.createElement(te.a,{key:"mono",value:"mono"},"Monof\xe1sico"))),l.a.createElement($.a,{item:!0,xs:12,sm:8},l.a.createElement(ne.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:v,autoComplete:!0,getOptionSelected:function(e,a){return e===a},onChange:function(e,a){S(a)},onInputChange:function(e,a){if(console.log("newInputValue",a),a.toString().trim().length>0){var t={search:a.toString().trim()};Object(_.j)(t).then((function(e){O(e.customers)}))}},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(M.a,Object.assign({label:e.name},a({index:t}),{disabled:-1!==v.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement($.a,{container:!0,alignItems:"center"},l.a.createElement($.a,{item:!0,xs:!0},l.a.createElement(re.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement($.a,{item:!0,xs:12,sm:12},l.a.createElement(E.a,{fullWidth:!0,error:L,helperText:J,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(ae.a)(g.margin,g.textField),variant:"outlined",label:"Descripci\xf3n",value:w,onChange:function(e){I(e.target.value),Y(e.target.value)}})),l.a.createElement($.a,{item:!0,xs:2,sm:3},l.a.createElement(C.a,{disabled:m,type:"submit",variant:"contained",color:"primary"},e.person?"Actualizar":"Guardar")))))))},oe=t(1044),se=t(1060),ie=t(9),me=t(1041),ue=t(912),de=t(105),pe=t.n(de),Ee=t(268),ge=t.n(Ee),be=t(937),fe=t(1006),ve=t.n(fe),Oe=t(1049),je=Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),he=Object(ie.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,c=Object(r.a)(e,["children","classes","onClose"]);return l.a.createElement(me.a,Object.assign({disableTypography:!0,className:t.root},c),l.a.createElement(re.a,{variant:"h6"},a),n?l.a.createElement(ue.a,{"aria-label":"close",className:t.closeButton,onClick:n},l.a.createElement(pe.a,null)):null)})),_e=l.a.forwardRef((function(e,a){return l.a.createElement(R.a,Object.assign({direction:"up",ref:a},e))}));a.default=function(e){Object(c.useEffect)((function(){Object(_.k)().then((function(e){console.log("*****************************"),console.log(e),g(e.projects),k(e.count)}))}),[]);var a=je(),t=Object(c.useState)([]),r=Object(n.a)(t,2),o=r[0],g=r[1],b=Object(c.useState)(null),f=Object(n.a)(b,2),v=f[0],O=f[1],j=Object(c.useState)(0),y=Object(n.a)(j,2),S=y[0],k=y[1],x=Object(c.useState)(0),w=Object(n.a)(x,2),I=w[0],F=w[1],P=Object(c.useState)(3),R=Object(n.a)(P,2),A=R[0],D=R[1],z=Object(c.useState)(!1),H=Object(n.a)(z,2),L=H[0],V=H[1],G=Object(c.useState)(!1),U=Object(n.a)(G,2),J=U[0],K=U[1],Q=Object(c.useState)(!1),X=Object(n.a)(Q,2),$=X[0],ee=X[1],ae=Object(c.useState)(!1),te=Object(n.a)(ae,2),ne=te[0],re=te[1],ce=Object(c.useState)(""),ie=Object(n.a)(ce,2),me=ie[0],ue=ie[1],de=Object(c.useState)(!1),pe=Object(n.a)(de,2),Ee=pe[0],fe=pe[1],Ne=Object(c.useState)(!1),Ce=Object(n.a)(Ne,2),ye=(Ce[0],Ce[1],function(){V(!1)}),Se=function(e){return function(){O(e),K(!0)}},ke=function(e){return function(){re(!0),O(e)}},xe=function(){K(!1)},we=function(){ee(!1)},Ie=function(){re(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(N.a,null),l.a.createElement(p.a,{className:a.paper},l.a.createElement(be.a,{onClick:function(){ee(!0)},variant:"extended",color:"primary",size:"small",className:a.margin},l.a.createElement(ge.a,{className:a.extendedIcon}),"Nuevo proyecto"),l.a.createElement(Oe.a,{component:p.a},l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,"DESCRIPCI\xd3N"),l.a.createElement(m.a,null,"CLIENTE"),l.a.createElement(m.a,null,"TABLEROS"),l.a.createElement(m.a,null,"DETALLE"),l.a.createElement(m.a,null,"ENVIAR INFORME"),l.a.createElement(m.a,null,"OBSERVACIONES"))),l.a.createElement(i.a,null,o.map((function(e){return l.a.createElement(d.a,{key:e._id},l.a.createElement(m.a,null,e.name," "),l.a.createElement(m.a,null,e.customer.name),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(M.a,{size:"small",label:e.boards.length,variant:"outlined"})),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(Z.b,{className:"icon",onClick:Se(e)})),l.a.createElement(m.a,{className:a.iconWidth},e.loading?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(h.a,{size:16})):l.a.createElement(Z.c,{className:"icon",onClick:(t=e._id,function(){console.log(t);var e=o.map((function(e){return e._id===t?e.loading=!0:e.loading=!1,e}));g(e),Object(_.o)(t).then((function(e){var a=o.map((function(e){return e.loading=!1,e}));g(a),"success"===e.status?ve.a.fire({icon:"success",title:"Mensaje",text:e.message,showConfirmButton:!1,timer:3e3}):ve.a.fire({icon:"error",title:"Error",text:e.message,showConfirmButton:!1,timer:3e3})})).catch((function(e){console.log(e),fe(!1)}))})})),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(q.a,{className:"icon",onClick:ke(e)})));var t}))))),l.a.createElement(se.a,{rowsPerPageOptions:[1,25,100],component:"div",count:S,rowsPerPage:A,page:I,onChangePage:function(e,a){F(a)},onChangeRowsPerPage:function(e){D(+e.target.value),F(0)}})),l.a.createElement(T.a,{open:L,onClose:ye},l.a.createElement(he,null,"Alerta"),l.a.createElement(W.a,null,l.a.createElement(oe.a,null,"Esta seguro de eliminar esta atenci\xf3n?")),l.a.createElement(B.a,null,l.a.createElement(C.a,{autoFocus:!0,onClick:ye,color:"primary"},"NO"),l.a.createElement(C.a,{onClick:function(e){V(!1),Object(_.g)(e).then((function(a){if("success"===a.status){N.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=o.map((function(a){return e!==a._id||(a.status="deleted"),a}));g(t)}else N.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){N.b.error("Ocurri\xf3 un error al eliminar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(T.a,{maxWidth:"md",open:$,onClose:we,TransitionComponent:_e},l.a.createElement(W.a,null,l.a.createElement(le,{onRefreshProjects:function(){Object(_.k)().then((function(e){g(e.projects),k(e.count),D(1)}))},onClose:we,project:v})),l.a.createElement(B.a,null,l.a.createElement(C.a,{autoFocus:!0,onClick:we,color:"primary"},"Cerrar"))),l.a.createElement(T.a,{fullWidth:!0,fullScreen:!0,open:J,onClose:xe,TransitionComponent:_e},l.a.createElement(W.a,null,l.a.createElement(Y,{project:v})),l.a.createElement(B.a,null,l.a.createElement(C.a,{autoFocus:!0,onClick:xe,color:"primary"},"Cerrar"))),l.a.createElement(T.a,{fullWidth:!0,maxWidth:"sm",open:ne,onClose:Ie},l.a.createElement(he,null,"Observaciones"),l.a.createElement(W.a,null,l.a.createElement(oe.a,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,autoFocus:!0,margin:"dense",id:"name",label:"Observaciones",onChange:function(e){ue(e.target.value)},fullWidth:!0}))),l.a.createElement(B.a,null,Ee?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(h.a,null)):l.a.createElement(c.Fragment,null,l.a.createElement(C.a,{autoFocus:!0,onClick:Ie,color:"primary"},"Cancelar"),l.a.createElement(C.a,{onClick:function(){console.log(me),console.log(v),fe(!0);var e={observations:me,id:v._id};Object(_.n)(e).then((function(e){fe(!1),re(!1),"success"===e.status?ve.a.fire({icon:"success",title:"Mensaje",text:e.message,showConfirmButton:!1,timer:3e3}):ve.a.fire({icon:"error",title:"Error",text:e.message,showConfirmButton:!1,timer:3e3})})).catch((function(e){console.log(e),fe(!1)}))},color:"primary"},"Guardar")))))}},961:function(e,a,t){}}]);
//# sourceMappingURL=7.b3e0dcdc.chunk.js.map