(this.webpackJsonpati=this.webpackJsonpati||[]).push([[5],{1018:function(e,a,t){},1099:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t(11),c=t(1),l=t.n(c),o=t(931),i=t(265),s=t(266),m=t(26),u=t(936),d=t(36),p=t(114),E=t(484),g=t(552),b=t(12),f=(t(1018),t(1046),t(549)),v=t(959),O=t(954),j=t(958),h=t(15),_=t(937),N=t(65),C=t(1004),y=t(204),S=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],i=Object(c.useState)(""),s=Object(n.a)(i,2),m=s[0],u=s[1],d=Object(c.useState)(!1),p=Object(n.a)(d,2),g=p[0],b=p[1];Object(c.useEffect)((function(){e.project&&(o(e.project),u(e.project.observation))}),[r,e.project]);return l.a.createElement(c.Fragment,null,l.a.createElement(C.a,null),l.a.createElement("div",{className:"project__info"},r?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"project_name"},r.name),l.a.createElement("div",{className:"project_type"},"tri"===r.type?"Trif\xe1sico":"Monof\xe1sico"),l.a.createElement("div",{className:"board_observation"},l.a.createElement(c.Fragment,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,margin:"dense",label:"Observaciones",value:m,onChange:function(e){u(e.target.value)},fullWidth:!0}),g?l.a.createElement(c.Fragment,null,l.a.createElement(_.a,null)):l.a.createElement(y.a,{onClick:function(){b(!0);var e={id:r._id,observations:m};Object(N.D)(e).then((function(e){b(!1),"success"==e.status?C.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):C.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"Actualizar Observaciones")))):""))},k=t(460),w=t(483),x=t(467),I=t(461),F=t(1087),P=(t(1047),function(e){var a=Object(c.useState)(""),t=Object(n.a)(a,2),r=t[0],o=t[1];return Object(c.useEffect)((function(){o(e.url)}),[e.url]),l.a.createElement("div",null,r?l.a.createElement(F.a,{src:r,zoomSrc:r}):"")}),T=t(1082),B=t(711),W=t(713),R=t(712),M=(t(1048),t(271)),A=t(490),D=t(1014),z=t.n(D),H=(t(1015),l.a.forwardRef((function(e,a){return l.a.createElement(A.a,Object.assign({direction:"up",ref:a},e))}))),L=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(!1),p=Object(n.a)(u,2),g=p[0],b=p[1],f=Object(c.useState)(""),v=Object(n.a)(f,2),O=v[0],j=v[1],S=Object(c.useState)(""),F=Object(n.a)(S,2),A=F[0],D=F[1],L=Object(c.useState)(!1),G=Object(n.a)(L,2),V=G[0],U=G[1],J=Object(c.useState)([]),q=Object(n.a)(J,2),Z=(q[0],q[1]),K=Object(c.useState)(""),Q=Object(n.a)(K,2),X=Q[0],Y=(Q[1],Object(c.useState)(null)),$=Object(n.a)(Y,2),ee=$[0],ae=$[1],te=Object(c.useState)([]),ne=Object(n.a)(te,2),re=ne[0],ce=ne[1],le=Object(c.useState)([]),oe=Object(n.a)(le,2),ie=oe[0],se=oe[1],me=Object(c.useState)([]),ue=Object(n.a)(me,2),de=ue[0],pe=ue[1],Ee=Object(c.useState)([]),ge=Object(n.a)(Ee,2),be=ge[0],fe=ge[1],ve=Object(c.useState)([]),Oe=Object(n.a)(ve,2),je=Oe[0],he=Oe[1];Object(c.useEffect)((function(){o(e.project),e.project&&Z(e.project.boards)}),[X,r,e.project]);var _e=function(e){return function(a){console.log(e),D(e.observations);var t=e.itemsBoards.map((function(e){return 0===e.photos.length&&(e.photos=[{url:"default.png",type:"remote"}]),e}));e.itemsBoards=t,ae(e),D(e.observation),console.log(e.observation);var n=e.itemsBoards.filter((function(e){return"before"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:Ne("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));ce(n);var r=e.itemsBoards.filter((function(e){return"voltaje"==e.item.type})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:Ne("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));se(r);var c=e.itemsBoards.filter((function(e){return"corriente"==e.item.type})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:Ne("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));pe(c);var o=e.itemsBoards.filter((function(e){return"after"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:Ne("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));fe(o);var i=e.itemsBoards.filter((function(e){return"finding"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:Ne("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));he(i)}},Ne=function(e){return function(a){j(e),b(!0)}},Ce=function(e){return function(a){Object(N.F)(e._id).then((function(a){if("success"===a.status){switch(e.item.mode){case"before":var t=re.map((function(a){return console.log("cell ",a),a._id===e._id&&(a.status="activo"),a}));ce(t);break;case"after":var n=be.map((function(a){return a._id===e._id&&(a.status="activo"),a}));fe(n)}switch(e.item.type){case"voltaje":var r=re.map((function(a){return a._id===e._id&&(a.status="activo"),a}));se(r);break;case"corriente":var c=de.map((function(a){return a._id===e._id&&(a.status="activo"),a}));pe(c)}}}))}},ye=function(){b(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(C.a,null),l.a.createElement(k.a,null,l.a.createElement(w.a,{title:"TABLEROS"}),l.a.createElement(x.a,null),l.a.createElement(I.a,null,l.a.createElement(i.a,null,l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r?r.boards.map((function(e,a){return l.a.createElement("div",{key:a,className:"board_item"},l.a.createElement(M.a,{size:"small",color:"primary",label:e.name,variant:"outlined",onClick:_e(e)}))})):""),l.a.createElement("div",{className:"board_observations"},l.a.createElement(c.Fragment,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,margin:"dense",label:"Observaciones",value:A,onChange:function(e){D(e.target.value)},fullWidth:!0}),V?l.a.createElement(c.Fragment,null,l.a.createElement(_.a,null)):l.a.createElement(y.a,{onClick:function(){console.log(A),U(!0);var e={id:ee._id,observations:A};Object(N.C)(e).then((function(e){U(!1),"success"==e.status?C.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):C.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"Actualizar Observaciones"))))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"project__wrapper"},l.a.createElement("div",{className:"project__board__wrapper"},l.a.createElement(c.Fragment,null,je.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"HALLAZGOS"),l.a.createElement("div",{className:"aux_title"},l.a.createElement("span",{className:"bold"}," Titulo:")," ",je[0].title),l.a.createElement("div",{className:"aux_observations"},l.a.createElement("span",{className:"bold"},"Observaciones:")," ",je[0].observations),l.a.createElement("div",{className:"board__item__wrapper"},je.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(T.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"",re.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"ANTES DE MANTENIMIENTO"),l.a.createElement("div",{className:"board__item__wrapper"},re.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(T.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"",ie.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"VOLTAJES"),l.a.createElement("div",{className:"board__item__wrapper"},ie.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#".concat(e.item.colorOne),color:"#".concat(e.item.textColorOne)}},e.item.letterOne),l.a.createElement("div",{className:"card_color_right",style:{backgroundColor:"#".concat(e.item.colorTwo),color:"#".concat(e.item.textColorTwo)}},e.item.letterTwo)):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(T.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500})),l.a.createElement("div",{className:"card_footer"},l.a.createElement("span",{className:"text_value"},"Valor:"),e.item.value))})))):"",de.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"CORRIENTES"),l.a.createElement("div",{className:"board__item__wrapper"},de.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color",style:{backgroundColor:"#".concat(e.item.colorOne),color:"#".concat(e.item.textColorOne)}},e.item.letterOne)),l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(T.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500})),l.a.createElement("div",{className:"card_footer"},l.a.createElement("span",{className:"text_value"},"Valor:"),e.item.value))})))):"",be.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"DESPUES DE MANTENIMIENTO"),l.a.createElement("div",{className:"board__item__wrapper"},be.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(T.a,{className:"icon",onClick:Ce(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"")))))))),l.a.createElement(B.a,{fullWidth:!0,maxWidth:"sm",open:g,onClose:ye,TransitionComponent:H},l.a.createElement(R.a,null,l.a.createElement(P,{url:O})),l.a.createElement(W.a,null,l.a.createElement(y.a,{autoFocus:!0,onClick:ye,color:"primary"},"Cerrar")))))},G=l.a.forwardRef((function(e,a){return l.a.createElement(A.a,Object.assign({direction:"up",ref:a},e))})),V=function(e){console.log(e.project);var a=Object(c.useState)([]),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(""),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(!1),f=Object(n.a)(b,2),v=(f[0],f[1],Object(c.useState)(!1)),O=Object(n.a)(v,2),j=O[0],_=O[1];Object(c.useEffect)((function(){var a=e.project.aroundItems.map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:N("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));o(a)}),[]);var N=function(e){return function(a){g(e),console.log("Url",e),_(!0)}},C=function(){_(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(i.a,null,l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"title_action"},"IMAGENES DEL ENTORNO"))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))}))))))),l.a.createElement(B.a,{fullWidth:!0,maxWidth:"sm",open:j,onClose:C,TransitionComponent:G},l.a.createElement(R.a,null,l.a.createElement(P,{url:E})),l.a.createElement(W.a,null,l.a.createElement(y.a,{autoFocus:!0,onClick:C,color:"primary"},"Cerrar"))))},U=l.a.forwardRef((function(e,a){return l.a.createElement(A.a,Object.assign({direction:"up",ref:a},e))})),J=function(e){console.log(e.project);var a=Object(c.useState)([]),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(""),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(!1),f=Object(n.a)(b,2),v=(f[0],f[1],Object(c.useState)(!1)),O=Object(n.a)(v,2),j=O[0],_=O[1];Object(c.useEffect)((function(){var a=e.project.outletSampling.map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(h.a.urlImages).concat(e.url),onClick:N("".concat(h.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));o(a)}),[]);var N=function(e){return function(a){g(e),console.log("Url",e),_(!0)}},C=function(){_(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"project__info"},l.a.createElement("div",{className:"project__wrapper"},l.a.createElement("div",{className:"project__board__wrapper"},l.a.createElement(i.a,null,l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"title_action"},"MUESTREO DE TOMAS"))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(z.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))))))))),l.a.createElement(B.a,{fullWidth:!0,maxWidth:"sm",open:j,onClose:C,TransitionComponent:U},l.a.createElement(R.a,null,l.a.createElement(P,{url:E})),l.a.createElement(W.a,null,l.a.createElement(y.a,{autoFocus:!0,onClick:C,color:"primary"},"Cerrar"))))},q=t(147),Z=t(66),K=t(131);function Q(e){var a=e.children,t=e.value,n=e.index,c=Object(r.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},c),t===n&&l.a.createElement(j.a,{p:3},l.a.createElement("div",null,a)))}function X(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}var Y=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(b.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),$=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],i=Y(),s=l.a.useState(0),m=Object(n.a)(s,2),u=m[0],d=m[1];return Object(c.useEffect)((function(){o(e.project)}),[r,e.project]),l.a.createElement("div",{className:i.root},l.a.createElement(f.a,{position:"static",color:"default"},l.a.createElement(v.a,{value:u,onChange:function(e,a){d(a)},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example"},l.a.createElement(O.a,Object.assign({label:"Informaci\xf3n del proyecto",icon:l.a.createElement(q.c,{className:"icon"})},X(0))),l.a.createElement(O.a,Object.assign({label:"Tableros",icon:l.a.createElement(q.a,{className:"icon"})},X(1))),l.a.createElement(O.a,Object.assign({label:"Fotos del entorno",icon:l.a.createElement(Z.h,{className:"icon"})},X(2))),l.a.createElement(O.a,Object.assign({label:"Muestreo de tomas",icon:l.a.createElement(K.a,{className:"icon"})},X(3))))),l.a.createElement(Q,{value:u,index:0},l.a.createElement(S,{project:r})),l.a.createElement(Q,{value:u,index:1},l.a.createElement(L,{project:r})),l.a.createElement(Q,{value:u,index:2},l.a.createElement(V,{project:r})),l.a.createElement(Q,{value:u,index:3},l.a.createElement(J,{project:r})))},ee=t(71),ae=t(935),te=t(3),ne=t(560),re=t(1103),ce=t(48),le=(t(1005),Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(b.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var oe=function(e){Object(c.useEffect)((function(){console.log(e),Object(N.u)().then((function(e){O(e.customers)})),e.person}),[]);var a=Object(c.useState)(""),t=Object(n.a)(a,2),r=t[0],o=t[1],i=Object(c.useState)(!1),s=Object(n.a)(i,2),m=s[0],u=(s[1],Object(c.useState)({})),d=Object(n.a)(u,2),g=(d[0],d[1],le()),b=Object(c.useState)([]),f=Object(n.a)(b,2),v=f[0],O=f[1],j=Object(c.useState)(),h=Object(n.a)(j,2),_=h[0],S=h[1],k=Object(c.useState)(""),w=Object(n.a)(k,2),x=w[0],I=w[1],F=Object(c.useState)(""),P=Object(n.a)(F,2),T=(P[0],P[1],Object(c.useState)("")),B=Object(n.a)(T,2),W=(B[0],B[1],Object(c.useState)("")),R=Object(n.a)(W,2),A=(R[0],R[1],Object(c.useState)(null)),D=Object(n.a)(A,2),z=(D[0],D[1],Object(c.useState)(!1)),H=Object(n.a)(z,2),L=H[0],G=H[1],V=Object(c.useState)(""),U=Object(n.a)(V,2),J=U[0],q=U[1],Z=Object(c.useState)(!1),K=Object(n.a)(Z,2),Q=(K[0],K[1],Object(c.useState)("")),X=Object(n.a)(Q,2),Y=(X[0],X[1],function(e){var a=void 0!==e?e:x;return null==a||""===a.toString().trim()?(G(!0),q("Este campo es requerido"),1):(G(!1),q(""),0)}),$=function(a){if(0===function(){var e=0;return e+=Y()}()){var t={name:x,type:r,customer:_._id,observation:""};e.person?Object(N.S)(t).then((function(e){console.log("response",e),"success"==e.status?C.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):C.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):Object(N.e)(t).then((function(a){console.log("response",a),"success"==a.status?(C.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onClose(),e.onRefreshProjects()):C.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else C.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(c.Fragment,null,l.a.createElement(C.a,null),l.a.createElement(ae.a,{maxWidth:"md"},l.a.createElement(p.a,{className:g.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),$()}},l.a.createElement(ee.a,{container:!0,spacing:3},l.a.createElement(ee.a,{item:!0,xs:12,sm:4},l.a.createElement(E.a,{fullWidth:!0,select:!0,className:Object(te.a)(g.margin,g.textField),variant:"outlined",label:"Tipo",margin:"dense",value:r,onChange:function(e){o(e.target.value)}},l.a.createElement(ne.a,{key:"tri",value:"tri"},"Trif\xe1sico"),l.a.createElement(ne.a,{key:"mono",value:"mono"},"Monof\xe1sico"))),l.a.createElement(ee.a,{item:!0,xs:12,sm:8},l.a.createElement(re.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:v,autoComplete:!0,getOptionSelected:function(e,a){return e===a},onChange:function(e,a){S(a)},onInputChange:function(e,a){if(console.log("newInputValue",a),a.toString().trim().length>0){var t={search:a.toString().trim()};Object(N.u)(t).then((function(e){O(e.customers)}))}},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(M.a,Object.assign({label:e.name},a({index:t}),{disabled:-1!==v.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(ee.a,{container:!0,alignItems:"center"},l.a.createElement(ee.a,{item:!0,xs:!0},l.a.createElement(ce.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement(ee.a,{item:!0,xs:12,sm:12},l.a.createElement(E.a,{fullWidth:!0,error:L,helperText:J,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(te.a)(g.margin,g.textField),variant:"outlined",label:"Descripci\xf3n",value:x,onChange:function(e){I(e.target.value),Y(e.target.value)}})),l.a.createElement(ee.a,{item:!0,xs:2,sm:3},l.a.createElement(y.a,{disabled:m,type:"submit",variant:"contained",color:"primary"},e.person?"Actualizar":"Guardar")))))))},ie=t(940),se=t(942),me=t(9),ue=t(939),de=t(466),pe=t(118),Ee=t.n(pe),ge=t(294),be=t.n(ge),fe=t(820),ve=t(288),Oe=t.n(ve),je=t(941),he=Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),_e=Object(me.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,c=Object(r.a)(e,["children","classes","onClose"]);return l.a.createElement(ue.a,Object.assign({disableTypography:!0,className:t.root},c),l.a.createElement(ce.a,{variant:"h6"},a),n?l.a.createElement(de.a,{"aria-label":"close",className:t.closeButton,onClick:n},l.a.createElement(Ee.a,null)):null)})),Ne=l.a.forwardRef((function(e,a){return l.a.createElement(A.a,Object.assign({direction:"up",ref:a},e))}));a.default=function(e){Object(c.useEffect)((function(){console.log(e);var a=!1;"/maintenances-downloaded"===e.location.pathname&&(a=!0,b(!0));var t={start:0,end:V,paginate:!0,source:"web",downloaded:a};Object(N.w)(t).then((function(e){j(e.projects),T(e.count)}))}),[]);var a=he(),t=Object(c.useState)(!1),r=Object(n.a)(t,2),o=r[0],b=r[1],f=Object(c.useState)([]),v=Object(n.a)(f,2),O=v[0],j=v[1],S=Object(c.useState)(null),k=Object(n.a)(S,2),w=k[0],x=k[1],I=Object(c.useState)(0),F=Object(n.a)(I,2),P=F[0],T=F[1],A=Object(c.useState)(0),D=Object(n.a)(A,2),z=D[0],H=D[1],L=Object(c.useState)(10),G=Object(n.a)(L,2),V=G[0],U=G[1],J=Object(c.useState)(!1),q=Object(n.a)(J,2),Q=q[0],X=q[1],Y=Object(c.useState)(!1),ee=Object(n.a)(Y,2),ae=ee[0],te=ee[1],ne=Object(c.useState)(!1),re=Object(n.a)(ne,2),ce=re[0],le=re[1],me=Object(c.useState)(!1),ue=Object(n.a)(me,2),de=ue[0],pe=ue[1],Ee=Object(c.useState)(""),ge=Object(n.a)(Ee,2),ve=ge[0],Ce=ge[1],ye=Object(c.useState)(!1),Se=Object(n.a)(ye,2),ke=Se[0],we=Se[1],xe=Object(c.useState)(!1),Ie=Object(n.a)(xe,2),Fe=(Ie[0],Ie[1],Object(c.useState)(!1)),Pe=Object(n.a)(Fe,2),Te=Pe[0],Be=Pe[1],We=Object(c.useState)(""),Re=Object(n.a)(We,2),Me=Re[0],Ae=(Re[1],function(){X(!1)}),De=function(e){return function(){x(e),te(!0)}},ze=function(e){return function(){pe(!0),x(e)}},He=function(){te(!1)},Le=function(){le(!1)},Ge=function(){pe(!1)},Ve=function(){Be(!1)},Ue=function(e,a){return function(){var t=O.map((function(t){return t._id===e&&("download"==a?t.downloading=!0:t.loading=!0),t}));j(t),Object(N.B)({id:e,type:a}).then((function(t){var n=O.map((function(t){return t._id===e&&("download"==a?t.downloading=!1:t.loading=!1),t}));if(j(n),"success"===t.status)if("download"!=a)Oe.a.fire({icon:"success",title:"Mensaje",text:t.message,showConfirmButton:!1,timer:3e3});else{var r=O.filter((function(a){return a._id!=e}));j(r),window.open("".concat(h.a.urlPdf).concat(e,".pdf"))}else Oe.a.fire({icon:"error",title:"Error",text:t.message,showConfirmButton:!1,timer:3e3})})).catch((function(e){console.log(e),we(!1)}))}};return l.a.createElement(c.Fragment,null,l.a.createElement(C.a,null),l.a.createElement(p.a,{className:a.paper},l.a.createElement(fe.a,{onClick:function(){le(!0)},variant:"extended",color:"primary",size:"small",className:a.margin},l.a.createElement(be.a,{className:a.extendedIcon}),"Nuevo proyecto"),l.a.createElement(je.a,{component:p.a},l.a.createElement(i.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,"DESCRIPCI\xd3N"),l.a.createElement(m.a,null,"CLIENTE"),l.a.createElement(m.a,null,"TABLEROS"),l.a.createElement(m.a,null,"DETALLE"),l.a.createElement(m.a,null,"ENVIAR INFORME"),l.a.createElement(m.a,null,"DESCARGAR INFORME"),l.a.createElement(m.a,null,"OBSERVACIONES"))),l.a.createElement(s.a,null,O.map((function(e){return l.a.createElement(d.a,{key:e._id},l.a.createElement(m.a,null,e.name," "),l.a.createElement(m.a,null,e.customer.name),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(M.a,{size:"small",label:e.boards.length,variant:"outlined"})),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(K.c,{className:"icon",onClick:De(e)})),l.a.createElement(m.a,{className:a.iconWidth},e.loading?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(_.a,{size:16})):l.a.createElement(K.d,{className:"icon",onClick:Ue(e._id,"email")})),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(g.a,{title:"Descargar",placement:"top"},e.downloading?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(_.a,{size:16})):l.a.createElement("div",null,l.a.createElement(Z.c,{className:"icon",onClick:Ue(e._id,"download")})))),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(Z.d,{className:"icon",onClick:ze(e)})))}))))),l.a.createElement(se.a,{rowsPerPageOptions:[10,20,100],component:"div",count:P,rowsPerPage:V,page:z,onChangePage:function(e,a){H(a);var t={start:a*V,end:V,paginate:!0,downloaded:o};Object(N.w)(t).then((function(e){j(e.projects),T(e.count)}))},onChangeRowsPerPage:function(e){U(+e.target.value),H(0);var a={start:0,end:e.target.value,downloaded:o};Object(N.w)(a).then((function(e){j(e.projects),T(e.count)}))}})),l.a.createElement(B.a,{maxWidth:"lg",open:Te,onClose:Ve,"aria-labelledby":"draggable-dialog-title"},l.a.createElement(_e,{id:"draggable-dialog-title"},"Reporte de servicios"),l.a.createElement(R.a,null,l.a.createElement("iframe",{src:Me,title:"Imprimir",height:"900px",width:"600px"})),l.a.createElement(W.a,null,l.a.createElement(y.a,{onClick:Ve,color:"primary"},"Cerrar"))),l.a.createElement(B.a,{open:Q,onClose:Ae},l.a.createElement(_e,null,"Alerta"),l.a.createElement(R.a,null,l.a.createElement(ie.a,null,"Esta seguro de eliminar esta atenci\xf3n?")),l.a.createElement(W.a,null,l.a.createElement(y.a,{autoFocus:!0,onClick:Ae,color:"primary"},"NO"),l.a.createElement(y.a,{onClick:function(e){X(!1),Object(N.k)(e).then((function(a){if("success"===a.status){C.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=O.map((function(a){return e!==a._id||(a.status="deleted"),a}));j(t)}else C.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){C.b.error("Ocurri\xf3 un error al eliminar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(B.a,{maxWidth:"md",open:ce,onClose:Le,TransitionComponent:Ne},l.a.createElement(R.a,null,l.a.createElement(oe,{onRefreshProjects:function(){Object(N.w)().then((function(e){j(e.projects),T(e.count),U(1)}))},onClose:Le,project:w})),l.a.createElement(W.a,null,l.a.createElement(y.a,{autoFocus:!0,onClick:Le,color:"primary"},"Cerrar"))),l.a.createElement(B.a,{fullWidth:!0,fullScreen:!0,open:ae,onClose:He,TransitionComponent:Ne},l.a.createElement(R.a,null,l.a.createElement($,{project:w})),l.a.createElement(W.a,null,l.a.createElement(y.a,{autoFocus:!0,onClick:He,color:"primary"},"Cerrar"))),l.a.createElement(B.a,{fullWidth:!0,maxWidth:"sm",open:de,onClose:Ge},l.a.createElement(_e,null,"Observaciones"),l.a.createElement(R.a,null,l.a.createElement(ie.a,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,autoFocus:!0,margin:"dense",id:"name",label:"Observaciones",onChange:function(e){Ce(e.target.value)},fullWidth:!0}))),l.a.createElement(W.a,null,ke?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(_.a,null)):l.a.createElement(c.Fragment,null,l.a.createElement(y.a,{autoFocus:!0,onClick:Ge,color:"primary"},"Cancelar"),l.a.createElement(y.a,{onClick:function(){console.log(ve),console.log(w),we(!0);var e={observations:ve,id:w._id};Object(N.A)(e).then((function(e){we(!1),pe(!1),"success"===e.status?Oe.a.fire({icon:"success",title:"Mensaje",text:e.message,showConfirmButton:!1,timer:3e3}):Oe.a.fire({icon:"error",title:"Error",text:e.message,showConfirmButton:!1,timer:3e3})})).catch((function(e){console.log(e),we(!1)}))},color:"primary"},"Guardar")))))}}}]);
//# sourceMappingURL=5.3adbbf39.chunk.js.map