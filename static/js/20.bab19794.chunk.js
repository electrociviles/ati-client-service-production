(this.webpackJsonpati=this.webpackJsonpati||[]).push([[20],{1153:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(12),o=a(1),i=a.n(o),l=a(975),c=a(294),s=a(295),u=a(23),m=a(983),d=a(34),p=a(130),g=a(418),b=a(233),E=a(755),v=a(757),f=a(756),O=a(980),h=a(327),j=a.n(h),C=a(527),S=a(584),N=a(978),y=a(9),x=a(977),k=a(499),H=a(138),w=a.n(H),P=a(56),_=a(42),W=a(299),T=a(45),A=a(417),B=a(166),R=a(566),F=a.n(R),I=a(81),z=a(519),D=a(3),Y=a(1050),M=a(1058),q=0,G=0,U=0,L=0,V=0,$=Object(l.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),J=function(e){var t=$();Object(o.useEffect)((function(){e.attention&&(c(e.attention),d(e.attention.subTotal),C(e.attention.imprevistos),f(e.attention.administracion),x(e.attention.utilidad),P(e.attention.ivaSobreUtilidad),B(e.attention.total))}),[]);var a=Object(o.useState)(null),r=Object(n.a)(a,2),l=r[0],c=r[1],s=Object(o.useState)(""),u=Object(n.a)(s,2),m=u[0],d=u[1],g=Object(o.useState)(""),E=Object(n.a)(g,2),v=E[0],f=E[1],O=Object(o.useState)(""),h=Object(n.a)(O,2),j=h[0],C=h[1],S=Object(o.useState)(""),N=Object(n.a)(S,2),y=N[0],x=N[1],k=Object(o.useState)(""),H=Object(n.a)(k,2),w=H[0],P=H[1],W=Object(o.useState)(""),T=Object(n.a)(W,2),A=T[0],B=T[1],R=Object(o.useState)({}),F=Object(n.a)(R,2),J=F[0],Z=F[1],K=Object(o.useState)(!1),Q=Object(n.a)(K,2),X=Q[0],ee=Q[1],te=Object(o.useState)(""),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],oe=Object(o.useState)(!1),ie=Object(n.a)(oe,2),le=ie[0],ce=ie[1],se=Object(o.useState)(""),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],pe=Object(o.useState)(!1),ge=Object(n.a)(pe,2),be=ge[0],Ee=ge[1],ve=Object(o.useState)(""),fe=Object(n.a)(ve,2),Oe=fe[0],he=fe[1],je=Object(o.useState)(!1),Ce=Object(n.a)(je,2),Se=Ce[0],Ne=Ce[1],ye=Object(o.useState)(""),xe=Object(n.a)(ye,2),ke=xe[0],He=xe[1],we=Object(o.useState)(!1),Pe=Object(n.a)(we,2),_e=Pe[0],We=Pe[1],Te=Object(o.useState)(""),Ae=Object(n.a)(Te,2),Be=Ae[0],Re=Ae[1],Fe=Object(o.useState)(!1),Ie=Object(n.a)(Fe,2),ze=Ie[0],De=Ie[1],Ye=Object(o.useState)(""),Me=Object(n.a)(Ye,2),qe=Me[0],Ge=Me[1],Ue=function(e){return e=(e=e.replace(".","")).replace(",","")},Le=function(e){return console.log("value",e),e=e.toString().replace(/\D/g,"").replace(/([0-9])([0-9]{3})$/,"$1.$2").replace(/\B(?=(\d{3})+(?!\d)\.?)/g,",")},Ve=function(){var e=Number(q)+Number(G)+Number(U)+Number(L)+Number(V);B(Le(e))},$e=function(e){var t=void 0!==e?e:m;return null==t||""===t.toString().trim()?(ee(!0),re("Este campo es requerido"),1):(ee(!1),re(""),0)},Je=function(e){var t=void 0!==e?e:v;return null==t||""===t.toString().trim()?(ce(!0),de("Este campo es requerido"),1):(ce(!1),de(""),0)},Ze=function(e){var t=void 0!==e?e:j;return null==t||""===t.toString().trim()?(Ee(!0),he("Este campo es requerido"),1):(Ee(!1),he(""),0)},Ke=function(e){var t=void 0!==e?e:y;return null==t||""===t.toString().trim()?(Ne(!0),He("Este campo es requerido"),1):(Ne(!1),He(""),0)},Qe=function(e){var t=void 0!==e?e:w;return null==t||""===t.toString().trim()?(We(!0),Re("Este campo es requerido"),1):(We(!1),Re(""),0)},Xe=function(e){var t=void 0!==e?e:A;return null==t||""===t.toString().trim()?(De(!0),Ge("Este campo es requerido"),1):(De(!1),Ge(""),0)},et=function(){var e=0;return e+=$e(),e+=Je(),e+=Ze(),e+=Ke(),e+=Qe(),e+=Xe()};return i.a.createElement(p.a,{className:t.paper},i.a.createElement(Y.a,null),i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(t){t.preventDefault(),function(t){if(0===et()){var a=new FormData;a.append("id",l._id),a.append("file",J),a.append("subtotal",Ue(m)),a.append("administracion",Ue(v)),a.append("imprevistos",Ue(j)),a.append("utilidad",Ue(y)),a.append("ivaSobreUtilidad",Ue(w)),a.append("total",Ue(A)),a.append("action",e.action),Object(_.Z)(a).then((function(t){console.log("response",t),"success"==t.status?(e.onClose(!1),Y.b.info(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.updateAttention(t.attention)):Y.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}}()}},i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(z.a,{fullWidth:!0,error:X,helperText:ne,className:Object(D.a)(t.margin,t.textField),variant:"outlined",label:"Subtotal",margin:"dense",value:m,onChange:function(e){var t=Le(e.target.value);q=Ue(e.target.value),d(t),$e(e.target.value),Ve()}})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(z.a,{fullWidth:!0,error:le,helperText:me,className:Object(D.a)(t.margin,t.textField),variant:"outlined",label:"Administraci\xf3n",margin:"dense",value:v,onChange:function(e){G=Ue(e.target.value);var t=Le(e.target.value);f(t),Je(e.target.value),Ve()}})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(z.a,{fullWidth:!0,error:be,helperText:Oe,className:Object(D.a)(t.margin,t.textField),variant:"outlined",label:"Imprevistos",margin:"dense",value:j,onChange:function(e){U=Ue(e.target.value);var t=Le(e.target.value);C(t),Ze(e.target.value),Ve()}})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(z.a,{fullWidth:!0,error:Se,helperText:ke,className:Object(D.a)(t.margin,t.textField),variant:"outlined",label:"Utilidad",margin:"dense",value:y,onChange:function(e){L=Ue(e.target.value);var t=Ue(e.target.value);if(Number(t)>0){var a=19*Number(t)/100;P(Le(Ue(a.toString()))),V=Ue(a.toString())}var n=Le(e.target.value);x(n),Ke(e.target.value),Ve()}})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(z.a,{fullWidth:!0,error:_e,helperText:Be,className:Object(D.a)(t.margin,t.textField),variant:"outlined",label:"Iva sobre utilidad",margin:"dense",value:w,onChange:function(e){V=Ue(e.target.value);var t=Le(e.target.value);P(t),Qe(e.target.value),Ve()}})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(z.a,{fullWidth:!0,error:ze,helperText:qe,className:Object(D.a)(t.margin,t.textField),variant:"outlined",label:"Total",margin:"dense",value:A,onChange:function(e){var t=Le(e.target.value);B(t),Xe(e.target.value)}})),i.a.createElement(I.a,{item:!0,xs:12,sm:12},i.a.createElement(M.a,{previewText:"Selected files",onChange:function(e){Z(e[0])}})),i.a.createElement(I.a,{item:!0,xs:2,sm:12},i.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary"},e.attention?"Actualizar":"Enviar")))))},Z=a(507),K=a(508),Q=a(592),X=a(591),ee=(a(1053),a(567),a(92)),te=a(1059),ae=a(342),ne=a(319),re=a.n(ne),oe=a(984),ie=a(11),le=a(5),ce=a.n(le),se=a(15),ue=a(982),me=Object(l.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(se.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));var de=function(e){Object(o.useEffect)((function(){console.log(e),e.attention&&(g(e.attention.title),O(e.attention.description))}),[]);var t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],l=(a[1],Object(o.useState)({})),c=Object(n.a)(l,2),s=(c[0],c[1],me()),u=Object(o.useState)(""),m=Object(n.a)(u,2),d=m[0],g=m[1],E=Object(o.useState)(""),v=Object(n.a)(E,2),f=v[0],O=v[1],h=Object(o.useState)(!1),j=Object(n.a)(h,2),C=j[0],S=j[1],N=Object(o.useState)(""),y=Object(n.a)(N,2),x=y[0],k=y[1],H=Object(o.useState)(!1),w=Object(n.a)(H,2),P=w[0],W=w[1],T=Object(o.useState)(""),A=Object(n.a)(T,2),B=A[0],R=A[1],F=function(e){var t=void 0!==e?e:d;return null==t||""===t.toString().trim()?(S(!0),k("Este campo es requerido"),1):(S(!1),k(""),0)},M=function(e){var t=void 0!==e?e:f;return null==t||""===t.toString().trim()?(W(!0),R("Este campo es requerido"),1):(W(!1),R(""),0)},q=function(t){if(0===function(){var e=0;return e+=F(),e+=M()}()){var a=new FormData;e.attention&&a.append("id",e.attention._id),a.append("name",d),a.append("description",f),e.attention&&Object(_.ab)(a).then((function(t){console.log("response",t),"success"==t.status?(Y.b.info(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onUpdateAttention(d,f),e.onCloseAttentionForm()):Y.b.error("Ocurri\xf3 un error al actualizar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else Y.b.error("Error",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return i.a.createElement(o.Fragment,null,i.a.createElement(Y.a,null),i.a.createElement(ue.a,{maxWidth:"md"},i.a.createElement(p.a,{className:s.paper},i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),q()}},i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,sm:12},i.a.createElement(z.a,{fullWidth:!0,multiline:!0,error:C,helperText:x,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(D.a)(s.margin,s.textField),variant:"outlined",label:"Nombre",value:d,onChange:function(e){g(e.target.value),F(e.target.value)}})),i.a.createElement(I.a,{item:!0,xs:12,sm:12},i.a.createElement(z.a,{fullWidth:!0,multiline:!0,error:P,helperText:B,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(D.a)(s.margin,s.textField),variant:"outlined",label:"Descripci\xf3n",value:f,onChange:function(e){O(e.target.value),M(e.target.value)}})),i.a.createElement(I.a,{item:!0,xs:2,sm:3},i.a.createElement(b.a,{disabled:r,type:"submit",variant:"contained",color:"primary"},e.attention?"Actualizar":"Guardar")))))))},pe=Object(l.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),ge=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(r.a)(e,["children","classes","onClose"]);return i.a.createElement(x.a,Object.assign({disableTypography:!0,className:a.root},o),i.a.createElement(P.a,{variant:"h6"},t),n?i.a.createElement(k.a,{"aria-label":"close",className:a.closeButton,onClick:n},i.a.createElement(w.a,null)):null)})),be=i.a.forwardRef((function(e,t){return i.a.createElement(C.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(e){var t=re()(localStorage.getItem("token"));Object(o.useEffect)((function(){C(["5a046fe9627e3526802b3847"]);var e={start:0,end:le,paginate:!0};Object(_.x)(e).then((function(e){H(e.attentions),q(e.count)}))}),[]);var a=pe(),r=Object(o.useState)([]),l=Object(n.a)(r,2),h=l[0],C=l[1],y=Object(o.useState)([]),x=Object(n.a)(y,2),k=x[0],H=x[1],w=Object(o.useState)(null),P=Object(n.a)(w,2),R=P[0],I=P[1],z=Object(o.useState)(0),D=Object(n.a)(z,2),M=D[0],q=D[1],G=Object(o.useState)(0),U=Object(n.a)(G,2),L=U[0],V=U[1],$=Object(o.useState)(10),ne=Object(n.a)($,2),le=ne[0],se=ne[1],ue=Object(o.useState)(!1),me=Object(n.a)(ue,2),Ee=me[0],ve=me[1],fe=Object(o.useState)(!1),Oe=Object(n.a)(fe,2),he=Oe[0],je=Oe[1],Ce=Object(o.useState)(!1),Se=Object(n.a)(Ce,2),Ne=Se[0],ye=Se[1],xe=Object(o.useState)(""),ke=Object(n.a)(xe,2),He=ke[0],we=ke[1],Pe=Object(o.useState)(!1),_e=Object(n.a)(Pe,2),We=_e[0],Te=_e[1],Ae=Object(o.useState)(!1),Be=Object(n.a)(Ae,2),Re=Be[0],Fe=Be[1],Ie=function(){ve(!1)},ze=function(e){return function(){I(e),ye(!0)}},De=function(e){return function(){Object(_.M)(e._id).then((function(t){if("success"===t.status){Y.b.success(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var a=k.map((function(t){return e._id!==t._id||(t.status="created"),t}));H(a)}else Y.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e),Y.b.error("Occurri\xf3 un error al abrir la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},Ye=function(e){return function(){var t={id:e._id,status:"send"};Object(_.d)(t).then((function(t){if("success"===t.status){Y.b.info(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var a=k.map((function(t){return e._id!==t._id||(t.status="finished"),t}));H(a)}else Y.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e),Y.b.error("Occurri\xf3 un error al cerrar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},Me=function(){ye(!1)},qe=function(){je(!1)},Ge=function(e,t){return function(){we(t),I(e),je(!0)}},Ue=function(e){return function(){var t=k.map((function(t){return t._id===e._id&&(t.downloading=!0),t}));H(t);var a={id:e._id};Object(_.G)(a).then((function(t){var a=k.map((function(t){return t._id===e._id&&(t.downloading=!1),t}));H(a),console.log(t),"success"===t.status?(Y.b.info(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),H(a),window.open("".concat(ie.a.urlPdf).concat(e._id,".pdf"))):Y.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){Y.b.error("Occurri\xf3 un error al descargar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},Le=function(e){return function(){Fe(!0),I(e)}},Ve=function(){Fe(!1)},$e=function(e){switch(e.statusSend){case"send":return i.a.createElement("div",{className:"wrapper__history"},i.a.createElement("div",{className:"statusHistory"},"Enviado"),i.a.createElement("div",{className:"dateHistory"},ce()(e.date).format("YYYY-MM-DD HH:mm:ss")));case"resend":return i.a.createElement("div",{className:"wrapper__history"},i.a.createElement("div",{className:"statusHistory"},"Reenviado"),i.a.createElement("div",{className:"dateHistory"},ce()(e.date).format("YYYY-MM-DD HH:mm:ss")));case"reject":return i.a.createElement("div",{className:"wrapper__history"},i.a.createElement("div",{className:"statusHistory"},"Rechazado"),i.a.createElement("div",{className:"dateHistory"},ce()(e.date).format("YYYY-MM-DD HH:mm:ss")));case"accept":return i.a.createElement("div",{className:"wrapper__history"},i.a.createElement("div",{className:"statusHistory"},"Aceptado"),i.a.createElement("div",{className:"dateHistory"},ce()(e.date).format("YYYY-MM-DD HH:mm:ss")))}},Je=function(e){return function(){I(e),Te(!0)}},Ze=function(){Te(!1)};return i.a.createElement(o.Fragment,null,i.a.createElement(Y.a,null),i.a.createElement(p.a,{className:a.paper},i.a.createElement(c.a,null,i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(u.a,null,"NOMBRE"),i.a.createElement(u.a,null,"DESCRIPCI\xd3N"),i.a.createElement(u.a,null,"ESTADO"),i.a.createElement(u.a,null,"CLIENTE"),i.a.createElement(u.a,null,"VER"),i.a.createElement(u.a,null,"ABRIR/CERRAR"),i.a.createElement(u.a,{colSpan:5},"ACCIONES"))),i.a.createElement(s.a,null,k.map((function(e){return i.a.createElement(d.a,{key:e._id},i.a.createElement(u.a,null,e.title," "),i.a.createElement(u.a,null,e.description," "),i.a.createElement(u.a,null,"finished"===e.status?i.a.createElement(W.a,{style:{margin:1},label:"Cerrado",size:"small",variant:"outlined"}):i.a.createElement(W.a,{style:{margin:1},label:"Abierto",size:"small",color:"primary",variant:"outlined"}),function(e){switch(e){case"accept":return i.a.createElement(W.a,{label:"Aceptada",size:"small",color:"primary"});case"reject":return i.a.createElement(W.a,{label:"Rechazada",size:"small"});case"resend":return i.a.createElement(W.a,{label:"Reenviado",size:"small"});case"send":return i.a.createElement(W.a,{label:"Enviado",size:"small"})}}(e.statusSend)),i.a.createElement(u.a,null,e.customer?e.customer.name:""),i.a.createElement(u.a,{className:a.iconWidth},i.a.createElement(S.a,{title:"Detalle",placement:"top"},i.a.createElement(j.a,{className:a.icon,onClick:ze(e)}))),i.a.createElement(u.a,{className:a.iconWidth},"finished"===e.status?i.a.createElement("div",{className:"wrapper-icon-attention"},i.a.createElement(T.j,{className:"icon",onClick:De(e)}),i.a.createElement("span",{className:"open-close"},"Abrir")):i.a.createElement("div",{className:"wrapper-icon-attention"},i.a.createElement(T.e,{className:"icon",onClick:Ye(e)}),i.a.createElement("div",{className:"open-close"},"Cerrar"))),i.a.createElement(u.a,{className:a.iconWidth},"pending"==e.statusSend?i.a.createElement(S.a,{title:"Enviar cliente",placement:"top"},i.a.createElement("div",null,i.a.createElement(A.a,{className:"icon",onClick:Ge(e,"create")}))):""),i.a.createElement(u.a,{className:a.iconWidth},h.includes(t.role)&&"reject"==e.statusSend?i.a.createElement(S.a,{title:"Editar",placement:"top"},i.a.createElement("div",null,i.a.createElement(ae.a,{className:"icon",onClick:Ge(e,"update")}))):"",i.a.createElement(S.a,{title:"Descargar",placement:"top"},e.downloading?i.a.createElement("div",{className:"circularProgress"},i.a.createElement(oe.a,{size:16})):i.a.createElement("div",null,i.a.createElement(T.c,{className:"icon",onClick:Ue(e)})))),i.a.createElement(u.a,{className:a.iconWidth},e.descriptions.length>0?i.a.createElement(S.a,{title:"Hisotoria",placement:"top"},i.a.createElement("div",null,i.a.createElement(B.b,{className:"icon",onClick:Le(e)}))):""),i.a.createElement(u.a,{className:a.iconWidth},i.a.createElement(S.a,{title:"Editar",placement:"top"},i.a.createElement(F.a,{className:a.icon,onClick:Je(e)}))),e.file?i.a.createElement(u.a,{className:a.iconWidth},i.a.createElement(S.a,{title:"Pdf",placement:"top"},i.a.createElement(ae.b,{className:"icon",onClick:(n=e.file,function(){window.open("".concat(ie.a.urlPdf).concat(n))})}))):i.a.createElement(u.a,{className:a.iconWidth}));var n})))),i.a.createElement(N.a,{rowsPerPageOptions:[10,25,100],component:"div",count:M,rowsPerPage:le,page:L,onChangePage:function(e,t){V(t);var a={start:t*le,end:le,paginate:!0};Object(_.x)(a).then((function(e){H(e.attentions),q(e.count)}))},onChangeRowsPerPage:function(e){se(+e.target.value),V(0);var t={start:0,end:e.target.value,paginate:!0};Object(_.x)(t).then((function(e){H(e.attentions),q(e.count)}))}})),i.a.createElement(E.a,{open:he,onClose:qe},i.a.createElement(ge,{style:{cursor:"move"}},"ENVIAR AL CLIENTE"),i.a.createElement(f.a,null,i.a.createElement(O.a,null,i.a.createElement(J,{action:He,attention:R,updateAttention:function e(t){console.log("updateAttention: ",e);var a=k.map((function(e){return t._id!==e._id?e:e=t}));H(a)},onClose:qe}))),i.a.createElement(v.a,null,i.a.createElement(b.a,{autoFocus:!0,onClick:qe,color:"primary"},"Cerrar"))),i.a.createElement(E.a,{open:Ee,onClose:Ie,"aria-labelledby":"draggable-dialog-title"},i.a.createElement(ge,{style:{cursor:"move"},id:"draggable-dialog-title"},"ELIMINAR ATENCION"),i.a.createElement(f.a,null,i.a.createElement(O.a,null,"Esta seguro de eliminar esta atenci\xf3n?")),i.a.createElement(v.a,null,i.a.createElement(b.a,{autoFocus:!0,onClick:Ie,color:"primary"},"NO"),i.a.createElement(b.a,{onClick:function(e){ve(!1),Object(_.k)(e).then((function(t){if("success"===t.status){Y.b.success(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var a=k.map((function(t){return e!==t._id||(t.status="deleted"),t}));H(a)}else Y.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){Y.b.error("Ocurri\xf3 un error al eliminar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),i.a.createElement(E.a,{fullWidth:!0,maxWidth:"lg",open:Ne,onClose:Me,TransitionComponent:be},i.a.createElement(f.a,null,i.a.createElement(g.a,{attention:R})),i.a.createElement(v.a,null,i.a.createElement(b.a,{autoFocus:!0,onClick:Me,color:"primary"},"Cerrar"))),i.a.createElement(E.a,{open:Re,onClose:Ve},i.a.createElement(ge,null,"Historia"),i.a.createElement(f.a,null,i.a.createElement(O.a,null,i.a.createElement(Z.a,{className:a.root},R?R.descriptions.map((function(e){return i.a.createElement(K.a,{alignItems:"flex-start"},i.a.createElement(X.a,null,function(e){switch(e){case"reject":return i.a.createElement(T.b,{style:{fontSize:32,color:"red"}});case"send":return i.a.createElement(ee.d,{style:{fontSize:32,color:"red"}});case"accept":return i.a.createElement(T.a,{style:{fontSize:32,color:"green"}});case"resend":return i.a.createElement(te.a,{style:{fontSize:32,color:"silver"}})}}(e.statusSend)),i.a.createElement(Q.a,{primary:$e(e),secondary:e.description}))})):""))),i.a.createElement(v.a,null,i.a.createElement(b.a,{autoFocus:!0,onClick:Ve,color:"primary"},"Cerrar"))),i.a.createElement(E.a,{maxWidth:"md",open:We,onClose:Ze,TransitionComponent:be},i.a.createElement(f.a,null,i.a.createElement(de,{onCloseAttentionForm:Ze,onUpdateAttention:function(e,t){var a=k.map((function(a){return R._id!==a._id||(a.title=e,a.description=t),a}));H(a)},attention:R})),i.a.createElement(v.a,null,i.a.createElement(b.a,{autoFocus:!0,onClick:Ze,color:"primary"},"Cerrar"))))}}}]);
//# sourceMappingURL=20.bab19794.chunk.js.map