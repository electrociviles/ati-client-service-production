(this.webpackJsonpati=this.webpackJsonpati||[]).push([[13],{1084:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(11),l=a(1),o=a.n(l),i=a(896),c=a(503),s=a(504),u=a(28),m=a(976),d=a(38),p=a(136),g=a(12),b=a(889),f=a(901),O=a(895),E=a(890),h=Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(g.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),j=function(e){console.log("props",e);var t=h(),a=Object(l.useState)(!1),r=Object(n.a)(a,2);r[0],r[1];return o.a.createElement(b.a,null,o.a.createElement(f.a,{title:"Detalle Usuario"}),o.a.createElement(O.a,null),o.a.createElement(E.a,{className:t.content},o.a.createElement(c.a,null,o.a.createElement(s.a,null,o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Nombres"),o.a.createElement(u.a,null,e.customer.name)),o.a.createElement(d.a,{selected:!0},o.a.createElement(u.a,null,"Nit"),o.a.createElement(u.a,null,e.customer.nit)),o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Direcci\xf3n"),o.a.createElement(u.a,null,e.customer.address)),o.a.createElement(d.a,{selected:!0},o.a.createElement(u.a,null,"Telefono"),o.a.createElement(u.a,null,e.customer.phone)),o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Correo electr\xf3nico"),o.a.createElement(u.a,null,e.customer.email))))))},v=a(262),C=a(914),x=a.n(C),S=a(281),k=a.n(S),N=a(942),y=a(944),W=a(943),w=a(993),P=a(286),F=a.n(P),R=a(908),T=a(970),B=a.n(T),I=a(79),H=a(974),M=a(3),z=(a(990),a(902)),G=a(64),D=a(963),L=(a(967),Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(g.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var _=function(e){Object(l.useEffect)((function(){console.log(e),e.customer&&(m(e.customer.name),k(e.customer.nit),w(e.customer.address),T(e.customer.phone),U(e.customer.email))}),[]);var t=Object(l.useState)(!1),a=Object(n.a)(t,2),r=a[0],i=(a[1],L()),c=Object(l.useState)(""),s=Object(n.a)(c,2),u=s[0],m=s[1],d=Object(l.useState)(""),g=Object(n.a)(d,2),b=g[0],f=g[1],O=Object(l.useState)(""),E=Object(n.a)(O,2),h=E[0],j=E[1],C=Object(l.useState)(""),x=Object(n.a)(C,2),S=x[0],k=x[1],N=Object(l.useState)(""),y=Object(n.a)(N,2),W=y[0],w=y[1],P=Object(l.useState)(""),F=Object(n.a)(P,2),R=F[0],T=F[1],B=Object(l.useState)(""),_=Object(n.a)(B,2),q=_[0],U=_[1],A=Object(l.useState)(!1),J=Object(n.a)(A,2),V=(J[0],J[1]),X=Object(l.useState)(""),K=Object(n.a)(X,2),Q=(K[0],K[1]),Y=Object(l.useState)(!1),Z=Object(n.a)(Y,2),$=(Z[0],Z[1]),ee=Object(l.useState)(""),te=Object(n.a)(ee,2),ae=(te[0],te[1]),ne=Object(l.useState)(!1),re=Object(n.a)(ne,2),le=re[0],oe=re[1],ie=Object(l.useState)(""),ce=Object(n.a)(ie,2),se=ce[0],ue=ce[1],me=Object(l.useState)(!1),de=Object(n.a)(me,2),pe=de[0],ge=de[1],be=Object(l.useState)(""),fe=Object(n.a)(be,2),Oe=fe[0],Ee=fe[1],he=Object(l.useState)(!1),je=Object(n.a)(he,2),ve=(je[0],je[1],Object(l.useState)("")),Ce=Object(n.a)(ve,2),xe=(Ce[0],Ce[1],Object(l.useState)(!1)),Se=Object(n.a)(xe,2),ke=(Se[0],Se[1],Object(l.useState)("")),Ne=Object(n.a)(ke,2),ye=(Ne[0],Ne[1],Object(l.useState)(!1)),We=Object(n.a)(ye,2),we=We[0],Pe=We[1],Fe=Object(l.useState)(""),Re=Object(n.a)(Fe,2),Te=Re[0],Be=Re[1],Ie=function(e){var t=void 0!==e?e:u;return null==t||""===t.toString().trim()?(oe(!0),ue("Este campo es requerido"),1):(oe(!1),ue(""),0)},He=function(e){var t=void 0!==e?e:S;return null==t||""===t.toString().trim()?(ge(!0),Ee("Este campo es requerido"),1):(ge(!1),Ee(""),0)},Me=function(e){var t=void 0!==e?e:q;return null==t||""===t.toString().trim()?(Pe(!0),Be("Este campo es requerido"),1):(Pe(!1),Be(""),0)},ze=function(e){var t=void 0!==e?e:b;return null==t||""===t.toString().trim()?(V(!0),Q("Este campo es requerido"),1):(V(!1),Q(""),0)},Ge=function(e){var t=void 0!==e?e:h;return null==t||""===t.toString().trim()?($(!0),ae("Este campo es requerido"),1):($(!1),ae(""),0)},De=function(t){if(0===function(){var e=0;return e+=Ie(),e+=Me(),e+=He()}()){var a={name:u,nit:S,address:W,phone:R,email:q,username:b,password:h};e.customer?(a.id=e.customer._id,Object(G.N)(a).then((function(t){console.log("response",t),"success"==t.status?(D.b.info("Cliente actualizado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onCloseModal(!0),e.onUpdateCustomers()):D.b.error("Ocurri\xf3 un error al registrar el cliente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))):Object(G.d)(a).then((function(t){console.log("response",t),"success"==t.status?(D.b.info("Cliente registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onCloseModal(!0),e.onUpdateCustomers()):D.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}};return o.a.createElement(l.Fragment,null,o.a.createElement(D.a,null),o.a.createElement(H.a,{maxWidth:"md"},o.a.createElement(p.a,{className:i.paper},o.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),De()}},o.a.createElement(I.a,{container:!0,spacing:3},o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,error:le,helperText:se,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(M.a)(i.margin,i.textField),variant:"outlined",label:"Nombre",value:u,onChange:function(e){m(e.target.value),Ie(e.target.value)}})),o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,error:pe,helperText:Oe,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(M.a)(i.margin,i.textField),variant:"outlined",value:S,onChange:function(e){k(e.target.value),He(e.target.value)},label:"Nit"})),o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(M.a)(i.margin,i.textField),variant:"outlined",label:"Direccion",value:W,onChange:function(e){w(e.target.value)}})),o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(M.a)(i.margin,i.textField),variant:"outlined",label:"Telefono",value:R,onChange:function(e){T(e.target.value)}})),o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,error:we,helperText:Te,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(M.a)(i.margin,i.textField),variant:"outlined",value:q,label:"Correo",onChange:function(e){U(e.target.value)}})),o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,margin:"dense",autoComplete:"off",className:Object(M.a)(i.margin,i.textField),variant:"outlined",label:"Nombre de usuario",value:b,onChange:function(e){f(e.target.value),ze(e.target.value)}})),o.a.createElement(I.a,{item:!0,xs:12,sm:4},o.a.createElement(z.a,{fullWidth:!0,margin:"dense",autoComplete:"off",className:Object(M.a)(i.margin,i.textField),variant:"outlined",label:"Contrase\xf1a",value:h,onChange:function(e){j(e.target.value),Ge(e.target.value)}})),o.a.createElement(I.a,{item:!0,xs:2,sm:12},o.a.createElement(v.a,{disabled:r,type:"submit",variant:"contained",color:"primary"},e.customer?"Actualizar":"Guardar")))))))},q=a(934),U=a(285),A=a.n(U),J=a(954),V=a(991),X=a(9),K=a(981),Q=a(894),Y=a(116),Z=a.n(Y),$=a(59),ee=Object(i.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),te=Object(X.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(r.a)(e,["children","classes","onClose"]);return o.a.createElement(K.a,Object.assign({disableTypography:!0,className:a.root},l),o.a.createElement($.a,{variant:"h6"},t),n?o.a.createElement(Q.a,{"aria-label":"close",className:a.closeButton,onClick:n},o.a.createElement(Z.a,null)):null)})),ae=o.a.forwardRef((function(e,t){return o.a.createElement(R.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(e){Object(l.useEffect)((function(){var e={start:0,end:I,paginate:!0};Object(G.u)(e).then((function(e){g(e.customers),E(e.count)}))}),[]);var t=ee(),a=Object(l.useState)([]),r=Object(n.a)(a,2),i=r[0],g=r[1],b=Object(l.useState)(0),f=Object(n.a)(b,2),O=f[0],E=f[1],h=Object(l.useState)(0),C=Object(n.a)(h,2),S=C[0],P=C[1],R=Object(l.useState)(10),T=Object(n.a)(R,2),I=T[0],H=T[1],M=Object(l.useState)(!1),z=Object(n.a)(M,2),L=z[0],U=z[1],X=Object(l.useState)(!1),K=Object(n.a)(X,2),Q=K[0],Y=K[1],Z=Object(l.useState)(!1),$=Object(n.a)(Z,2),ne=$[0],re=$[1],le=Object(l.useState)(!1),oe=Object(n.a)(le,2),ie=oe[0],ce=oe[1],se=Object(l.useState)(!1),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],pe=Object(l.useState)({}),ge=Object(n.a)(pe,2),be=ge[0],fe=ge[1],Oe=function(){Object(G.u)().then((function(e){console.log(e),g(e.customers),E(e.count)}))},Ee=function(e){return function(){fe(e),Y(!0)}},he=function(){U(!1)},je=function(e){return function(){fe(e),re(!0)}},ve=function(){re(!1)},Ce=function(e){return function(){fe(e),ce(!0)}},xe=function(){ce(!1)},Se=function(){Y(!1)},ke=function(){de(!1)},Ne=function(){de(!1),ce(!1)};return o.a.createElement(l.Fragment,null,o.a.createElement(D.a,null),o.a.createElement(p.a,{className:t.paper},o.a.createElement(J.a,{onClick:function(){de(!0)},variant:"extended",color:"primary",size:"small",className:t.margin},o.a.createElement(A.a,{className:t.extendedIcon}),"Nuevo cliente"),o.a.createElement(c.a,null,o.a.createElement(m.a,null,o.a.createElement(d.a,null,o.a.createElement(u.a,null,"NOMBRE"),o.a.createElement(u.a,null,"NIT"),o.a.createElement(u.a,null,"DIRECCION"),o.a.createElement(u.a,null,"TELEFONO"),o.a.createElement(u.a,null,"CORREO"),o.a.createElement(u.a,null),o.a.createElement(u.a,null),o.a.createElement(u.a,null))),o.a.createElement(s.a,null,i.map((function(e){return o.a.createElement(d.a,{key:e._id},o.a.createElement(u.a,null,e.name," "),o.a.createElement(u.a,null,e.nit),o.a.createElement(u.a,null,e.address),o.a.createElement(u.a,null,e.phone),o.a.createElement(u.a,null,e.email),o.a.createElement(u.a,{className:t.iconWidth},o.a.createElement(q.a,{title:"Detalle",placement:"top"},o.a.createElement(F.a,{className:t.icon,onClick:je(e)}))),o.a.createElement(u.a,{className:t.iconWidth},o.a.createElement(q.a,{title:"Editar",placement:"top"},o.a.createElement(x.a,{className:t.icon,onClick:Ce(e)}))),o.a.createElement(u.a,{className:t.iconWidth},o.a.createElement(q.a,{title:"Eliminar",placement:"top"},"activo"===e.status?o.a.createElement(k.a,{className:t.icon,onClick:(a=e._id,function(){fe(a),U(!0)})}):o.a.createElement(B.a,{className:t.icon,onClick:Ee(e._id)}))));var a})))),o.a.createElement(V.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O,rowsPerPage:I,page:S,onChangePage:function(e,t){P(t);var a={start:t*I,end:I,paginate:!0};Object(G.u)(a).then((function(e){g(e.customers),E(e.count)}))},onChangeRowsPerPage:function(e){H(+e.target.value),P(0);var t={start:0,end:e.target.value,paginate:!0};Object(G.u)(t).then((function(e){g(e.customers),E(e.count)}))}})),o.a.createElement(N.a,{open:L,onClose:he,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(te,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(W.a,null,o.a.createElement(w.a,null,"Esta seguro de desabilitar este cliente?")),o.a.createElement(y.a,null,o.a.createElement(v.a,{autoFocus:!0,onClick:he,color:"primary"},"NO"),o.a.createElement(v.a,{onClick:function(){U(!1),Object(G.j)(be).then((function(e){if("success"===e.status){D.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=i.map((function(e){return be!==e._id||(e.status="inactivo"),e}));g(t)}else D.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){D.b.error("Ocurri\xf3 un error al desactivar el cliente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),o.a.createElement(N.a,{open:Q,onClose:Se,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(te,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(W.a,null,o.a.createElement(w.a,null,"Esta seguro de habilitar este cliente?")),o.a.createElement(y.a,null,o.a.createElement(v.a,{autoFocus:!0,onClick:Se,color:"primary"},"NO"),o.a.createElement(v.a,{onClick:function(){Y(!1),Object(G.I)(be).then((function(e){if("success"===e.status){D.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=i.map((function(e){return be!==e._id||(e.estado="activo"),e}));g(t)}else D.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){D.b.error("Ocurri\xf3 un error al activar el cliente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),o.a.createElement(N.a,{open:ne,onClose:ve,TransitionComponent:ae},o.a.createElement(W.a,null,o.a.createElement(j,{customer:be})),o.a.createElement(y.a,null,o.a.createElement(v.a,{autoFocus:!0,onClick:ve,color:"primary"},"Cerrar"))),o.a.createElement(N.a,{maxWidth:"md",open:ie,onClose:xe,TransitionComponent:ae},o.a.createElement(W.a,null,o.a.createElement(_,{onCloseModal:Ne,onUpdateCustomers:Oe,customer:be})),o.a.createElement(y.a,null,o.a.createElement(v.a,{autoFocus:!0,onClick:xe,color:"primary"},"Cerrar"))),o.a.createElement(N.a,{fullWidth:!0,maxWidth:"md",open:me},o.a.createElement(te,{onClose:ke},"Crear cliente"),o.a.createElement(W.a,null,o.a.createElement(_,{handleClose:ke,onCloseModal:Ne,onUpdateCustomers:Oe,modal:!0})),o.a.createElement(y.a,null,o.a.createElement(v.a,{onClick:ke,color:"primary"},"Cerrar"))))}},974:function(e,t,a){"use strict";var n=a(2),r=a(6),l=a(26),o=a(1),i=(a(7),a(3)),c=a(9),s=a(10),u=o.forwardRef((function(e,t){var a=e.classes,l=e.className,c=e.component,u=void 0===c?"div":c,m=e.disableGutters,d=void 0!==m&&m,p=e.fixed,g=void 0!==p&&p,b=e.maxWidth,f=void 0===b?"lg":b,O=Object(r.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(u,Object(n.a)({className:Object(i.a)(a.root,l,g&&a.fixed,d&&a.disableGutters,!1!==f&&a["maxWidth".concat(Object(s.a)(String(f)))]),ref:t},O))}));t.a=Object(c.a)((function(e){return{root:Object(l.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(l.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(l.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(l.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(l.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(l.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(u)}}]);
//# sourceMappingURL=13.ec03f87e.chunk.js.map