(this.webpackJsonpati=this.webpackJsonpati||[]).push([[23],{1155:function(e,a,t){"use strict";t.r(a);var n=t(13),l=t(1),c=t.n(l),r=t(975),i=t(15),u=t(995),o=t(1143),m=t(1144),s=t(1145),d=t(30),p=t(14),g=t(130),h=t(81),f=t(982),E=t(594),b=t(3),v=t(294),k=t(34),O=t(23),j=t(295),x=t(983),y=t(996),w=(t(137),t(519)),C=t(56),S=t(42),_=Object(r.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},checkbox:{width:10},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},margin:{marginTop:10},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(i.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),marginTop:10,color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),N=function(){var e=Object(l.useState)([]),a=Object(n.a)(e,2),t=a[0],r=a[1],i=Object(l.useState)([]),u=Object(n.a)(i,2),o=u[0],m=u[1],s=_(),N=Object(l.useState)({role:"",saved:!1}),T=Object(n.a)(N,2),F=T[0],W=T[1];Object(l.useEffect)((function(){Object(S.w)().then((function(e){m(e.roles)}))}),[]);var z,I=function(e){Object(S.s)({type:"web"}).then((function(a){var n=a.menus.pages.map((function(a){a.roles.includes(e)?a.checked=!0:a.checked=!1;var n=a.children.map((function(a){return a.roles.includes(e)?a.checked=!0:a.checked=!1,a}));return t.children=n,a}));r(n)}))},R=function(e,a){return function(n){var l=n.target.checked,c=[];if(0===t[e].children.length){var i=t.map((function(a,t){return t===e&&(a.checked=l,c.push({page:a._id,status:l})),a}));r(i)}else if(-1===a){var u=t.map((function(a,t){if(t===e){a.checked=l,c.push({page:a._id,status:l});var n=a.children.map((function(e){return e.checked=l,c.push({page:e._id,status:l}),e}));a.children=n}return a}));r(u)}else{var o=t.map((function(t,n){if(n===e){var r=0;l&&(t.checked=l,c.push({page:t._id,status:l}));var i=t.children.map((function(e,t){return t===a?(c.push({page:e._id,status:l}),e.checked=l):!l&&e.checked&&r++,e}));0!==r||l||(t.checked=l,c.push({page:t._id,status:l})),t.children=i}return t}));r(o)}var m={pages:c,idrole:F.role};Object(S.db)(m).then((function(e){}))}},P=c.a.useState("1"),G=Object(n.a)(P,2);G[0],G[1];return c.a.createElement(l.Fragment,null,c.a.createElement(f.a,null,c.a.createElement(C.a,null,c.a.createElement("b",null,"Permisos aplicaci\xf3n web")),c.a.createElement(g.a,{className:s.paper},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F.roleName}},c.a.createElement(h.a,{container:!0,spacing:1,direction:"column"},c.a.createElement(h.a,{item:!0,xs:6},c.a.createElement(w.a,{fullWidth:!0,select:!0,className:Object(b.a)(s.margin,s.textField),variant:"outlined",label:"Rol",value:F.role,onChange:(z="role",function(e){W(Object(p.a)(Object(p.a)({},F),{},Object(d.a)({},z,e.target.value))),I(e.target.value)})},o.map((function(e){return c.a.createElement(E.a,{key:e._id,value:e._id},e.name)})))),c.a.createElement(h.a,{item:!0,xs:6})))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(g.a,{className:s.paper},c.a.createElement(v.a,null,c.a.createElement(j.a,null,t.map((function(e,a){return e.children.length<=0?c.a.createElement(k.a,{key:a},c.a.createElement(O.a,null,c.a.createElement("fieldset",null,c.a.createElement("legend",null," ",c.a.createElement(C.a,null," ",e.title," ")),c.a.createElement(v.a,null,c.a.createElement(x.a,null,c.a.createElement(k.a,null,c.a.createElement(O.a,null,e.title),c.a.createElement(O.a,{className:s.checkbox},c.a.createElement(y.a,{checked:e.checked,edge:"end",onChange:R(a,-1)})))))))):c.a.createElement(k.a,{key:a},c.a.createElement(O.a,null,c.a.createElement("fieldset",null,c.a.createElement("legend",null," ",c.a.createElement(C.a,null,e.title," ")),c.a.createElement(v.a,null,c.a.createElement(x.a,null,c.a.createElement(k.a,null,c.a.createElement(O.a,null,e.title),c.a.createElement(O.a,null,c.a.createElement(y.a,{edge:"end",checked:e.checked,onChange:R(a,-1)})))),c.a.createElement(j.a,null,e.children.map((function(e,t){return c.a.createElement(k.a,{key:t},c.a.createElement(O.a,null,e.title),c.a.createElement(O.a,{className:s.checkbox},c.a.createElement(y.a,{edge:"end",checked:e.checked,onChange:R(a,t)})))})))))))}))))))))},T=t(204),F=(t(1137),Object(r.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},checkbox:{width:10},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},margin:{marginTop:10},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(i.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),marginTop:10,color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}))),W=function(){var e=Object(l.useState)([]),a=Object(n.a)(e,2),t=a[0],r=a[1],i=Object(l.useState)([]),u=Object(n.a)(i,2),o=u[0],m=u[1],s=F(),_=Object(l.useState)({role:"",saved:!1}),N=Object(n.a)(_,2),W=N[0],z=N[1];Object(l.useEffect)((function(){Object(S.w)().then((function(e){m(e.roles)}))}),[]);var I,R=function(e){Object(S.s)({type:"mobile"}).then((function(a){var n=a.menus.pages.map((function(a){a.roles.includes(e)?a.checked=!0:a.checked=!1;var n=a.children.map((function(a){return a.roles.includes(e)?a.checked=!0:a.checked=!1,a}));return t.children=n,a}));r(n)}))},P=function(e,a){return function(n){var l=n.target.checked,c=[];if(0===t[e].children.length){var i=t.map((function(a,t){return t===e&&(a.checked=l,c.push({page:a._id,status:l})),a}));r(i)}else if(-1===a){var u=t.map((function(a,t){if(t===e){a.checked=l,c.push({page:a._id,status:l});var n=a.children.map((function(e){return e.checked=l,c.push({page:e._id,status:l}),e}));a.children=n}return a}));r(u)}else{var o=t.map((function(t,n){if(n===e){var r=0;l&&(t.checked=l,c.push({page:t._id,status:l}));var i=t.children.map((function(e,t){return t===a?(c.push({page:e._id,status:l}),e.checked=l):!l&&e.checked&&r++,e}));0!==r||l||(t.checked=l,c.push({page:t._id,status:l})),t.children=i}return t}));r(o)}var m={pages:c,idrole:W.role};Object(T.c)({idrole:W.role}),Object(S.db)(m).then((function(e){}))}};return c.a.createElement(l.Fragment,null,c.a.createElement(f.a,null,c.a.createElement(C.a,null," ",c.a.createElement("b",null,"Permisos aplicaci\xf3n movil")),c.a.createElement(g.a,{className:s.paper},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),W.roleName}},c.a.createElement(h.a,{container:!0,spacing:1,direction:"column"},c.a.createElement(h.a,{item:!0,xs:6},c.a.createElement(w.a,{fullWidth:!0,select:!0,className:Object(b.a)(s.margin,s.textField),variant:"outlined",label:"Rol",value:W.role,onChange:(I="role",function(e){z(Object(p.a)(Object(p.a)({},W),{},Object(d.a)({},I,e.target.value))),R(e.target.value)})},o.map((function(e){return c.a.createElement(E.a,{key:e._id,value:e._id},e.name)})))),c.a.createElement(h.a,{item:!0,xs:6})))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(g.a,{className:s.paper},c.a.createElement(v.a,null,c.a.createElement(j.a,null,t.map((function(e,a){return e.children.length<=0?c.a.createElement(k.a,{key:a},c.a.createElement(O.a,null,c.a.createElement("fieldset",null,c.a.createElement("legend",null," ",c.a.createElement(C.a,null," ",e.title," ")),c.a.createElement(v.a,null,c.a.createElement(x.a,null,c.a.createElement(k.a,null,c.a.createElement(O.a,null,e.title),c.a.createElement(O.a,{className:s.checkbox},c.a.createElement(y.a,{checked:e.checked,edge:"end",onChange:P(a,-1)})))))))):c.a.createElement(k.a,{key:a},c.a.createElement(O.a,null,c.a.createElement("fieldset",null,c.a.createElement("legend",null," ",c.a.createElement(C.a,null,e.title," ")),c.a.createElement(v.a,null,c.a.createElement(x.a,null,c.a.createElement(k.a,null,c.a.createElement(O.a,null,e.title),c.a.createElement(O.a,null,c.a.createElement(y.a,{edge:"end",checked:!!e.roles.includes(W.role),onChange:P(a,-1)})))),c.a.createElement(j.a,null,e.children.map((function(e,t){return c.a.createElement(k.a,{key:t},c.a.createElement(O.a,null,e.title),c.a.createElement(O.a,{className:s.checkbox},c.a.createElement(y.a,{edge:"end",checked:e.checked,onChange:P(a,t)})))})))))))}))))))))},z=Object(r.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},checkbox:{width:10},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},margin:{marginTop:10},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(i.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),marginTop:10,color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));a.default=function(){var e=z(),a=c.a.useState("1"),t=Object(n.a)(a,2),r=t[0],i=t[1];return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:e.root},c.a.createElement(o.a,{value:r},c.a.createElement(m.a,{onChange:function(e,a){i(a)},"aria-label":"simple tabs example"},c.a.createElement(u.a,{label:"Permisos aplicaci\xf3n web",value:"1"}),c.a.createElement(u.a,{label:"Permisos aplicaci\xf3n movil",value:"2"})),c.a.createElement(s.a,{value:"1"},c.a.createElement(N,null)),c.a.createElement(s.a,{value:"2"},c.a.createElement(W,null)))))}}}]);
//# sourceMappingURL=23.d1a25493.chunk.js.map