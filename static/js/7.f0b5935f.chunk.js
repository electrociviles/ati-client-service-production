(this.webpackJsonpati=this.webpackJsonpati||[]).push([[7],{1053:function(e,a,t){"use strict";t.r(a);var n=t(18),r=t(11),c=t(1),l=t.n(c),o=t(914),s=t(1036),i=t(1037),m=t(1039),u=t(1041),d=t(1038),p=t(127),E=t(930),g=t(13),b=(t(961),t(967),t(906)),f=t(1054),v=t(1047),O=t(1004),j=t.n(O),h=t(162),_=t.n(h),N=t(1005),C=t.n(N),y=t(1006),S=t.n(y),k=t(1052),x=t(24),w=t(1045),I=t(250),T=t(947),F=t(916),P=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],s=Object(c.useState)(""),i=Object(n.a)(s,2),m=i[0],u=i[1],d=Object(c.useState)(!1),p=Object(n.a)(d,2),g=p[0],b=p[1];Object(c.useEffect)((function(){o(e.project)}),[r,e.project]);return l.a.createElement(c.Fragment,null,l.a.createElement(T.a,null),l.a.createElement("div",{className:"project__info"},r?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"project_name"},r.name),l.a.createElement("div",{className:"project_type"},"tri"===r.type?"Trif\xe1sico":"Monof\xe1sico"),l.a.createElement("div",{className:"board_observation"},l.a.createElement(c.Fragment,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,margin:"dense",label:"Observaciones",value:m,onChange:function(e){u(e.target.value)},fullWidth:!0}),g?l.a.createElement(c.Fragment,null,l.a.createElement(w.a,null)):l.a.createElement(F.a,{onClick:function(){b(!0);var e={id:r._id,observations:m};Object(I.p)(e).then((function(e){b(!1),"success"==e.status?T.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):T.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"Actualizar Observaciones")))):""))},B=t(909),W=t(923),M=t(913),R=t(910),A=t(1030),D=(t(968),function(e){var a=Object(c.useState)(""),t=Object(n.a)(a,2),r=t[0],o=t[1];return Object(c.useEffect)((function(){o(e.url)}),[e.url]),l.a.createElement("div",null,r?l.a.createElement(A.a,{src:r,zoomSrc:r}):"")}),z=t(1003),H=t(927),L=t(1044),V=t(1042),G=(t(969),t(942)),U=t(874),J=t(955),q=t.n(J),Z=(t(956),l.a.forwardRef((function(e,a){return l.a.createElement(U.a,Object.assign({direction:"up",ref:a},e))}))),K=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(!1),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(""),f=Object(n.a)(b,2),v=f[0],O=f[1],j=Object(c.useState)(""),h=Object(n.a)(j,2),_=(h[0],h[1]),N=Object(c.useState)(!1),C=Object(n.a)(N,2),y=(C[0],C[1],Object(c.useState)([])),S=Object(n.a)(y,2),k=(S[0],S[1]),w=Object(c.useState)(""),P=Object(n.a)(w,2),A=P[0],U=(P[1],Object(c.useState)(null)),J=Object(n.a)(U,2),K=(J[0],J[1]),Q=Object(c.useState)([]),X=Object(n.a)(Q,2),Y=X[0],$=X[1],ee=Object(c.useState)([]),ae=Object(n.a)(ee,2),te=ae[0],ne=ae[1],re=Object(c.useState)([]),ce=Object(n.a)(re,2),le=ce[0],oe=ce[1],se=Object(c.useState)([]),ie=Object(n.a)(se,2),me=ie[0],ue=ie[1],de=Object(c.useState)([]),pe=Object(n.a)(de,2),Ee=pe[0],ge=pe[1];Object(c.useEffect)((function(){o(e.project),e.project&&k(e.project.boards)}),[A,r,e.project]);var be=function(e){return function(a){console.log(e);var t=e.itemsBoards.map((function(e){return 0===e.photos.length&&(e.photos=[{url:"default.png",type:"remote"}]),e}));e.itemsBoards=t,K(e),_(e.observation),console.log(e.observation);var n=e.itemsBoards.filter((function(e){return"before"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:fe("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));$(n);var r=e.itemsBoards.filter((function(e){return"voltaje"==e.item.type})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:fe("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));ne(r);var c=e.itemsBoards.filter((function(e){return"corriente"==e.item.type})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:fe("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));oe(c);var o=e.itemsBoards.filter((function(e){return"after"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:fe("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));ue(o);var s=e.itemsBoards.filter((function(e){return"finding"==e.item.mode})).map((function(e){var a=e.photos.map((function(e){return e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:fe("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));ge(s)}},fe=function(e){return function(a){O(e),g(!0)}},ve=function(e){return function(a){Object(I.r)(e._id).then((function(a){if("success"===a.status){switch(e.item.mode){case"before":var t=Y.map((function(a){return console.log("cell ",a),a._id===e._id&&(a.status="activo"),a}));$(t);break;case"after":var n=me.map((function(a){return a._id===e._id&&(a.status="activo"),a}));ue(n)}switch(e.item.type){case"voltaje":var r=Y.map((function(a){return a._id===e._id&&(a.status="activo"),a}));ne(r);break;case"corriente":var c=le.map((function(a){return a._id===e._id&&(a.status="activo"),a}));oe(c)}}}))}},Oe=function(){g(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(B.a,null,l.a.createElement(W.a,{title:"TABLEROS"}),l.a.createElement(M.a,null),l.a.createElement(R.a,null,l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r?r.boards.map((function(e,a){return l.a.createElement("div",{key:a,className:"board_item"},l.a.createElement(G.a,{size:"small",color:"primary",label:e.name,variant:"outlined",onClick:be(e)}))})):""))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"project__wrapper"},l.a.createElement("div",{className:"project__board__wrapper"},l.a.createElement(c.Fragment,null,Ee.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"HALLAZGOS"),l.a.createElement("div",{className:"aux_title"},l.a.createElement("span",{className:"bold"}," Titulo:")," ",Ee[0].title),l.a.createElement("div",{className:"aux_observations"},l.a.createElement("span",{className:"bold"},"Observaciones:")," ",Ee[0].observations),l.a.createElement("div",{className:"board__item__wrapper"},Ee.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(z.a,{className:"icon",onClick:ve(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"",Y.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"ANTES DE MANTENIMIENTO"),l.a.createElement("div",{className:"board__item__wrapper"},Y.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(z.a,{className:"icon",onClick:ve(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"",te.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"VOLTAJES"),l.a.createElement("div",{className:"board__item__wrapper"},te.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#".concat(e.item.colorOne),color:"#".concat(e.item.textColorOne)}},e.item.letterOne),l.a.createElement("div",{className:"card_color_right",style:{backgroundColor:"#".concat(e.item.colorTwo),color:"#".concat(e.item.textColorTwo)}},e.item.letterTwo)):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(z.a,{className:"icon",onClick:ve(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500})),l.a.createElement("div",{className:"card_footer"},l.a.createElement("span",{className:"text_value"},"Valor:"),e.item.value))})))):"",le.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"CORRIENTES"),l.a.createElement("div",{className:"board__item__wrapper"},le.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color",style:{backgroundColor:"#".concat(e.item.colorOne),color:"#".concat(e.item.textColorOne)}},e.item.letterOne)),l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(z.a,{className:"icon",onClick:ve(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500})),l.a.createElement("div",{className:"card_footer"},l.a.createElement("span",{className:"text_value"},"Valor:"),e.item.value))})))):"",me.length>0?l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"title_action"},"DESPUES DE MANTENIMIENTO"),l.a.createElement("div",{className:"board__item__wrapper"},me.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_header"},"inactivo"===e.status?l.a.createElement("div",{className:"show__wrapper"},l.a.createElement(z.a,{className:"icon",onClick:ve(e)}),l.a.createElement("div",{className:"show_text"},"Esta marcaci\xf3n se encuentra oculta pulse en el icono para mostrar")):""),l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))):"")))))))),l.a.createElement(H.a,{fullWidth:!0,maxWidth:"sm",open:E,onClose:Oe,TransitionComponent:Z},l.a.createElement(V.a,null,l.a.createElement(D,{url:v})),l.a.createElement(L.a,null,l.a.createElement(F.a,{autoFocus:!0,onClick:Oe,color:"primary"},"Cerrar")))))},Q=l.a.forwardRef((function(e,a){return l.a.createElement(U.a,Object.assign({direction:"up",ref:a},e))})),X=function(e){console.log(e.project);var a=Object(c.useState)([]),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(""),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(!1),f=Object(n.a)(b,2),v=(f[0],f[1],Object(c.useState)(!1)),O=Object(n.a)(v,2),j=O[0],h=O[1];Object(c.useEffect)((function(){var a=e.project.aroundItems.map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:_("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));o(a)}),[]);var _=function(e){return function(a){g(e),console.log("Url",e),h(!0)}},N=function(){h(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"title_action"},"IMAGENES DEL ENTORNO"))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))}))))))),l.a.createElement(H.a,{fullWidth:!0,maxWidth:"sm",open:j,onClose:N,TransitionComponent:Q},l.a.createElement(V.a,null,l.a.createElement(D,{url:E})),l.a.createElement(L.a,null,l.a.createElement(F.a,{autoFocus:!0,onClick:N,color:"primary"},"Cerrar"))))},Y=l.a.forwardRef((function(e,a){return l.a.createElement(U.a,Object.assign({direction:"up",ref:a},e))})),$=function(e){console.log(e.project);var a=Object(c.useState)([]),t=Object(n.a)(a,2),r=t[0],o=t[1],u=Object(c.useState)(""),p=Object(n.a)(u,2),E=p[0],g=p[1],b=Object(c.useState)(!1),f=Object(n.a)(b,2),v=(f[0],f[1],Object(c.useState)(!1)),O=Object(n.a)(v,2),j=O[0],h=O[1];Object(c.useEffect)((function(){var a=e.project.outletSampling.map((function(e){var a=e.photos.map((function(e){return console.log(e),e.props?e:l.a.createElement("div",{className:"item","data-value":"1"},l.a.createElement("img",{src:"".concat(x.a.urlImages).concat(e.url),onClick:_("".concat(x.a.urlImages).concat(e.url))}))}));return e.photos=a,e}));o(a)}),[]);var _=function(e){return function(a){g(e),console.log("Url",e),h(!0)}},N=function(){h(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"project__info"},l.a.createElement("div",{className:"project__wrapper"},l.a.createElement("div",{className:"project__board__wrapper"},l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"title_action"},"MUESTREO DE TOMAS"))),l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement("div",{className:"board__item__wrapper"},r.map((function(e,a){return l.a.createElement("div",{className:"card",key:a},l.a.createElement("div",{className:"card_title"},e.item.title),""!==e.item.letterOne?l.a.createElement("div",{className:"card_colors"},l.a.createElement("div",{className:"card_color_left",style:{backgroundColor:"#FCF338"}},e.item.colorOne),l.a.createElement("div",{className:"card_color_right"})):"",l.a.createElement("div",{className:"card_body"},l.a.createElement("div",{className:"slide-container"},l.a.createElement(q.a,{autoPlay:!0,infinite:!0,mouseTracking:!0,items:e.photos,disableButtonsControls:!0,controlsStrategy:"alternate",animationDuration:1e3,autoPlayInterval:2500*Math.random()+500}))))})))))))))),l.a.createElement(H.a,{fullWidth:!0,maxWidth:"sm",open:j,onClose:N,TransitionComponent:Y},l.a.createElement(V.a,null,l.a.createElement(D,{url:E})),l.a.createElement(L.a,null,l.a.createElement(F.a,{autoFocus:!0,onClick:N,color:"primary"},"Cerrar"))))};function ee(e){var a=e.children,t=e.value,n=e.index,c=Object(r.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},c),t===n&&l.a.createElement(k.a,{p:3},l.a.createElement("div",null,a)))}function ae(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}var te=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(g.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),ne=function(e){var a=Object(c.useState)(null),t=Object(n.a)(a,2),r=t[0],o=t[1],s=te(),i=l.a.useState(0),m=Object(n.a)(i,2),u=m[0],d=m[1];return Object(c.useEffect)((function(){o(e.project)}),[r,e.project]),l.a.createElement("div",{className:s.root},l.a.createElement(b.a,{position:"static",color:"default"},l.a.createElement(f.a,{value:u,onChange:function(e,a){d(a)},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example"},l.a.createElement(v.a,Object.assign({label:"Informaci\xf3n del proyecto",icon:l.a.createElement(j.a,null)},ae(0))),l.a.createElement(v.a,Object.assign({label:"Tableros",icon:l.a.createElement(_.a,null)},ae(1))),l.a.createElement(v.a,Object.assign({label:"Fotos del entorno",icon:l.a.createElement(C.a,null)},ae(2))),l.a.createElement(v.a,Object.assign({label:"Muestreo de tomas",icon:l.a.createElement(S.a,null)},ae(3))))),l.a.createElement(ee,{value:u,index:0},l.a.createElement(P,{project:r})),l.a.createElement(ee,{value:u,index:1},l.a.createElement(K,{project:r})),l.a.createElement(ee,{value:u,index:2},l.a.createElement(X,{project:r})),l.a.createElement(ee,{value:u,index:3},l.a.createElement($,{project:r})))},re=t(928),ce=t(1007),le=t(3),oe=t(920),se=t(1055),ie=t(66),me=(t(951),Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(g.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var ue=function(e){Object(c.useEffect)((function(){console.log(e),Object(I.j)().then((function(e){O(e.customers)})),e.person}),[]);var a=Object(c.useState)(""),t=Object(n.a)(a,2),r=t[0],o=t[1],s=Object(c.useState)(!1),i=Object(n.a)(s,2),m=i[0],u=(i[1],Object(c.useState)({})),d=Object(n.a)(u,2),g=(d[0],d[1],me()),b=Object(c.useState)([]),f=Object(n.a)(b,2),v=f[0],O=f[1],j=Object(c.useState)(),h=Object(n.a)(j,2),_=h[0],N=h[1],C=Object(c.useState)(""),y=Object(n.a)(C,2),S=y[0],k=y[1],x=Object(c.useState)(""),w=Object(n.a)(x,2),P=(w[0],w[1],Object(c.useState)("")),B=Object(n.a)(P,2),W=(B[0],B[1],Object(c.useState)("")),M=Object(n.a)(W,2),R=(M[0],M[1],Object(c.useState)(null)),A=Object(n.a)(R,2),D=(A[0],A[1],Object(c.useState)(!1)),z=Object(n.a)(D,2),H=z[0],L=z[1],V=Object(c.useState)(""),U=Object(n.a)(V,2),J=U[0],q=U[1],Z=Object(c.useState)(!1),K=Object(n.a)(Z,2),Q=(K[0],K[1],Object(c.useState)("")),X=Object(n.a)(Q,2),Y=(X[0],X[1],function(e){var a=void 0!==e?e:S;return null==a||""===a.toString().trim()?(L(!0),q("Este campo es requerido"),1):(L(!1),q(""),0)}),$=function(a){if(0===function(){var e=0;return e+=Y()}()){var t={name:S,type:r,customer:_._id,observation:""};e.person?Object(I.v)(t).then((function(e){console.log("response",e),"success"==e.status?T.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):T.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):Object(I.c)(t).then((function(a){console.log("response",a),"success"==a.status?(T.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onClose(),e.onRefreshProjects()):T.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else T.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(c.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(ce.a,{maxWidth:"md"},l.a.createElement(p.a,{className:g.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),$()}},l.a.createElement(re.a,{container:!0,spacing:3},l.a.createElement(re.a,{item:!0,xs:12,sm:4},l.a.createElement(E.a,{fullWidth:!0,select:!0,className:Object(le.a)(g.margin,g.textField),variant:"outlined",label:"Tipo",margin:"dense",value:r,onChange:function(e){o(e.target.value)}},l.a.createElement(oe.a,{key:"tri",value:"tri"},"Trif\xe1sico"),l.a.createElement(oe.a,{key:"mono",value:"mono"},"Monof\xe1sico"))),l.a.createElement(re.a,{item:!0,xs:12,sm:8},l.a.createElement(se.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:v,autoComplete:!0,getOptionSelected:function(e,a){return e===a},onChange:function(e,a){N(a)},onInputChange:function(e,a){if(console.log("newInputValue",a),a.toString().trim().length>0){var t={search:a.toString().trim()};Object(I.j)(t).then((function(e){O(e.customers)}))}},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(G.a,Object.assign({label:e.name},a({index:t}),{disabled:-1!==v.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(re.a,{container:!0,alignItems:"center"},l.a.createElement(re.a,{item:!0,xs:!0},l.a.createElement(ie.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement(re.a,{item:!0,xs:12,sm:12},l.a.createElement(E.a,{fullWidth:!0,error:H,helperText:J,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(le.a)(g.margin,g.textField),variant:"outlined",label:"Descripci\xf3n",value:S,onChange:function(e){k(e.target.value),Y(e.target.value)}})),l.a.createElement(re.a,{item:!0,xs:2,sm:3},l.a.createElement(F.a,{disabled:m,type:"submit",variant:"contained",color:"primary"},e.person?"Actualizar":"Guardar")))))))},de=t(1043),pe=t(1059),Ee=t(9),ge=t(1040),be=t(912),fe=t(105),ve=t.n(fe),Oe=t(268),je=t.n(Oe),he=t(91),_e=t(238),Ne=t(937),Ce=t(1008),ye=t.n(Ce),Se=t(1048),ke=Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),xe=Object(Ee.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,c=Object(r.a)(e,["children","classes","onClose"]);return l.a.createElement(ge.a,Object.assign({disableTypography:!0,className:t.root},c),l.a.createElement(ie.a,{variant:"h6"},a),n?l.a.createElement(be.a,{"aria-label":"close",className:t.closeButton,onClick:n},l.a.createElement(ve.a,null)):null)})),we=l.a.forwardRef((function(e,a){return l.a.createElement(U.a,Object.assign({direction:"up",ref:a},e))}));a.default=function(e){Object(c.useEffect)((function(){Object(I.k)().then((function(e){console.log("*****************************"),console.log(e),g(e.projects),N(e.count)}))}),[]);var a=ke(),t=Object(c.useState)([]),r=Object(n.a)(t,2),o=r[0],g=r[1],b=Object(c.useState)(null),f=Object(n.a)(b,2),v=f[0],O=f[1],j=Object(c.useState)(0),h=Object(n.a)(j,2),_=h[0],N=h[1],C=Object(c.useState)(0),y=Object(n.a)(C,2),S=y[0],k=y[1],x=Object(c.useState)(3),P=Object(n.a)(x,2),B=P[0],W=P[1],M=Object(c.useState)(!1),R=Object(n.a)(M,2),A=R[0],D=R[1],z=Object(c.useState)(!1),U=Object(n.a)(z,2),J=U[0],q=U[1],Z=Object(c.useState)(!1),K=Object(n.a)(Z,2),Q=K[0],X=K[1],Y=Object(c.useState)(!1),$=Object(n.a)(Y,2),ee=$[0],ae=$[1],te=Object(c.useState)(""),re=Object(n.a)(te,2),ce=re[0],le=re[1],oe=Object(c.useState)(!1),se=Object(n.a)(oe,2),ie=se[0],me=se[1],Ee=Object(c.useState)(!1),ge=Object(n.a)(Ee,2),be=(ge[0],ge[1],function(){D(!1)}),fe=function(e){return function(){O(e),q(!0)}},ve=function(e){return function(){ae(!0),O(e)}},Oe=function(){q(!1)},Ce=function(){X(!1)},Ie=function(){ae(!1)};return l.a.createElement(c.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(p.a,{className:a.paper},l.a.createElement(Ne.a,{onClick:function(){X(!0)},variant:"extended",color:"primary",size:"small",className:a.margin},l.a.createElement(je.a,{className:a.extendedIcon}),"Nuevo proyecto"),l.a.createElement(Se.a,{component:p.a},l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,null,"DESCRIPCI\xd3N"),l.a.createElement(m.a,null,"CLIENTE"),l.a.createElement(m.a,null,"TABLEROS"),l.a.createElement(m.a,null,"DETALLE"),l.a.createElement(m.a,null,"ENVIAR INFORME"),l.a.createElement(m.a,null,"OBSERVACIONES"))),l.a.createElement(i.a,null,o.map((function(e){return l.a.createElement(d.a,{key:e._id},l.a.createElement(m.a,null,e.name," "),l.a.createElement(m.a,null,e.customer.name),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(G.a,{size:"small",label:e.boards.length,variant:"outlined"})),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(_e.a,{className:"icon",onClick:fe(e)})),l.a.createElement(m.a,{className:a.iconWidth},e.loading?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(w.a,{size:16})):l.a.createElement(_e.b,{className:"icon",onClick:(t=e._id,function(){console.log(t);var e=o.map((function(e){return e._id===t?e.loading=!0:e.loading=!1,e}));g(e),Object(I.o)(t).then((function(e){var a=o.map((function(e){return e.loading=!1,e}));g(a),"success"===e.status?ye.a.fire({icon:"success",title:"Mensaje",text:e.message,showConfirmButton:!1,timer:3e3}):ye.a.fire({icon:"error",title:"Error",text:e.message,showConfirmButton:!1,timer:3e3})})).catch((function(e){console.log(e),me(!1)}))})})),l.a.createElement(m.a,{className:a.iconWidth},l.a.createElement(he.a,{className:"icon",onClick:ve(e)})));var t}))))),l.a.createElement(pe.a,{rowsPerPageOptions:[1,25,100],component:"div",count:_,rowsPerPage:B,page:S,onChangePage:function(e,a){k(a)},onChangeRowsPerPage:function(e){W(+e.target.value),k(0)}})),l.a.createElement(H.a,{open:A,onClose:be},l.a.createElement(xe,null,"Alerta"),l.a.createElement(V.a,null,l.a.createElement(de.a,null,"Esta seguro de eliminar esta atenci\xf3n?")),l.a.createElement(L.a,null,l.a.createElement(F.a,{autoFocus:!0,onClick:be,color:"primary"},"NO"),l.a.createElement(F.a,{onClick:function(e){D(!1),Object(I.g)(e).then((function(a){if("success"===a.status){T.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=o.map((function(a){return e!==a._id||(a.status="deleted"),a}));g(t)}else T.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){T.b.error("Ocurri\xf3 un error al eliminar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(H.a,{maxWidth:"md",open:Q,onClose:Ce,TransitionComponent:we},l.a.createElement(V.a,null,l.a.createElement(ue,{onRefreshProjects:function(){Object(I.k)().then((function(e){g(e.projects),N(e.count),W(1)}))},onClose:Ce,project:v})),l.a.createElement(L.a,null,l.a.createElement(F.a,{autoFocus:!0,onClick:Ce,color:"primary"},"Cerrar"))),l.a.createElement(H.a,{fullWidth:!0,fullScreen:!0,open:J,onClose:Oe,TransitionComponent:we},l.a.createElement(V.a,null,l.a.createElement(ne,{project:v})),l.a.createElement(L.a,null,l.a.createElement(F.a,{autoFocus:!0,onClick:Oe,color:"primary"},"Cerrar"))),l.a.createElement(H.a,{fullWidth:!0,maxWidth:"sm",open:ee,onClose:Ie},l.a.createElement(xe,null,"Observaciones"),l.a.createElement(V.a,null,l.a.createElement(de.a,null,l.a.createElement(E.a,{autoComplete:"off",multiline:!0,autoFocus:!0,margin:"dense",id:"name",label:"Observaciones",onChange:function(e){le(e.target.value)},fullWidth:!0}))),l.a.createElement(L.a,null,ie?l.a.createElement("div",{className:"circularProgress"},l.a.createElement(w.a,null)):l.a.createElement(c.Fragment,null,l.a.createElement(F.a,{autoFocus:!0,onClick:Ie,color:"primary"},"Cancelar"),l.a.createElement(F.a,{onClick:function(){console.log(ce),console.log(v),me(!0);var e={observations:ce,id:v._id};Object(I.n)(e).then((function(e){me(!1),ae(!1),"success"===e.status?ye.a.fire({icon:"success",title:"Mensaje",text:e.message,showConfirmButton:!1,timer:3e3}):ye.a.fire({icon:"error",title:"Error",text:e.message,showConfirmButton:!1,timer:3e3})})).catch((function(e){console.log(e),me(!1)}))},color:"primary"},"Guardar")))))}},961:function(e,a,t){}}]);
//# sourceMappingURL=7.f0b5935f.chunk.js.map