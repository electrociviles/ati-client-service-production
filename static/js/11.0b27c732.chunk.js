(this.webpackJsonpati=this.webpackJsonpati||[]).push([[11],{1059:function(e,a,t){"use strict";t.r(a);var n=t(17),r=t(11),l=t(1),c=t.n(l),o=t(913),i=t(968),s=t(969),u=t(971),m=t(972),p=t(970),g=t(128),E=t(13),d=(t(58),t(941)),b=t(19),f=(t(960),t(909)),h=t(922),O=t(912),v=t(910),C=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(E.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),N=function(e){console.log("props",e);var a=Object(l.useState)({}),t=Object(n.a)(a,2),r=t[0],o=t[1];Object(l.useEffect)((function(){o(e.attention),console.log(e.attention.attentionItems)}),[r,e.attention]);var m=C(),g=Object(l.useState)(!1),E=Object(n.a)(g,2);E[0],E[1];return c.a.createElement(f.a,null,c.a.createElement(h.a,{title:"Detalle Usuario"}),c.a.createElement(O.a,null),c.a.createElement(v.a,{className:m.content},c.a.createElement(i.a,null,c.a.createElement(s.a,null,c.a.createElement(p.a,null,c.a.createElement(u.a,null,"DESCRIPCI\xd3N"),c.a.createElement(u.a,null,r.description)),c.a.createElement(p.a,{selected:!0},c.a.createElement(u.a,null,"ESTADO"),c.a.createElement(u.a,null,"finished"===r.status?c.a.createElement(d.a,{label:"Finalizado",variant:"outlined"}):c.a.createElement(d.a,{label:"Activo",color:"primary",variant:"outlined"}))),c.a.createElement(p.a,null,c.a.createElement(u.a,null,"CLIENTE"),c.a.createElement(u.a,null,r.customer?r.customer.name:"")),c.a.createElement(p.a,null,c.a.createElement(u.a,{colSpan:2},"IMAGENES ANTES DE MANTENIMIENTO")),c.a.createElement(p.a,null,c.a.createElement(u.a,{colSpan:2},c.a.createElement("div",{className:"attention-image-wrapper"},r.attentionItems?r.attentionItems[0].photos.map((function(e,a){return c.a.createElement("div",{key:a,className:"attention-image"},c.a.createElement("img",{src:"".concat(b.a.urlImages).concat(e.url)}))})):c.a.createElement("div",null)))),c.a.createElement(p.a,null,c.a.createElement(u.a,{colSpan:2},"IMAGENES DESPUES DE MANTENIMIENTO")),c.a.createElement(p.a,null,c.a.createElement(u.a,{colSpan:2},c.a.createElement("div",{className:"attention-image-wrapper"},r.attentionItems?r.attentionItems[1].photos.map((function(e,a){return c.a.createElement("div",{key:a,className:"attention-image"},c.a.createElement("img",{src:"".concat(b.a.urlImages).concat(e.url)}))})):c.a.createElement("div",null)))),c.a.createElement(p.a,null,c.a.createElement(u.a,{colSpan:2},"FIRMA Y OBSERVACIONES")),c.a.createElement(p.a,null,c.a.createElement(u.a,null,c.a.createElement("div",{className:"attention-image-wrapper"},c.a.createElement("div",{className:"attention-signature"},c.a.createElement("img",{src:"".concat(b.a.urlImages).concat(r.signature?r.signature:"")})))),c.a.createElement(u.a,null,"".concat(r.description?r.description:"")))))))},j=t(915),S=t(926),I=t(1042),k=t(1040),y=t(1041),P=t(192),w=t.n(P),R=t(878),A=t(911),B=t(1061),T=t(9),x=t(1039),D=t(873),H=t(107),M=t.n(H),_=t(66),W=t(130),F=t(91),z=t(946),G=(t(952),Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}}))),V=Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,l=Object(r.a)(e,["children","classes","onClose"]);return c.a.createElement(x.a,Object.assign({disableTypography:!0,className:t.root},l),c.a.createElement(_.a,{variant:"h6"},a),n?c.a.createElement(D.a,{"aria-label":"close",className:t.closeButton,onClick:n},c.a.createElement(M.a,null)):null)})),J=c.a.forwardRef((function(e,a){return c.a.createElement(R.a,Object.assign({direction:"up",ref:a},e))}));a.default=function(e){Object(l.useEffect)((function(){var e={start:0,end:L,paginate:!0};Object(W.p)(e).then((function(e){E(e.attentions),R(e.count)}))}),[]);var a=G(),t=Object(l.useState)([]),r=Object(n.a)(t,2),o=r[0],E=r[1],b=Object(l.useState)(null),f=Object(n.a)(b,2),h=f[0],O=f[1],v=Object(l.useState)(0),C=Object(n.a)(v,2),P=C[0],R=C[1],T=Object(l.useState)(0),x=Object(n.a)(T,2),D=x[0],H=x[1],M=Object(l.useState)(10),_=Object(n.a)(M,2),L=_[0],U=_[1],Y=Object(l.useState)(!1),q=Object(n.a)(Y,2),K=q[0],Q=q[1],X=Object(l.useState)(!1),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],ae=function(){Q(!1)},te=function(e){return function(){O(e),ee(!0)}},ne=function(e){return function(){Object(W.z)(e._id).then((function(a){if("success"===a.status){z.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=o.map((function(a){return e._id!==a._id||(a.status="created"),a}));E(t)}else z.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e),z.b.error("Occurri\xf3 un error al abrir la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},re=function(e){return function(){Object(W.a)(e._id).then((function(a){if("success"===a.status){z.b.info(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=o.map((function(a){return e._id!==a._id||(a.status="finished"),a}));E(t)}else z.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e),z.b.error("Occurri\xf3 un error al cerrar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},le=function(){ee(!1)};return c.a.createElement(l.Fragment,null,c.a.createElement(z.a,null),c.a.createElement(g.a,{className:a.paper},c.a.createElement(i.a,null,c.a.createElement(m.a,null,c.a.createElement(p.a,null,c.a.createElement(u.a,null,"NOMBRE"),c.a.createElement(u.a,null,"DESCRIPCI\xd3N"),c.a.createElement(u.a,null,"ESTADO"),c.a.createElement(u.a,null,"CLIENTE"),c.a.createElement(u.a,null,"VER"),c.a.createElement(u.a,null,"ABRIR/CERRAR"))),c.a.createElement(s.a,null,o.map((function(e){return c.a.createElement(p.a,{key:e._id},c.a.createElement(u.a,null,e.title," "),c.a.createElement(u.a,null,e.description," "),c.a.createElement(u.a,null,"finished"===e.status?c.a.createElement(d.a,{label:"Cerrado",variant:"outlined"}):c.a.createElement(d.a,{label:"Abierto",color:"primary",variant:"outlined"})),c.a.createElement(u.a,null,e.customer.name),c.a.createElement(u.a,{className:a.iconWidth},c.a.createElement(A.a,{title:"Detalle",placement:"top"},c.a.createElement(w.a,{className:a.icon,onClick:te(e)}))),c.a.createElement(u.a,{className:a.iconWidth},"finished"===e.status?c.a.createElement("div",{className:"wrapper-icon-attention"},c.a.createElement(F.g,{className:"icon",onClick:ne(e)}),c.a.createElement("span",{className:"open-close"},"Abrir")):c.a.createElement("div",{className:"wrapper-icon-attention"},c.a.createElement(F.b,{className:"icon",onClick:re(e)}),c.a.createElement("div",{className:"open-close"},"Cerrar"))))})))),c.a.createElement(B.a,{rowsPerPageOptions:[10,25,100],component:"div",count:P,rowsPerPage:L,page:D,onChangePage:function(e,a){H(a);var t={start:a,end:L,paginate:!0};Object(W.p)(t).then((function(e){E(e.attentions),R(e.count)}))},onChangeRowsPerPage:function(e){U(+e.target.value),H(0);var a={start:0,end:e.target.value,paginate:!0};Object(W.p)(a).then((function(e){E(e.attentions),R(e.count)}))}})),c.a.createElement(S.a,{open:K,onClose:ae,"aria-labelledby":"draggable-dialog-title"},c.a.createElement(V,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),c.a.createElement(k.a,null,c.a.createElement(y.a,null,"Esta seguro de eliminar esta atenci\xf3n?")),c.a.createElement(I.a,null,c.a.createElement(j.a,{autoFocus:!0,onClick:ae,color:"primary"},"NO"),c.a.createElement(j.a,{onClick:function(e){Q(!1),Object(W.g)(e).then((function(a){if("success"===a.status){z.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=o.map((function(a){return e!==a._id||(a.status="deleted"),a}));E(t)}else z.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){z.b.error("Ocurri\xf3 un error al eliminar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),c.a.createElement(S.a,{fullWidth:!0,maxWidth:"lg",open:$,onClose:le,TransitionComponent:J},c.a.createElement(k.a,null,c.a.createElement(N,{attention:h})),c.a.createElement(I.a,null,c.a.createElement(j.a,{autoFocus:!0,onClick:le,color:"primary"},"Cerrar"))))}},960:function(e,a,t){}}]);
//# sourceMappingURL=11.0b27c732.chunk.js.map