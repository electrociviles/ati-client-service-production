(this.webpackJsonpati=this.webpackJsonpati||[]).push([[6],{1001:function(e,a,t){"use strict";t.r(a);var n=t(18),r=t(11),l=t(1),o=t.n(l),c=t(912),i=t(984),s=t(985),u=t(987),m=t(989),p=t(986),g=t(127),d=t(13),E=(t(58),t(940)),b=t(28),f=(t(948),t(907)),h=t(921),O=t(911),v=t(908),C=Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),N=function(e){console.log("props",e);var a=Object(l.useState)({}),t=Object(n.a)(a,2),r=t[0],c=t[1];Object(l.useEffect)((function(){c(e.attention)}),[r,e.attention]);var m=C(),g=Object(l.useState)(!1),d=Object(n.a)(g,2);d[0],d[1];return o.a.createElement(f.a,null,o.a.createElement(h.a,{title:"Detalle Usuario"}),o.a.createElement(O.a,null),o.a.createElement(v.a,{className:m.content},o.a.createElement(i.a,null,o.a.createElement(s.a,null,o.a.createElement(p.a,null,o.a.createElement(u.a,null,"DESCRIPCI\xd3N"),o.a.createElement(u.a,null,r.description)),o.a.createElement(p.a,{selected:!0},o.a.createElement(u.a,null,"ESTADO"),o.a.createElement(u.a,null,"finished"===r.status?o.a.createElement(E.a,{label:"Finalizado",variant:"outlined"}):o.a.createElement(E.a,{label:"Activo",color:"primary",variant:"outlined"}))),o.a.createElement(p.a,null,o.a.createElement(u.a,null,"CLIENTE"),o.a.createElement(u.a,null,r.customer?r.customer.name:"")),o.a.createElement(p.a,null,o.a.createElement(u.a,{colSpan:2},"IMAGENES ANTES DE MANTENIMIENTO")),o.a.createElement(p.a,null,o.a.createElement(u.a,{colSpan:2},o.a.createElement("div",{className:"attention-image-wrapper"},r.photos_before?r.photos_before.map((function(e,a){return o.a.createElement("div",{key:a,className:"attention-image"},o.a.createElement("img",{src:"".concat(b.a.urlImages).concat(e)}))})):o.a.createElement("div",null)))),o.a.createElement(p.a,null,o.a.createElement(u.a,{colSpan:2},"IMAGENES DESPUES DE MANTENIMIENTO")),o.a.createElement(p.a,null,o.a.createElement(u.a,{colSpan:2},o.a.createElement("div",{className:"attention-image-wrapper"},r.photos_after?r.photos_after.map((function(e,a){return o.a.createElement("div",{key:a,className:"attention-image"},o.a.createElement("img",{src:"".concat(b.a.urlImages).concat(e)}))})):o.a.createElement("div",null)))),o.a.createElement(p.a,null,o.a.createElement(u.a,{colSpan:2},"FIRMA Y OBSERVACIONES")),o.a.createElement(p.a,null,o.a.createElement(u.a,null,o.a.createElement("div",{className:"attention-image-wrapper"},o.a.createElement("div",{className:"attention-signature"},o.a.createElement("img",{src:"".concat(b.a.urlImages).concat(r.signature?r.signature:"")})))),o.a.createElement(u.a,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum"))))))},j=t(914),S=t(925),k=t(992),I=t(990),y=t(991),P=t(188),w=t.n(P),A=t(872),R=t(909),B=t(997),T=t(9),x=t(988),_=t(910),D=t(105),H=t.n(D),M=t(66),W=t(247),F=t(90),q=t(944),G=(t(945),Object(c.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}}))),z=Object(T.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,l=Object(r.a)(e,["children","classes","onClose"]);return o.a.createElement(x.a,Object.assign({disableTypography:!0,className:t.root},l),o.a.createElement(M.a,{variant:"h6"},a),n?o.a.createElement(_.a,{"aria-label":"close",className:t.closeButton,onClick:n},o.a.createElement(H.a,null)):null)})),L=o.a.forwardRef((function(e,a){return o.a.createElement(A.a,Object.assign({direction:"up",ref:a},e))}));a.default=function(e){Object(l.useEffect)((function(){Object(W.i)().then((function(e){d(e.attentions),A(e.count)}))}),[]);var a=G(),t=Object(l.useState)([]),r=Object(n.a)(t,2),c=r[0],d=r[1],b=Object(l.useState)(null),f=Object(n.a)(b,2),h=f[0],O=f[1],v=Object(l.useState)(0),C=Object(n.a)(v,2),P=C[0],A=C[1],T=Object(l.useState)(0),x=Object(n.a)(T,2),_=x[0],D=x[1],H=Object(l.useState)(10),M=Object(n.a)(H,2),U=M[0],V=M[1],J=Object(l.useState)(!1),Y=Object(n.a)(J,2),K=Y[0],Q=Y[1],X=Object(l.useState)(!1),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],ae=function(){Q(!1)},te=function(e){return function(){O(e),ee(!0)}},ne=function(e){return function(){Object(W.o)(e._id).then((function(a){if("success"===a.status){q.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(a){return e._id!==a._id||(a.status="created"),a}));d(t)}else q.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e),q.b.error("Occurri\xf3 un error al abrir la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},re=function(e){return function(){Object(W.a)(e._id).then((function(a){if("success"===a.status){q.b.info(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(a){return e._id!==a._id||(a.status="finished"),a}));d(t)}else q.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e),q.b.error("Occurri\xf3 un error al cerrar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},le=function(){ee(!1)};return o.a.createElement(l.Fragment,null,o.a.createElement(q.a,null),o.a.createElement(g.a,{className:a.paper},o.a.createElement(i.a,null,o.a.createElement(m.a,null,o.a.createElement(p.a,null,o.a.createElement(u.a,null,"DESCRIPCI\xd3N"),o.a.createElement(u.a,null,"ESTADO"),o.a.createElement(u.a,null,"CLIENTE"),o.a.createElement(u.a,null,"VER"),o.a.createElement(u.a,null,"ABRIR/CERRAR"))),o.a.createElement(s.a,null,c.map((function(e){return o.a.createElement(p.a,{key:e._id},o.a.createElement(u.a,null,e.description," "),o.a.createElement(u.a,null,"finished"===e.status?o.a.createElement(E.a,{label:"Cerrado",variant:"outlined"}):o.a.createElement(E.a,{label:"Abierto",color:"primary",variant:"outlined"})),o.a.createElement(u.a,null,e.customer.name),o.a.createElement(u.a,{className:a.iconWidth},o.a.createElement(R.a,{title:"Detalle",placement:"top"},o.a.createElement(w.a,{className:a.icon,onClick:te(e)}))),o.a.createElement(u.a,{className:a.iconWidth},"finished"===e.status?o.a.createElement("div",{className:"wrapper-icon-attention"},o.a.createElement(F.e,{className:"icon",onClick:ne(e)}),o.a.createElement("span",{className:"open-close"},"Abrir")):o.a.createElement("div",{className:"wrapper-icon-attention"},o.a.createElement(F.a,{className:"icon",onClick:re(e)}),o.a.createElement("div",{className:"open-close"},"Cerrar"))))})))),o.a.createElement(B.a,{rowsPerPageOptions:[10,25,100],component:"div",count:P,rowsPerPage:U,page:_,onChangePage:function(e,a){D(a)},onChangeRowsPerPage:function(e){V(+e.target.value),D(0)}})),o.a.createElement(S.a,{open:K,onClose:ae,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(z,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(I.a,null,o.a.createElement(y.a,null,"Esta seguro de eliminar esta atenci\xf3n?")),o.a.createElement(k.a,null,o.a.createElement(j.a,{autoFocus:!0,onClick:ae,color:"primary"},"NO"),o.a.createElement(j.a,{onClick:function(e){Q(!1),Object(W.e)(e).then((function(a){if("success"===a.status){q.b.success(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(a){return e!==a._id||(a.status="deleted"),a}));d(t)}else q.b.error(a.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){q.b.error("Ocurri\xf3 un error al eliminar la atenci\xf3n",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),o.a.createElement(S.a,{fullWidth:!0,maxWidth:"lg",open:$,onClose:le,TransitionComponent:L},o.a.createElement(I.a,null,o.a.createElement(N,{attention:h})),o.a.createElement(k.a,null,o.a.createElement(j.a,{autoFocus:!0,onClick:le,color:"primary"},"Cerrar"))))}},948:function(e,a,t){}}]);
//# sourceMappingURL=6.ee23ff65.chunk.js.map