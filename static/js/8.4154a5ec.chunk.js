(this.webpackJsonpati=this.webpackJsonpati||[]).push([[8],{1002:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(11),l=a(1),o=a.n(l),c=a(912),i=a(985),s=a(986),u=a(988),m=a(990),d=a(987),g=a(127),p=a(13),b=a(907),E=a(921),f=a(911),O=a(908),h=Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(p.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),C=function(e){console.log("props",e);var t=h(),a=Object(l.useState)(!1),r=Object(n.a)(a,2);r[0],r[1];return o.a.createElement(b.a,null,o.a.createElement(E.a,{title:"Detalle Usuario"}),o.a.createElement(f.a,null),o.a.createElement(O.a,{className:t.content},o.a.createElement(i.a,null,o.a.createElement(s.a,null,o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Nombres"),o.a.createElement(u.a,null,e.customer.name)),o.a.createElement(d.a,{selected:!0},o.a.createElement(u.a,null,"Nit"),o.a.createElement(u.a,null,e.customer.nit)),o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Direcci\xf3n"),o.a.createElement(u.a,null,e.customer.address)),o.a.createElement(d.a,{selected:!0},o.a.createElement(u.a,null,"Telefono"),o.a.createElement(u.a,null,e.customer.phone)),o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Correo electr\xf3nico"),o.a.createElement(u.a,null,e.customer.email))))))},j=a(914),v=a(947),x=a.n(v),S=a(273),y=a.n(S),N=a(925),k=a(993),P=a(991),W=a(992),w=a(188),F=a.n(w),T=a(872),B=a(951),I=a.n(B),H=a(926),R=a(959),z=a(3),M=(a(952),a(928)),D=a(247),_=a(944),U=(a(945),Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(p.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var G=function(e){Object(l.useEffect)((function(){console.log(e),e.customer&&(m(e.customer.name),E(e.customer.nit),C(e.customer.address),y(e.customer.phone),W(e.customer.email))}),[]);var t=Object(l.useState)(!1),a=Object(n.a)(t,2),r=a[0],c=(a[1],U()),i=Object(l.useState)(""),s=Object(n.a)(i,2),u=s[0],m=s[1],d=Object(l.useState)(""),p=Object(n.a)(d,2),b=p[0],E=p[1],f=Object(l.useState)(""),O=Object(n.a)(f,2),h=O[0],C=O[1],v=Object(l.useState)(""),x=Object(n.a)(v,2),S=x[0],y=x[1],N=Object(l.useState)(""),k=Object(n.a)(N,2),P=k[0],W=k[1],w=Object(l.useState)(!1),F=Object(n.a)(w,2),T=F[0],B=F[1],I=Object(l.useState)(""),G=Object(n.a)(I,2),q=G[0],A=G[1],J=Object(l.useState)(!1),V=Object(n.a)(J,2),L=V[0],K=V[1],Q=Object(l.useState)(""),X=Object(n.a)(Q,2),Y=X[0],Z=X[1],$=Object(l.useState)(!1),ee=Object(n.a)($,2),te=(ee[0],ee[1],Object(l.useState)("")),ae=Object(n.a)(te,2),ne=(ae[0],ae[1],Object(l.useState)(!1)),re=Object(n.a)(ne,2),le=(re[0],re[1],Object(l.useState)("")),oe=Object(n.a)(le,2),ce=(oe[0],oe[1],Object(l.useState)(!1)),ie=Object(n.a)(ce,2),se=ie[0],ue=ie[1],me=Object(l.useState)(""),de=Object(n.a)(me,2),ge=de[0],pe=de[1],be=function(e){var t=void 0!==e?e:u;return null==t||""===t.toString().trim()?(B(!0),A("Este campo es requerido"),1):(B(!1),A(""),0)},Ee=function(e){var t=void 0!==e?e:b;return null==t||""===t.toString().trim()?(K(!0),Z("Este campo es requerido"),1):(K(!1),Z(""),0)},fe=function(e){var t=void 0!==e?e:P;return null==t||""===t.toString().trim()?(ue(!0),pe("Este campo es requerido"),1):(ue(!1),pe(""),0)},Oe=function(t){if(0===function(){var e=0;return e+=be(),e+=fe(),e+=Ee()}()){var a={name:u,nit:b,address:h,phone:S,email:P};e.customer?(a.id=e.customer._id,Object(D.u)(a).then((function(t){console.log("response",t),"success"==t.status?(_.b.info("Cliente actualizado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onCloseModal(!0),e.onUpdateCustomers()):_.b.error("Ocurri\xf3 un error al registrar el cliente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))):Object(D.b)(a).then((function(t){console.log("response",t),"success"==t.status?(_.b.info("Cliente registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onCloseModal(!0),e.onUpdateCustomers()):_.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}};return o.a.createElement(l.Fragment,null,o.a.createElement(_.a,null),o.a.createElement(R.a,{maxWidth:"md"},o.a.createElement(g.a,{className:c.paper},o.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),Oe()}},o.a.createElement(H.a,{container:!0,spacing:3},o.a.createElement(H.a,{item:!0,xs:12,sm:4},o.a.createElement(M.a,{fullWidth:!0,error:T,helperText:q,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(z.a)(c.margin,c.textField),variant:"outlined",label:"Nombre",value:u,onChange:function(e){m(e.target.value),be(e.target.value)}})),o.a.createElement(H.a,{item:!0,xs:12,sm:4},o.a.createElement(M.a,{fullWidth:!0,error:L,helperText:Y,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(z.a)(c.margin,c.textField),variant:"outlined",value:b,onChange:function(e){E(e.target.value),Ee(e.target.value)},label:"Nit"})),o.a.createElement(H.a,{item:!0,xs:12,sm:4},o.a.createElement(M.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(z.a)(c.margin,c.textField),variant:"outlined",label:"Direccion",value:h,onChange:function(e){C(e.target.value)}})),o.a.createElement(H.a,{item:!0,xs:12,sm:4},o.a.createElement(M.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(z.a)(c.margin,c.textField),variant:"outlined",label:"Telefono",onChange:function(e){y(e.target.value)}})),o.a.createElement(H.a,{item:!0,xs:12,sm:4},o.a.createElement(M.a,{fullWidth:!0,error:se,helperText:ge,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(z.a)(c.margin,c.textField),variant:"outlined",label:"Correo",onChange:function(e){W(e.target.value)}})),o.a.createElement(H.a,{item:!0,xs:2,sm:3},o.a.createElement(j.a,{disabled:r,type:"submit",variant:"contained",color:"primary"},e.customer?"Actualizar":"Guardar")))))))},q=a(909),A=a(266),J=a.n(A),V=a(935),L=a(999),K=a(9),Q=a(989),X=a(910),Y=a(105),Z=a.n(Y),$=a(66),ee=Object(c.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),te=Object(K.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(r.a)(e,["children","classes","onClose"]);return o.a.createElement(Q.a,Object.assign({disableTypography:!0,className:a.root},l),o.a.createElement($.a,{variant:"h6"},t),n?o.a.createElement(X.a,{"aria-label":"close",className:a.closeButton,onClick:n},o.a.createElement(Z.a,null)):null)})),ae=o.a.forwardRef((function(e,t){return o.a.createElement(T.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(e){Object(l.useEffect)((function(){Object(D.j)().then((function(e){console.log(e),p(e.customers),O(e.count)}))}),[]);var t=ee(),a=Object(l.useState)([]),r=Object(n.a)(a,2),c=r[0],p=r[1],b=Object(l.useState)(0),E=Object(n.a)(b,2),f=E[0],O=E[1],h=Object(l.useState)(0),v=Object(n.a)(h,2),S=v[0],w=v[1],T=Object(l.useState)(10),B=Object(n.a)(T,2),H=B[0],R=B[1],z=Object(l.useState)(!1),M=Object(n.a)(z,2),U=M[0],A=M[1],K=Object(l.useState)(!1),Q=Object(n.a)(K,2),X=Q[0],Y=Q[1],Z=Object(l.useState)(!1),$=Object(n.a)(Z,2),ne=$[0],re=$[1],le=Object(l.useState)(!1),oe=Object(n.a)(le,2),ce=oe[0],ie=oe[1],se=Object(l.useState)(!1),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],ge=Object(l.useState)({}),pe=Object(n.a)(ge,2),be=pe[0],Ee=pe[1],fe=function(){Object(D.j)().then((function(e){console.log(e),p(e.customers),O(e.count)}))},Oe=function(e){return function(){Ee(e),Y(!0)}},he=function(){A(!1)},Ce=function(e){return function(){Ee(e),re(!0)}},je=function(){re(!1)},ve=function(e){return function(){Ee(e),ie(!0)}},xe=function(){ie(!1)},Se=function(){Y(!1)},ye=function(){de(!1)},Ne=function(){de(!1),ie(!1)};return o.a.createElement(l.Fragment,null,o.a.createElement(_.a,null),o.a.createElement(g.a,{className:t.paper},o.a.createElement(V.a,{onClick:function(){de(!0)},variant:"extended",color:"primary",size:"small",className:t.margin},o.a.createElement(J.a,{className:t.extendedIcon}),"Nuevo cliente"),o.a.createElement(i.a,null,o.a.createElement(m.a,null,o.a.createElement(d.a,null,o.a.createElement(u.a,null,"NOMBRE"),o.a.createElement(u.a,null,"NIT"),o.a.createElement(u.a,null,"DIRECCION"),o.a.createElement(u.a,null,"TELEFONO"),o.a.createElement(u.a,null,"CORREO"),o.a.createElement(u.a,null),o.a.createElement(u.a,null),o.a.createElement(u.a,null))),o.a.createElement(s.a,null,c.map((function(e){return o.a.createElement(d.a,{key:e._id},o.a.createElement(u.a,null,e.name," "),o.a.createElement(u.a,null,e.nit),o.a.createElement(u.a,null,e.address),o.a.createElement(u.a,null,e.phone),o.a.createElement(u.a,null,e.email),o.a.createElement(u.a,{className:t.iconWidth},o.a.createElement(q.a,{title:"Detalle",placement:"top"},o.a.createElement(F.a,{className:t.icon,onClick:Ce(e)}))),o.a.createElement(u.a,{className:t.iconWidth},o.a.createElement(q.a,{title:"Editar",placement:"top"},o.a.createElement(x.a,{className:t.icon,onClick:ve(e)}))),o.a.createElement(u.a,{className:t.iconWidth},o.a.createElement(q.a,{title:"Eliminar",placement:"top"},"activo"===e.status?o.a.createElement(y.a,{className:t.icon,onClick:(a=e._id,function(){Ee(a),A(!0)})}):o.a.createElement(I.a,{className:t.icon,onClick:Oe(e._id)}))));var a})))),o.a.createElement(L.a,{rowsPerPageOptions:[10,25,100],component:"div",count:f,rowsPerPage:H,page:S,onChangePage:function(e,t){w(t)},onChangeRowsPerPage:function(e){R(+e.target.value),w(0)}})),o.a.createElement(N.a,{open:U,onClose:he,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(te,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(P.a,null,o.a.createElement(W.a,null,"Esta seguro de desabilitar este cliente?")),o.a.createElement(k.a,null,o.a.createElement(j.a,{autoFocus:!0,onClick:he,color:"primary"},"NO"),o.a.createElement(j.a,{onClick:function(){A(!1),Object(D.f)(be).then((function(e){if("success"===e.status){_.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(e){return be!==e._id||(e.status="inactivo"),e}));p(t)}else _.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){_.b.error("Ocurri\xf3 un error al desactivar el cliente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),o.a.createElement(N.a,{open:X,onClose:Se,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(te,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(P.a,null,o.a.createElement(W.a,null,"Esta seguro de habilitar este cliente?")),o.a.createElement(k.a,null,o.a.createElement(j.a,{autoFocus:!0,onClick:Se,color:"primary"},"NO"),o.a.createElement(j.a,{onClick:function(){Y(!1),Object(D.s)(be).then((function(e){if("success"===e.status){_.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(e){return be!==e._id||(e.estado="activo"),e}));p(t)}else _.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){_.b.error("Ocurri\xf3 un error al activar el cliente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),o.a.createElement(N.a,{open:ne,onClose:je,TransitionComponent:ae},o.a.createElement(P.a,null,o.a.createElement(C,{customer:be})),o.a.createElement(k.a,null,o.a.createElement(j.a,{autoFocus:!0,onClick:je,color:"primary"},"Cerrar"))),o.a.createElement(N.a,{maxWidth:"md",open:ce,onClose:xe,TransitionComponent:ae},o.a.createElement(P.a,null,o.a.createElement(G,{onCloseModal:Ne,onUpdateCustomers:fe,customer:be})),o.a.createElement(k.a,null,o.a.createElement(j.a,{autoFocus:!0,onClick:xe,color:"primary"},"Cerrar"))),o.a.createElement(N.a,{fullWidth:!0,maxWidth:"md",open:me},o.a.createElement(te,{onClose:ye},"Crear usuario"),o.a.createElement(P.a,null,o.a.createElement(G,{handleClose:ye,onCloseModal:Ne,onUpdateCustomers:fe,modal:!0})),o.a.createElement(k.a,null,o.a.createElement(j.a,{onClick:ye,color:"primary"},"Cerrar"))))}}}]);
//# sourceMappingURL=8.4154a5ec.chunk.js.map