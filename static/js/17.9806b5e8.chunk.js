(this.webpackJsonpati=this.webpackJsonpati||[]).push([[17],{1117:function(e,t,a){"use strict";a.r(t);var n=a(149),r=a(14),c=a(1),i=a.n(c),o=a(939),l=a(267),u=a(268),s=a(28),m=a(944),d=a(37),f=a(113),p=a(204),g=a(941),b=a.n(g),O=a(291),E=a.n(O),j=a(719),h=a(721),v=a(720),C=a(948),S=a(947),x=a(495),y=a(1021),A=a.n(y),w=a(12),N=a(72),k=a(943),W=a(3),F=a(489),T=a(1115),_=a(64),I=a(273),P=a(49),q=a(1016),z=(a(1017),a(290)),B=a.n(z),D=a(1033),M=a(942),R=a(1110),G=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(w.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),J=function(e){Object(c.useEffect)((function(){console.log("props",e),Object(_.u)().then((function(t){m(t.customers),e.centerOfAttention&&O(e.centerOfAttention.customer)})),e.centerOfAttention&&(y(e.centerOfAttention.title),v(e.centerOfAttention.description),O(e.centerOfAttention.customer))}),[]);var t=Object(c.useState)(!1),a=Object(r.a)(t,2),n=a[0],o=(a[1],G()),l=Object(c.useState)([]),u=Object(r.a)(l,2),s=u[0],m=u[1],d=Object(c.useState)(),g=Object(r.a)(d,2),b=g[0],O=g[1],E=Object(c.useState)(""),j=Object(r.a)(E,2),h=j[0],v=j[1],C=Object(c.useState)(""),S=Object(r.a)(C,2),x=S[0],y=S[1],A=Object(c.useState)(""),w=Object(r.a)(A,2),z=w[0],J=w[1],U=Object(c.useState)(""),V=Object(r.a)(U,2),H=V[0],K=V[1],L=Object(c.useState)(""),$=Object(r.a)(L,2),Q=$[0],X=$[1],Y=Object(c.useState)(""),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(!1),ne=Object(r.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(c.useState)(""),oe=Object(r.a)(ie,2),le=oe[0],ue=oe[1],se=Object(c.useState)(!1),me=Object(r.a)(se,2),de=me[0],fe=me[1],pe=Object(c.useState)(""),ge=Object(r.a)(pe,2),be=ge[0],Oe=ge[1],Ee=Object(c.useState)(!1),je=Object(r.a)(Ee,2),he=je[0],ve=je[1],Ce=Object(c.useState)(""),Se=Object(r.a)(Ce,2),xe=Se[0],ye=Se[1],Ae=Object(c.useState)(!1),we=Object(r.a)(Ae,2),Ne=we[0],ke=we[1],We=Object(c.useState)(""),Fe=Object(r.a)(We,2),Te=Fe[0],_e=Fe[1],Ie=Object(c.useState)(!1),Pe=Object(r.a)(Ie,2),qe=Pe[0],ze=Pe[1],Be=Object(c.useState)(""),De=Object(r.a)(Be,2),Me=De[0],Re=De[1],Ge=Object(c.useState)(!1),Je=Object(r.a)(Ge,2),Ue=Je[0],Ve=Je[1],He=Object(c.useState)(""),Ke=Object(r.a)(He,2),Le=(Ke[0],Ke[1]),$e=Object(c.useState)(new Date),Qe=Object(r.a)($e,2),Xe=Qe[0],Ye=Qe[1],Ze=function(e){var t=void 0!==e?e:h;return null==t||""===t.toString().trim()?(fe(!0),Oe("Este campo es requerido"),1):(fe(!1),Oe(""),0)},et=function(e){var t=void 0!==e?e:x;return null==t||""===t.toString().trim()?(ce(!0),ue("Este campo es requerido"),1):(ce(!1),ue(""),0)},tt=function(e){var t=void 0!==e?e:z;return null==t||""===t.toString().trim()?(ve(!0),ye("Este campo es requerido"),1):(ve(!1),ye(""),0)},at=function(e){var t=void 0!==e?e:H;return null==t||""===t.toString().trim()?(ke(!0),_e("Este campo es requerido"),1):(ke(!1),_e(""),0)},nt=function(e){var t=void 0!==e?e:Q;return null==t||""===t.toString().trim()?(ze(!0),Re("Este campo es requerido"),1):(ze(!1),Re(""),0)},rt=function(e){var t=void 0!==e?e:ee;return null==t||""===t.toString().trim()?(Ve(!0),Le("Este campo es requerido"),1):(Ve(!1),Le(""),0)},ct=function(){if(0===function(){var e=0;return e+=Ze(),e+=et(),e+=tt(),e+=at()}()){var t={name:x,description:h,username:z,password:H,expirationDateMaintenance:Xe,customer:b._id,maintenanceCost:parseFloat(ee)};e.centerOfAttention?(t.id=e.centerOfAttention._id,Object(_.O)(t).then((function(t){"success"==t.status?(B.a.fire({icon:"success",title:"El centro de atenci\xf3n ".concat(x,"  fue actualizado exitosamente"),showConfirmButton:!1,timer:1500}),e.onClose(),e.passCenterOfAttentionEdit(t.centerOfAttention)):B.a.fire({icon:"error",title:"Ocurri\xf3 un error al actualizar el centro de atenci\xf3n ".concat(x),showConfirmButton:!1,timer:1500})}))):Object(_.c)(t).then((function(t){"success"==t.status?(B.a.fire({icon:"success",title:"El centro de atenci\xf3n ".concat(x,"  fue creado exitosamente"),showConfirmButton:!1,timer:1500}),e.onCloseModal(),e.passCreateCenterOfAttention(t.centerOfAttention)):B.a.fire({icon:"error",title:"Ocurri\xf3 un error al crear el centro de atenci\xf3n ".concat(x),showConfirmButton:!1,timer:1500})}))}else q.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return i.a.createElement(c.Fragment,null,i.a.createElement(q.a,null),i.a.createElement(k.a,{maxWidth:"md"},i.a.createElement(f.a,{className:o.paper},i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),ct()}},i.a.createElement(N.a,{container:!0,spacing:3},i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(T.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:s,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){O(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(_.u)(a).then((function(e){m(e.customers)}))}},renderInput:function(e){return i.a.createElement(F.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return i.a.createElement(I.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==s.indexOf(e)}))}))},renderOption:function(e){return i.a.createElement(N.a,{container:!0,alignItems:"center"},i.a.createElement(N.a,{item:!0,xs:!0},i.a.createElement(P.a,null,"".concat(e.name.toString().toUpperCase()))))}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,error:re,helperText:le,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Nombre del centro de atenci\xf3n",value:x,onChange:function(e){y(e.target.value),et(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,error:de,helperText:be,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Descripci\xf3n del centro de atenci\xf3n",value:h,onChange:function(e){v(e.target.value),Ze(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(M.a,{utils:D.a},i.a.createElement(R.a,{style:{width:"100%"},margin:"normal",label:"Vencimiento mantenimiento",format:"MM/dd/yyyy",value:Xe,onChange:function(e){Ye(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{fullWidth:!0,error:Ue,helperText:Ue,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Costo del mantenimiento",value:ee,onChange:function(e){te(e.target.value),rt(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},e.centerOfAttention?"":i.a.createElement("fieldset",null,i.a.createElement("legend",null,i.a.createElement(P.a,null,"Datos del oset")),i.a.createElement(N.a,{container:!0,spacing:1},i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{fullWidth:!0,error:he,helperText:xe,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Nombre de usuario",value:z,onChange:function(e){J(e.target.value),tt(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{fullWidth:!0,error:Ne,helperText:Te,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Contrase\xf1a",value:H,onChange:function(e){K(e.target.value),at(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,error:qe,helperText:Me,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Correo electr\xf3nico",value:Q,onChange:function(e){X(e.target.value),nt(e.target.value)}}))))),i.a.createElement(N.a,{item:!0,xs:2,sm:3},i.a.createElement(p.a,{disabled:n,type:"submit",variant:"contained",color:"primary"},e.centerOfAttention?"Actualizar":"Guardar")))))))},U=a(555),V=a(950),H=a(1032),K=Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),L=i.a.forwardRef((function(e,t){return i.a.createElement(x.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(){var e=K(),t=Object(c.useState)([]),a=Object(r.a)(t,2),o=a[0],g=a[1],O=Object(c.useState)(0),x=Object(r.a)(O,2),y=x[0],w=x[1],N=Object(c.useState)(10),k=Object(r.a)(N,2),W=k[0],F=k[1],T=Object(c.useState)(0),I=Object(r.a)(T,2),P=I[0],q=I[1],z=Object(c.useState)(!1),B=Object(r.a)(z,2),D=B[0],M=B[1],R=Object(c.useState)(!1),G=Object(r.a)(R,2),$=G[0],Q=G[1],X=Object(c.useState)(!1),Y=Object(r.a)(X,2),Z=Y[0],ee=Y[1],te=Object(c.useState)(!1),ae=Object(r.a)(te,2),ne=ae[0],re=ae[1],ce=Object(c.useState)({}),ie=Object(r.a)(ce,2),oe=ie[0],le=ie[1];Object(c.useEffect)((function(){var e={start:0,end:W};Object(_.t)(e).then((function(e){g(e.centersOfAttention),w(e.count)}))}),[]);var ue=function(e){return function(){le(e),M(!0)}},se=function(e){return function(){le(e),Q(!0)}},me=function(){M(!1)},de=function(){ee(!1)},fe=function(){Q(!1)},pe=function(){re(!1)};return i.a.createElement(c.Fragment,null,i.a.createElement(f.a,{className:e.paper},i.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){re(!0)}},"Crear centro de atenci\xf3n"),i.a.createElement(l.a,null,i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(s.a,null,"Nombre"),i.a.createElement(s.a,null,"Descripci\xf3n"),i.a.createElement(s.a,null,"Cliente"),i.a.createElement(s.a,{align:"right"},"Costo mantenimiento"),i.a.createElement(s.a,{colSpan:4},"Acciones"))),i.a.createElement(u.a,null,o.map((function(t){return i.a.createElement(d.a,{key:t._id},i.a.createElement(s.a,null,t.title," "),i.a.createElement(s.a,null,t.description," "),i.a.createElement(s.a,null,t.customer.name," "),i.a.createElement(s.a,{align:"right"},i.a.createElement(H.a,{value:t.maintenanceCost,displayType:"text",thousandSeparator:!0,prefix:"$"})),i.a.createElement(s.a,{className:e.iconWidth},t.administrative?"":i.a.createElement(U.a,{title:"Editar",placement:"top"},i.a.createElement(b.a,{className:e.icon,onClick:(a=t,function(){le(a),ee(!0)})}))),i.a.createElement(s.a,{className:e.iconWidth},i.a.createElement(U.a,{title:"Eliminar",placement:"top"},"active"===t.status?i.a.createElement(E.a,{className:e.icon,onClick:ue(t)}):i.a.createElement(A.a,{className:e.icon,onClick:se(t)}))));var a})))),i.a.createElement(V.a,{rowsPerPageOptions:[10,25,100],component:"div",count:y,rowsPerPage:W,page:P,onChangePage:function(e,t){q(t);var a={start:t*W,end:W};Object(_.t)(a).then((function(e){g(e.centersOfAttention),w(e.count)}))},onChangeRowsPerPage:function(e){F(+e.target.value),q(0);var t={start:0,end:e.target.value};Object(_.t)(t).then((function(e){g(e.centersOfAttention),w(e.count)}))}})),i.a.createElement(j.a,{open:D,onClose:me,"aria-labelledby":"draggable-dialog-title"},i.a.createElement(S.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),i.a.createElement(v.a,null,i.a.createElement(C.a,null,"Esta seguro de desabilitar este centro de atenci\xf3n")),i.a.createElement(h.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:me,color:"primary"},"NO"),i.a.createElement(p.a,{onClick:function(){M(!1),Object(_.i)(oe._id).then((function(e){if("success"===e.status){var t=o.map((function(e){return oe._id!==e._id||(e.status="inactive"),e}));g(t)}}))},color:"primary"},"SI"))),i.a.createElement(j.a,{open:$,onClose:fe},i.a.createElement(S.a,{style:{cursor:"move"}},"Alerta"),i.a.createElement(v.a,null,i.a.createElement(C.a,null,"Esta seguro de reactivar a este centro de atenci\xf3n?")),i.a.createElement(h.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:fe,color:"primary"},"NO"),i.a.createElement(p.a,{onClick:function(){Q(!1),Object(_.I)(oe._id).then((function(e){if("success"===e.status){var t=o.map((function(e,t){return oe._id!==e._id||(e.status="active"),e}));g(t)}}))},color:"primary"},"SI"))),i.a.createElement(j.a,{maxWidth:"md",open:Z,onCloseEditCenterOfAttention:de,TransitionComponent:L},i.a.createElement(v.a,null,i.a.createElement(J,{onClose:de,centerOfAttention:oe,passCenterOfAttentionEdit:function(e){ee(!1);var t=o.map((function(t){return e._id!==t._id?t:t=e}));g(t)}})),i.a.createElement(h.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:de,color:"primary"},"Cerrar"))),i.a.createElement(j.a,{open:ne,onClose:pe,"aria-labelledby":"form-dialog-title"},i.a.createElement(S.a,null,"Crear centro de atenci\xf3n"),i.a.createElement(v.a,null,i.a.createElement(J,{onCloseModal:function(){re(!1)},passCreateCenterOfAttention:function(e){g((function(t){return[].concat(Object(n.a)(t),[e])})),re(!1)}})),i.a.createElement(h.a,null,i.a.createElement(p.a,{onClick:pe,color:"primary"},"Cerrar"))))}}}]);
//# sourceMappingURL=17.9806b5e8.chunk.js.map