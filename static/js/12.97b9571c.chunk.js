(this.webpackJsonpati=this.webpackJsonpati||[]).push([[12],{1005:function(e,t,a){},1009:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(18)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=c},1105:function(e,t,a){"use strict";a.r(t);var n=a(152),r=a(14),c=a(1),i=a.n(c),o=a(931),l=a(265),s=a(266),u=a(26),m=a(936),d=a(36),f=a(114),p=a(204),b=a(933),g=a.n(b),O=a(289),E=a.n(O),h=a(711),v=a(713),j=a(712),C=a(940),x=a(939),S=a(490),y=a(1009),k=a.n(y),A=a(12),w=a(71),N=a(935),D=a(3),F=a(484),M=a(1103),W=a(65),_=a(271),P=a(48),z=a(1004),I=(a(1005),a(288)),T=a.n(I),B=a(1021),R=a(934),q=a(1098),H=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(A.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),L=function(e){Object(c.useEffect)((function(){console.log("props",e),Object(W.u)().then((function(t){m(t.customers),e.centerOfAttention&&O(e.centerOfAttention.customer)})),e.centerOfAttention&&(y(e.centerOfAttention.title),j(e.centerOfAttention.description),O(e.centerOfAttention.customer))}),[]);var t=Object(c.useState)(!1),a=Object(r.a)(t,2),n=a[0],o=(a[1],H()),l=Object(c.useState)([]),s=Object(r.a)(l,2),u=s[0],m=s[1],d=Object(c.useState)(),b=Object(r.a)(d,2),g=b[0],O=b[1],E=Object(c.useState)(""),h=Object(r.a)(E,2),v=h[0],j=h[1],C=Object(c.useState)(""),x=Object(r.a)(C,2),S=x[0],y=x[1],k=Object(c.useState)(""),A=Object(r.a)(k,2),I=A[0],L=A[1],V=Object(c.useState)(""),G=Object(r.a)(V,2),$=G[0],J=G[1],U=Object(c.useState)(""),K=Object(r.a)(U,2),Q=K[0],X=K[1],Y=Object(c.useState)(""),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(!1),ne=Object(r.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(c.useState)(""),oe=Object(r.a)(ie,2),le=oe[0],se=oe[1],ue=Object(c.useState)(!1),me=Object(r.a)(ue,2),de=me[0],fe=me[1],pe=Object(c.useState)(""),be=Object(r.a)(pe,2),ge=be[0],Oe=be[1],Ee=Object(c.useState)(!1),he=Object(r.a)(Ee,2),ve=he[0],je=he[1],Ce=Object(c.useState)(""),xe=Object(r.a)(Ce,2),Se=xe[0],ye=xe[1],ke=Object(c.useState)(!1),Ae=Object(r.a)(ke,2),we=Ae[0],Ne=Ae[1],De=Object(c.useState)(""),Fe=Object(r.a)(De,2),Me=Fe[0],We=Fe[1],_e=Object(c.useState)(!1),Pe=Object(r.a)(_e,2),ze=Pe[0],Ie=Pe[1],Te=Object(c.useState)(""),Be=Object(r.a)(Te,2),Re=Be[0],qe=Be[1],He=Object(c.useState)(!1),Le=Object(r.a)(He,2),Ve=Le[0],Ge=Le[1],$e=Object(c.useState)(""),Je=Object(r.a)($e,2),Ue=(Je[0],Je[1]),Ke=Object(c.useState)(new Date),Qe=Object(r.a)(Ke,2),Xe=Qe[0],Ye=Qe[1],Ze=function(e){var t=void 0!==e?e:v;return null==t||""===t.toString().trim()?(fe(!0),Oe("Este campo es requerido"),1):(fe(!1),Oe(""),0)},et=function(e){var t=void 0!==e?e:S;return null==t||""===t.toString().trim()?(ce(!0),se("Este campo es requerido"),1):(ce(!1),se(""),0)},tt=function(e){var t=void 0!==e?e:I;return null==t||""===t.toString().trim()?(je(!0),ye("Este campo es requerido"),1):(je(!1),ye(""),0)},at=function(e){var t=void 0!==e?e:$;return null==t||""===t.toString().trim()?(Ne(!0),We("Este campo es requerido"),1):(Ne(!1),We(""),0)},nt=function(e){var t=void 0!==e?e:Q;return null==t||""===t.toString().trim()?(Ie(!0),qe("Este campo es requerido"),1):(Ie(!1),qe(""),0)},rt=function(e){var t=void 0!==e?e:ee;return null==t||""===t.toString().trim()?(Ge(!0),Ue("Este campo es requerido"),1):(Ge(!1),Ue(""),0)},ct=function(){if(0===function(){var e=0;return e+=Ze(),e+=et(),e+=tt(),e+=at()}()){var t={name:S,description:v,username:I,password:$,expirationDateMaintenance:Xe,customer:g._id,maintenanceCost:parseFloat(ee)};e.centerOfAttention?(t.id=e.centerOfAttention._id,Object(W.O)(t).then((function(t){"success"==t.status?(T.a.fire({icon:"success",title:"El centro de atenci\xf3n ".concat(S,"  fue actualizado exitosamente"),showConfirmButton:!1,timer:1500}),e.onClose(),e.passCenterOfAttentionEdit(t.centerOfAttention)):T.a.fire({icon:"error",title:"Ocurri\xf3 un error al actualizar el centro de atenci\xf3n ".concat(S),showConfirmButton:!1,timer:1500})}))):Object(W.c)(t).then((function(t){"success"==t.status?(T.a.fire({icon:"success",title:"El centro de atenci\xf3n ".concat(S,"  fue creado exitosamente"),showConfirmButton:!1,timer:1500}),e.onCloseModal(),e.passCreateCenterOfAttention(t.centerOfAttention)):T.a.fire({icon:"error",title:"Ocurri\xf3 un error al crear el centro de atenci\xf3n ".concat(S),showConfirmButton:!1,timer:1500})}))}else z.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return i.a.createElement(c.Fragment,null,i.a.createElement(z.a,null),i.a.createElement(N.a,{maxWidth:"md"},i.a.createElement(f.a,{className:o.paper},i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),ct()}},i.a.createElement(w.a,{container:!0,spacing:3},i.a.createElement(w.a,{item:!0,xs:12,sm:12},i.a.createElement(M.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:u,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){O(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(W.u)(a).then((function(e){m(e.customers)}))}},renderInput:function(e){return i.a.createElement(F.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return i.a.createElement(_.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==u.indexOf(e)}))}))},renderOption:function(e){return i.a.createElement(w.a,{container:!0,alignItems:"center"},i.a.createElement(w.a,{item:!0,xs:!0},i.a.createElement(P.a,null,"".concat(e.name.toString().toUpperCase()))))}})),i.a.createElement(w.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,error:re,helperText:le,margin:"dense",autoComplete:"off",className:Object(D.a)(o.margin,o.textField),variant:"outlined",label:"Nombre del centro de atenci\xf3n",value:S,onChange:function(e){y(e.target.value),et(e.target.value)}})),i.a.createElement(w.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,error:de,helperText:ge,margin:"dense",autoComplete:"off",className:Object(D.a)(o.margin,o.textField),variant:"outlined",label:"Descripci\xf3n del centro de atenci\xf3n",value:v,onChange:function(e){j(e.target.value),Ze(e.target.value)}})),i.a.createElement(w.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{utils:B.a},i.a.createElement(q.a,{style:{width:"100%"},margin:"normal",label:"Vencimiento mantenimiento",format:"MM/dd/yyyy",value:Xe,onChange:function(e){Ye(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),i.a.createElement(w.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{fullWidth:!0,error:Ve,helperText:Ve,margin:"dense",autoComplete:"off",className:Object(D.a)(o.margin,o.textField),variant:"outlined",label:"Costo del mantenimiento",value:ee,onChange:function(e){te(e.target.value),rt(e.target.value)}})),i.a.createElement(w.a,{item:!0,xs:12,sm:12},e.centerOfAttention?"":i.a.createElement("fieldset",null,i.a.createElement("legend",null,i.a.createElement(P.a,null,"Datos del oset")),i.a.createElement(w.a,{container:!0,spacing:1},i.a.createElement(w.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{fullWidth:!0,error:ve,helperText:Se,margin:"dense",autoComplete:"off",className:Object(D.a)(o.margin,o.textField),variant:"outlined",label:"Nombre de usuario",value:I,onChange:function(e){L(e.target.value),tt(e.target.value)}})),i.a.createElement(w.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{fullWidth:!0,error:we,helperText:Me,margin:"dense",autoComplete:"off",className:Object(D.a)(o.margin,o.textField),variant:"outlined",label:"Contrase\xf1a",value:$,onChange:function(e){J(e.target.value),at(e.target.value)}})),i.a.createElement(w.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,error:ze,helperText:Re,margin:"dense",autoComplete:"off",className:Object(D.a)(o.margin,o.textField),variant:"outlined",label:"Correo electr\xf3nico",value:Q,onChange:function(e){X(e.target.value),nt(e.target.value)}}))))),i.a.createElement(w.a,{item:!0,xs:2,sm:3},i.a.createElement(p.a,{disabled:n,type:"submit",variant:"contained",color:"primary"},e.centerOfAttention?"Actualizar":"Guardar")))))))},V=a(552),G=a(942),$=a(1020),J=Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),U=i.a.forwardRef((function(e,t){return i.a.createElement(S.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(){var e=J(),t=Object(c.useState)([]),a=Object(r.a)(t,2),o=a[0],b=a[1],O=Object(c.useState)(0),S=Object(r.a)(O,2),y=S[0],A=S[1],w=Object(c.useState)(10),N=Object(r.a)(w,2),D=N[0],F=N[1],M=Object(c.useState)(0),_=Object(r.a)(M,2),P=_[0],z=_[1],I=Object(c.useState)(!1),T=Object(r.a)(I,2),B=T[0],R=T[1],q=Object(c.useState)(!1),H=Object(r.a)(q,2),K=H[0],Q=H[1],X=Object(c.useState)(!1),Y=Object(r.a)(X,2),Z=Y[0],ee=Y[1],te=Object(c.useState)(!1),ae=Object(r.a)(te,2),ne=ae[0],re=ae[1],ce=Object(c.useState)({}),ie=Object(r.a)(ce,2),oe=ie[0],le=ie[1];Object(c.useEffect)((function(){var e={start:0,end:D};Object(W.t)(e).then((function(e){b(e.centersOfAttention),A(e.count)}))}),[]);var se=function(e){return function(){le(e),R(!0)}},ue=function(e){return function(){le(e),Q(!0)}},me=function(){R(!1)},de=function(){ee(!1)},fe=function(){Q(!1)},pe=function(){re(!1)};return i.a.createElement(c.Fragment,null,i.a.createElement(f.a,{className:e.paper},i.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){re(!0)}},"Crear centro de atenci\xf3n"),i.a.createElement(l.a,null,i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(u.a,null,"Nombre"),i.a.createElement(u.a,null,"Descripci\xf3n"),i.a.createElement(u.a,null,"Cliente"),i.a.createElement(u.a,{align:"right"},"Costo mantenimiento"),i.a.createElement(u.a,{colSpan:4},"Acciones"))),i.a.createElement(s.a,null,o.map((function(t){return i.a.createElement(d.a,{key:t._id},i.a.createElement(u.a,null,t.title," "),i.a.createElement(u.a,null,t.description," "),i.a.createElement(u.a,null,t.customer.name," "),i.a.createElement(u.a,{align:"right"},i.a.createElement($.a,{value:t.maintenanceCost,displayType:"text",thousandSeparator:!0,prefix:"$"})),i.a.createElement(u.a,{className:e.iconWidth},t.administrative?"":i.a.createElement(V.a,{title:"Editar",placement:"top"},i.a.createElement(g.a,{className:e.icon,onClick:(a=t,function(){le(a),ee(!0)})}))),i.a.createElement(u.a,{className:e.iconWidth},i.a.createElement(V.a,{title:"Eliminar",placement:"top"},"active"===t.status?i.a.createElement(E.a,{className:e.icon,onClick:se(t)}):i.a.createElement(k.a,{className:e.icon,onClick:ue(t)}))));var a})))),i.a.createElement(G.a,{rowsPerPageOptions:[10,25,100],component:"div",count:y,rowsPerPage:D,page:P,onChangePage:function(e,t){z(t);var a={start:t*D,end:D};Object(W.t)(a).then((function(e){b(e.centersOfAttention),A(e.count)}))},onChangeRowsPerPage:function(e){F(+e.target.value),z(0);var t={start:0,end:e.target.value};Object(W.t)(t).then((function(e){b(e.centersOfAttention),A(e.count)}))}})),i.a.createElement(h.a,{open:B,onClose:me,"aria-labelledby":"draggable-dialog-title"},i.a.createElement(x.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),i.a.createElement(j.a,null,i.a.createElement(C.a,null,"Esta seguro de desabilitar este centro de atenci\xf3n")),i.a.createElement(v.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:me,color:"primary"},"NO"),i.a.createElement(p.a,{onClick:function(){R(!1),Object(W.i)(oe._id).then((function(e){if("success"===e.status){var t=o.map((function(e){return oe._id!==e._id||(e.status="inactive"),e}));b(t)}}))},color:"primary"},"SI"))),i.a.createElement(h.a,{open:K,onClose:fe},i.a.createElement(x.a,{style:{cursor:"move"}},"Alerta"),i.a.createElement(j.a,null,i.a.createElement(C.a,null,"Esta seguro de reactivar a este centro de atenci\xf3n?")),i.a.createElement(v.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:fe,color:"primary"},"NO"),i.a.createElement(p.a,{onClick:function(){Q(!1),Object(W.I)(oe._id).then((function(e){if("success"===e.status){var t=o.map((function(e,t){return oe._id!==e._id||(e.status="active"),e}));b(t)}}))},color:"primary"},"SI"))),i.a.createElement(h.a,{maxWidth:"md",open:Z,onCloseEditCenterOfAttention:de,TransitionComponent:U},i.a.createElement(j.a,null,i.a.createElement(L,{onClose:de,centerOfAttention:oe,passCenterOfAttentionEdit:function(e){ee(!1);var t=o.map((function(t){return e._id!==t._id?t:t=e}));b(t)}})),i.a.createElement(v.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:de,color:"primary"},"Cerrar"))),i.a.createElement(h.a,{open:ne,onClose:pe,"aria-labelledby":"form-dialog-title"},i.a.createElement(x.a,null,"Crear centro de atenci\xf3n"),i.a.createElement(j.a,null,i.a.createElement(L,{onCloseModal:function(){re(!1)},passCreateCenterOfAttention:function(e){b((function(t){return[].concat(Object(n.a)(t),[e])})),re(!1)}})),i.a.createElement(v.a,null,i.a.createElement(p.a,{onClick:pe,color:"primary"},"Cerrar"))))}},933:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(18)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},937:function(e,t,a){"use strict";var n=a(2),r=a(6),c=a(1),i=(a(7),a(3)),o=a(9),l=a(10);function s(e){var t,a,n;return t=e,a=0,n=1,e=(Math.min(Math.max(a,t),n)-a)/(n-a),e=(e-=1)*e*e+1}var u=c.forwardRef((function(e,t){var a,o=e.classes,u=e.className,m=e.color,d=void 0===m?"primary":m,f=e.disableShrink,p=void 0!==f&&f,b=e.size,g=void 0===b?40:b,O=e.style,E=e.thickness,h=void 0===E?3.6:E,v=e.value,j=void 0===v?0:v,C=e.variant,x=void 0===C?"indeterminate":C,S=Object(r.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),y={},k={},A={};if("determinate"===x||"static"===x){var w=2*Math.PI*((44-h)/2);y.strokeDasharray=w.toFixed(3),A["aria-valuenow"]=Math.round(j),"static"===x?(y.strokeDashoffset="".concat(((100-j)/100*w).toFixed(3),"px"),k.transform="rotate(-90deg)"):(y.strokeDashoffset="".concat((a=(100-j)/100,a*a*w).toFixed(3),"px"),k.transform="rotate(".concat((270*s(j/70)).toFixed(3),"deg)"))}return c.createElement("div",Object(n.a)({className:Object(i.a)(o.root,u,"inherit"!==d&&o["color".concat(Object(l.a)(d))],{indeterminate:o.indeterminate,static:o.static}[x]),style:Object(n.a)(Object(n.a)({width:g,height:g},k),O),ref:t,role:"progressbar"},A,S),c.createElement("svg",{className:o.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},c.createElement("circle",{className:Object(i.a)(o.circle,p&&o.circleDisableShrink,{indeterminate:o.circleIndeterminate,static:o.circleStatic}[x]),style:y,cx:44,cy:44,r:(44-h)/2,fill:"none",strokeWidth:h})))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)}}]);
//# sourceMappingURL=12.97b9571c.chunk.js.map