(this.webpackJsonpati=this.webpackJsonpati||[]).push([[17],{1042:function(e,t,a){"use strict";var n=a(1),r=a(70);t.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1043:function(e,t,a){"use strict";var n=a(1),r=a(70);t.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1048:function(e,t,a){"use strict";var n=a(16);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),o=(0,n(a(17)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=o},1139:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(12),o=a(1),l=a.n(o),c=a(966),i=a(288),s=a(289),u=a(23),m=a(974),p=a(35),g=a(130),d=a(15),b=a(486),f=a(510),O=a(493),h=a(487),E=Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),v=function(e){var t=E();return l.a.createElement(b.a,null,l.a.createElement(f.a,{title:"Detalle Usuario"}),l.a.createElement(O.a,null),l.a.createElement(h.a,{className:t.content},l.a.createElement(i.a,null,l.a.createElement(s.a,null,l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Nombres"),l.a.createElement(u.a,null,e.person.names)),l.a.createElement(p.a,{selected:!0},l.a.createElement(u.a,null,"Apellidos"),l.a.createElement(u.a,null,e.person.last_name)),l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Tipo de documento"),l.a.createElement(u.a,null,e.person.documentType?e.person.documentType.documentType:"")),l.a.createElement(p.a,{selected:!0},l.a.createElement(u.a,null,"N\xfamero de documento"),l.a.createElement(u.a,null,e.person.documentNumber," ",e.person.checkDigit>=0?e.person.checkDigit:"")),l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Correo electr\xf3nico"),l.a.createElement(u.a,null,e.person.email)),l.a.createElement(p.a,{selected:!0},l.a.createElement(u.a,null,"Direcci\xf3n"),l.a.createElement(u.a,null,e.person.address)),l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Tel\xe9fono"),l.a.createElement(u.a,null,e.person.phone))))))},j=a(82),C=a(973),x=a(293),S=a(57),y=a(3),P=a(1143),k=a(228),N=a(1050),w=a(511),I=a(43),T=a(1041),B=(a(1044),Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var R=function(e){Object(o.useEffect)((function(){i(e.person),Object(I.y)().then((function(e){p(e.customers)}))}),[]);var t=B(),a=Object(o.useState)(null),r=Object(n.a)(a,2),c=r[0],i=r[1],s=Object(o.useState)([]),u=Object(n.a)(s,2),m=u[0],p=u[1],d=Object(o.useState)(""),b=Object(n.a)(d,2),f=b[0],O=b[1],h=Object(o.useState)(!1),E=Object(n.a)(h,2),v=E[0],y=E[1],N=Object(o.useState)(""),R=Object(n.a)(N,2),W=R[0],F=R[1],z=function(e){var t=void 0!==e?e:f;return null==t||""===t.toString().trim()?(y(!0),F("Este campo es requerido"),1):(y(!1),F(""),0)},A=function(t){if(0===function(){var e=0;return e+=z()}()){var a={customer:f._id,person:c._id};Object(I.a)(a).then((function(t){console.log("response",t),"success"==t.status?(e.onClose(),T.b.info("Usuario agregado al cliente exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):T.b.error("Ocurri\xf3 un error al agregar el usuario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else T.b.error("Faltan campos obligatorios por llenar",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(o.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(C.a,{maxWidth:"md"},l.a.createElement(g.a,{className:t.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),A()}},l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12,sm:12},l.a.createElement(P.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:m,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){O(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(I.y)(a).then((function(e){p(e.customers)}))}},renderInput:function(e){return l.a.createElement(w.a,Object.assign({error:v,helperText:W},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,t){return l.a.createElement(x.a,{label:e.name,disabled:-1!==m.indexOf(e)})}))},renderOption:function(e){return l.a.createElement(j.a,{container:!0,alignItems:"center"},l.a.createElement(j.a,{item:!0,xs:!0},l.a.createElement(S.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement(j.a,{item:!0,xs:2,sm:3},l.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},"Agregar")))))))},W=a(557),F=a.n(W),z=a(313),A=a.n(z),H=a(746),_=a(748),U=a(747),M=a(971),D=a(322),L=a.n(D),q=a(518),G=a(1048),V=a.n(G),J=Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));var K=function(e){Object(o.useEffect)((function(){console.log(e),Object(I.v)().then((function(e){U(e.roles)})),Object(I.y)().then((function(e){z(e.customers)})),e.person&&(q(e.person.name),ne(e.person.document_number),ce(e.person.username),ke(e.person.role))}),[]);var t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],c=a[1],i=Object(o.useState)(!1),s=Object(n.a)(i,2),u=s[0],m=s[1],p=Object(o.useState)({}),d=Object(n.a)(p,2),b=d[0],f=d[1],O=J(),h=Object(o.useState)([]),E=Object(n.a)(h,2),v=E[0],B=E[1],R=Object(o.useState)([]),W=Object(n.a)(R,2),F=W[0],z=W[1],A=Object(o.useState)([]),H=Object(n.a)(A,2),_=H[0],U=H[1],M=Object(o.useState)(""),D=Object(n.a)(M,2),L=D[0],q=D[1],G=Object(o.useState)(""),V=Object(n.a)(G,2),K=V[0],Q=V[1],X=Object(o.useState)(""),Y=Object(n.a)(X,2),Z=Y[0],$=Y[1],ee=Object(o.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(""),oe=Object(n.a)(re,2),le=oe[0],ce=oe[1],ie=Object(o.useState)(""),se=Object(n.a)(ie,2),ue=se[0],me=se[1],pe=Object(o.useState)(""),ge=Object(n.a)(pe,2),de=ge[0],be=ge[1],fe=Object(o.useState)(""),Oe=Object(n.a)(fe,2),he=Oe[0],Ee=Oe[1],ve=Object(o.useState)(""),je=Object(n.a)(ve,2),Ce=je[0],xe=je[1],Se=Object(o.useState)(null),ye=Object(n.a)(Se,2),Pe=ye[0],ke=ye[1],Ne=Object(o.useState)(!1),we=Object(n.a)(Ne,2),Ie=we[0],Te=we[1],Be=Object(o.useState)(""),Re=Object(n.a)(Be,2),We=Re[0],Fe=Re[1],ze=Object(o.useState)(!1),Ae=Object(n.a)(ze,2),He=Ae[0],_e=Ae[1],Ue=Object(o.useState)(""),Me=Object(n.a)(Ue,2),De=Me[0],Le=Me[1],qe=Object(o.useState)(!1),Ge=Object(n.a)(qe,2),Ve=Ge[0],Je=Ge[1],Ke=Object(o.useState)(""),Qe=Object(n.a)(Ke,2),Xe=Qe[0],Ye=Qe[1],Ze=Object(o.useState)(!1),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(o.useState)(""),nt=Object(n.a)(at,2),rt=nt[0],ot=nt[1],lt=Object(o.useState)(!1),ct=Object(n.a)(lt,2),it=ct[0],st=ct[1],ut=Object(o.useState)(""),mt=Object(n.a)(ut,2),pt=mt[0],gt=mt[1],dt=function(e){var t=void 0!==e?e:L;return null==t||""===t.toString().trim()?(Te(!0),Fe("Este campo es requerido"),1):(Te(!1),Fe(""),0)},bt=function(e){var t=new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}"),a=void 0!==e?e:K;return""!==a.toString().trim()?t.test(a)?(_e(!1),Le(""),0):(_e(!0),Le("El correo ingresado no es valido"),1):(_e(!1),Le(""),0)},ft=function(e){var t=void 0!==e?e:ae;return null==t||""===t.toString().trim()?(Je(!0),Ye("Este campo es requerido"),1):(Je(!1),Ye(""),0)},Ot=function(t){var a=function(){var e=0;return e+=dt()}();if(a+=ft(),r&&(a+=function(e){var t=void 0!==e?e:de;return null==t||""===t.toString().trim()?(tt(!0),ot("Este campo es requerido"),1):(tt(!1),ot(""),0)}()),u&&(a+=function(e){var t=void 0!==e?e:he;return null==t||""===t.toString().trim()?(st(!0),gt("Este campo es requerido"),1):(st(!1),gt(""),0)}()),ue&&Ce&&ue!==Ce&&(a++,T.b.error("Las contrase\xf1as no son iguales",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),0===a){var n=new FormData;e.person&&n.append("id",e.person._id),n.append("photo",b),n.append("name",L),n.append("username",le),n.append("documentNumber",ae),n.append("role",Pe._id),n.append("phone",Z),n.append("email",K),n.append("password",ue),n.append("customer",de),n.append("centerOfAttention",he),e.person?Object(I.eb)(n).then((function(e){console.log("response",e),"success"==e.status?T.b.info("Funcionario registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):T.b.error("Ocurri\xf3 un error al registrar el funcionario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):Object(I.i)(n).then((function(t){console.log("response",t),"success"==t.status?(T.b.info("Funcionario registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onCloseModal(!0)):T.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else T.b.error("Faltan campos obligatorios por llenar",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(o.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(C.a,{maxWidth:"md"},l.a.createElement(g.a,{className:O.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),Ot()}},l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:_,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){ke(t),function(e){switch(e.tag){case"construction_manager":case"maintenance_manager":c(!0),m(!1);break;case"oset":case"permanent":c(!0),m(!0)}}(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(I.v)(a).then((function(e){U(e.roles)}))}},renderInput:function(e){return l.a.createElement(w.a,Object.assign({},e,{label:"Roles",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return l.a.createElement(x.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==_.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(j.a,{container:!0,alignItems:"center"},l.a.createElement(j.a,{item:!0,xs:!0},l.a.createElement(S.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,error:Ie,helperText:We,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",label:"Nombre",value:L,onChange:function(e){q(e.target.value),dt(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,error:Ve,helperText:Xe,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",value:ae,onChange:function(e){ne(e.target.value),ft(e.target.value)},label:"Documento"})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",label:"Nombre de usuario",value:le,onChange:function(e){ce(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,margin:"dense",autoComplete:"off",className:Object(y.a)(O.margin,O.textField),variant:"outlined",value:Z,onChange:function(e){$(e.target.value)},label:"Tel\xe9fono"})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,error:He,helperText:De,margin:"dense",autoComplete:"off",className:Object(y.a)(O.margin,O.textField),variant:"outlined",value:K,onChange:function(e){Q(e.target.value),bt(e.target.value)},label:"Correo electr\xf3nico"})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",type:"password",label:"Contrase\xf1a",onChange:function(e){me(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(w.a,{fullWidth:!0,margin:"dense",autoComplete:"off",type:"password",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",label:"Repite la contrase\xf1a",onChange:function(e){xe(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,sm:4},r?l.a.createElement(P.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:F,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){be(t._id),Object(I.x)({customer:t._id}).then((function(e){B(e.centersOfAttention)}))},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(I.y)(a).then((function(e){z(e.customers)}))}},renderInput:function(e){return l.a.createElement(w.a,Object.assign({error:et,helperText:rt},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return l.a.createElement(x.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==_.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(j.a,{container:!0,alignItems:"center"},l.a.createElement(j.a,{item:!0,xs:!0},l.a.createElement(S.a,null,"".concat(e.name.toString().toUpperCase()))))}}):""),l.a.createElement(j.a,{item:!0,xs:12,sm:4},u?l.a.createElement(P.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.title.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:v,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){Ee(t._id)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(I.x)(a).then((function(e){B(e.centersOfAttention)}))}},renderInput:function(e){return l.a.createElement(w.a,Object.assign({},e,{error:it,helperText:pt,label:"Centro de atenci\xf3n",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return l.a.createElement(x.a,Object.assign({label:e.title},t({index:a}),{disabled:-1!==_.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(j.a,{container:!0,alignItems:"center"},l.a.createElement(j.a,{item:!0,xs:!0},l.a.createElement(S.a,null,"".concat(e.title.toString().toUpperCase()))))}}):""),l.a.createElement(j.a,{item:!0,xs:12,sm:12},l.a.createElement(N.a,{open:!0,filesLimit:1,dropzoneText:"Arrastre y suelte un archivo de imagen aqu\xed o haga clic",acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:function(e){f(e[0])}})),l.a.createElement(j.a,{item:!0,xs:2,sm:3},l.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},e.person?"Actualizar":"Guardar")))))))},Q=a(576),X=a(321),Y=a.n(X),Z=a(853),$=a(969),ee=a(9),te=a(968),ae=a(492),ne=a(138),re=a.n(ne),oe=a(46),le=Object(c.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),ce=Object(ee.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(r.a)(e,["children","classes","onClose"]);return l.a.createElement(te.a,Object.assign({disableTypography:!0,className:a.root},o),l.a.createElement(S.a,{variant:"h6"},t),n?l.a.createElement(ae.a,{"aria-label":"close",className:a.closeButton,onClick:n},l.a.createElement(re.a,null)):null)})),ie=l.a.forwardRef((function(e,t){return l.a.createElement(q.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(e){Object(o.useEffect)((function(){var e={start:0,end:P,paginate:!0};Object(I.B)(e).then((function(e){d(e.users),h(e.count)}))}),[]);var t=le(),a=Object(o.useState)([]),r=Object(n.a)(a,2),c=r[0],d=r[1],b=Object(o.useState)(0),f=Object(n.a)(b,2),O=f[0],h=f[1],E=Object(o.useState)(0),j=Object(n.a)(E,2),C=j[0],x=j[1],S=Object(o.useState)(10),y=Object(n.a)(S,2),P=y[0],N=y[1],w=Object(o.useState)(!1),B=Object(n.a)(w,2),W=B[0],z=B[1],D=Object(o.useState)(!1),q=Object(n.a)(D,2),G=q[0],J=q[1],X=Object(o.useState)(!1),ee=Object(n.a)(X,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!1),re=Object(n.a)(ne,2),se=re[0],ue=re[1],me=Object(o.useState)(!1),pe=Object(n.a)(me,2),ge=pe[0],de=pe[1],be=Object(o.useState)(!1),fe=Object(n.a)(be,2),Oe=fe[0],he=fe[1],Ee=Object(o.useState)({}),ve=Object(n.a)(Ee,2),je=ve[0],Ce=ve[1],xe=function(){Object(I.B)().then((function(e){d(e.users),h(e.count)}))},Se=function(e){return function(){Ce(e),J(!0)}},ye=function(e){return function(){Ce(e),he(!0)}},Pe=function(){z(!1)},ke=function(e){return function(){Ce(e),ae(!0)}},Ne=function(){ae(!1)},we=function(e){return function(){Ce(e),ue(!0)}},Ie=function(){ue(!1)},Te=function(){J(!1)},Be=function(){he(!1)},Re=function(){de(!1)},We=function(){de(!1)};return l.a.createElement(o.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(g.a,{className:t.paper},l.a.createElement(Z.a,{onClick:function(){de(!0)},variant:"extended",color:"primary",size:"small",className:t.margin},l.a.createElement(Y.a,{className:t.extendedIcon}),"Crear usuario"),l.a.createElement(i.a,null,l.a.createElement(m.a,null,l.a.createElement(p.a,null,l.a.createElement(u.a,null,"FUNCIONARIO"),l.a.createElement(u.a,null,"DOCUMENTO"),l.a.createElement(u.a,null,"NOMBRE DE USUARIO"),l.a.createElement(u.a,null,"ROL"),l.a.createElement(u.a,null,"FOTO"),l.a.createElement(u.a,{colSpan:4}))),l.a.createElement(s.a,null,c.map((function(e){return l.a.createElement(p.a,{key:e._id},l.a.createElement(u.a,null,e.name," "),l.a.createElement(u.a,null,e.document_number),l.a.createElement(u.a,null,e.username),l.a.createElement(u.a,null,e.role?e.role.name:""),l.a.createElement(u.a,null,e.username),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:"Detalle",placement:"top"},l.a.createElement("div",null,l.a.createElement(L.a,{className:t.icon,onClick:ke(e)})))),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:"Editar",placement:"top"},l.a.createElement("div",null,l.a.createElement(F.a,{className:t.icon,onClick:we(e)})))),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:e.status,placement:"top"},"activo"===e.status?l.a.createElement(A.a,{className:t.icon,onClick:(a=e,function(){Ce(a),z(!0)})}):l.a.createElement(V.a,{className:t.icon,onClick:Se(e)}))),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:"Agregar a cliente",placement:"top"},l.a.createElement("div",null,l.a.createElement(oe.k,{className:"icon",onClick:ye(e)})))));var a})))),l.a.createElement($.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O,rowsPerPage:P,page:C,onChangePage:function(e,t){x(t);var a={start:t*P,end:P,paginate:!0};Object(I.B)(a).then((function(e){d(e.users),h(e.count)}))},onChangeRowsPerPage:function(e){N(+e.target.value),x(0);var t={start:0,end:e.target.value,paginate:!0};Object(I.B)(t).then((function(e){d(e.users),h(e.count)}))}})),l.a.createElement(H.a,{open:W,onClose:Pe,"aria-labelledby":"draggable-dialog-title"},l.a.createElement(ce,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),l.a.createElement(U.a,null,l.a.createElement(M.a,null,"Esta seguro de eliminar este funcionario?")),l.a.createElement(_.a,null,l.a.createElement(k.a,{autoFocus:!0,onClick:Pe,color:"primary"},"NO"),l.a.createElement(k.a,{onClick:function(){z(!1),Object(I.o)(je._id).then((function(e){if("success"===e.status){T.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(e){return je._id!==e._id||(e.estado="inactivo"),e}));d(t)}else T.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){T.b.error("Ocurri\xf3 un error al desactivar el funcionario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(H.a,{open:G,onClose:Te,"aria-labelledby":"draggable-dialog-title"},l.a.createElement(ce,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),l.a.createElement(U.a,null,l.a.createElement(M.a,null,"Esta seguro de Reactivar a esta persona?")),l.a.createElement(_.a,null,l.a.createElement(k.a,{autoFocus:!0,onClick:Te,color:"primary"},"NO"),l.a.createElement(k.a,{onClick:function(){J(!1),Object(I.W)(je).then((function(e){if("success"===e.status){T.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=c.map((function(e){return je!==e._id||(e.estado="activo"),e}));d(t)}else T.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){T.b.error("Ocurri\xf3 un error al activar el funcionario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(H.a,{open:te,onClose:Ne,TransitionComponent:ie},l.a.createElement(U.a,null,l.a.createElement(v,{person:je})),l.a.createElement(_.a,null,l.a.createElement(k.a,{autoFocus:!0,onClick:Ne,color:"primary"},"Cerrar"))),l.a.createElement(H.a,{maxWidth:"md",open:se,onClose:Ie,TransitionComponent:ie},l.a.createElement(U.a,null,l.a.createElement(K,{onCloseModal:We,onUpdateUsers:xe,person:je})),l.a.createElement(_.a,null,l.a.createElement(k.a,{autoFocus:!0,onClick:Ie,color:"primary"},"Cerrar"))),l.a.createElement(H.a,{fullWidth:!0,maxWidth:"md",open:ge},l.a.createElement(ce,{onClose:Re},"Crear usuario"),l.a.createElement(U.a,null,l.a.createElement(K,{handleClose:Re,onCloseModal:We,onUpdateUsers:xe,modal:!0})),l.a.createElement(_.a,null,l.a.createElement(k.a,{onClick:Re,color:"primary"},"Cerrar"))),l.a.createElement(H.a,{open:Oe,onClose:Be},l.a.createElement(ce,null,"Agregar a cliente"),l.a.createElement(U.a,null,l.a.createElement(R,{onClose:Be,person:je})),l.a.createElement(_.a,null,l.a.createElement(k.a,{autoFocus:!0,onClick:Be,color:"primary"},"Cerrar"))))}},968:function(e,t,a){"use strict";var n=a(2),r=a(6),o=a(1),l=(a(7),a(3)),c=a(9),i=a(57),s=o.forwardRef((function(e,t){var a=e.children,c=e.classes,s=e.className,u=e.disableTypography,m=void 0!==u&&u,p=Object(r.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(n.a)({className:Object(l.a)(c.root,s),ref:t},p),m?a:o.createElement(i.a,{component:"h2",variant:"h6"},a))}));t.a=Object(c.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(s)},969:function(e,t,a){"use strict";var n=a(2),r=a(6),o=a(1),l=(a(7),a(3)),c=a(9),i=a(284),s=a(585),u=a(553),m=a(23),p=a(574),g=a(57),d=a(1043),b=a(1042),f=a(29),O=a(492),h=o.createElement(b.a,null),E=o.createElement(d.a,null),v=o.createElement(d.a,null),j=o.createElement(b.a,null),C=o.forwardRef((function(e,t){var a=e.backIconButtonProps,l=e.count,c=e.nextIconButtonProps,i=e.onChangePage,s=e.page,u=e.rowsPerPage,m=Object(r.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage"]),p=Object(f.a)();return o.createElement("div",Object(n.a)({ref:t},m),o.createElement(O.a,Object(n.a)({onClick:function(e){i(e,s-1)},disabled:0===s,color:"inherit"},a),"rtl"===p.direction?h:E),o.createElement(O.a,Object(n.a)({onClick:function(e){i(e,s+1)},disabled:-1!==l&&s>=Math.ceil(l/u)-1,color:"inherit"},c),"rtl"===p.direction?v:j))})),x=a(167),S=function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(-1!==n?n:"more than ".concat(a))},y=[10,25,50,100],P=o.forwardRef((function(e,t){var a,c=e.ActionsComponent,d=void 0===c?C:c,b=e.backIconButtonProps,f=e.backIconButtonText,O=void 0===f?"Previous page":f,h=e.classes,E=e.className,v=e.colSpan,j=e.component,P=void 0===j?m.a:j,k=e.count,N=e.labelDisplayedRows,w=void 0===N?S:N,I=e.labelRowsPerPage,T=void 0===I?"Rows per page:":I,B=e.nextIconButtonProps,R=e.nextIconButtonText,W=void 0===R?"Next page":R,F=e.onChangePage,z=e.onChangeRowsPerPage,A=e.page,H=e.rowsPerPage,_=e.rowsPerPageOptions,U=void 0===_?y:_,M=e.SelectProps,D=void 0===M?{}:M,L=Object(r.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);P!==m.a&&"td"!==P||(a=v||1e3);var q=Object(x.a)(),G=Object(x.a)(),V=D.native?"option":s.a;return o.createElement(P,Object(n.a)({className:Object(l.a)(h.root,E),colSpan:a,ref:t},L),o.createElement(p.a,{className:h.toolbar},o.createElement("div",{className:h.spacer}),U.length>1&&o.createElement(g.a,{color:"inherit",variant:"body2",className:h.caption,id:G},T),U.length>1&&o.createElement(u.a,Object(n.a)({classes:{select:h.select,icon:h.selectIcon},input:o.createElement(i.a,{className:Object(l.a)(h.input,h.selectRoot)}),value:H,onChange:z,id:q,labelId:G},D),U.map((function(e){return o.createElement(V,{className:h.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),o.createElement(g.a,{color:"inherit",variant:"body2",className:h.caption},w({from:0===k?0:A*H+1,to:-1!==k?Math.min(k,(A+1)*H):(A+1)*H,count:-1===k?-1:k,page:A})),o.createElement(d,{className:h.actions,backIconButtonProps:Object(n.a)({title:O,"aria-label":O},b),count:k,nextIconButtonProps:Object(n.a)({title:W,"aria-label":W},B),onChangePage:F,page:A,rowsPerPage:H})))}));t.a=Object(c.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(P)},971:function(e,t,a){"use strict";var n=a(2),r=a(1),o=(a(7),a(9)),l=a(57),c=r.forwardRef((function(e,t){return r.createElement(l.a,Object(n.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(o.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(c)}}]);
//# sourceMappingURL=17.f34fa97e.chunk.js.map