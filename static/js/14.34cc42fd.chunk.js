(this.webpackJsonpati=this.webpackJsonpati||[]).push([[14],{1105:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ue}));var n=a(21),r=a(1),o=a.n(r),i=a(920),l=a(141),c=a(987),u=a(991),m=a(990),s=a(1006),d=a(988),p=a(1106),f=a(989),g=a(960),b=a(72),E=a(73),h=a.n(E);function v(){var e=Object(b.a)(["\n  mutation restoreProduct($id:ID) {\n    restoreProduct(id: $id) \n  } \n"]);return v=function(){return e},e}function O(){var e=Object(b.a)(["\n  mutation deleteProduct($id:ID) {\n    deleteProduct(id: $id) \n  } \n"]);return O=function(){return e},e}function y(){var e=Object(b.a)(["\n  mutation updateProduct($input: ProductInput, $file: Upload) \n  {\n    updateProduct(input: $input, file: $file)\n    {\n      id\n      name\n    }\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(b.a)(["\n  mutation createProduct($input: ProductInput, $file: Upload) \n  {\n    createProduct(input: $input, file: $file)\n    {\n        id\n        name\n        price\n        quantity\n    }\n  }\n"]);return j=function(){return e},e}var C=h()(j()),x=h()(y()),P=h()(O()),S=h()(v()),N=a(143),$=a(956),z=a.n($),k=a(276),M=a.n(k),W=a(932),w=a(1013),q=a(1012),I=a(992),L=a(1011),F=a(961),A=a.n(F),R=a(917),H=a(283),T=a.n(H),V=a(942),_=a(974),B=a(922),D=a(30),G=a(15),J=(a(14),a(16)),U=a(933),Z=a(1004),K=a(3),Q=a(959),X=a(935),Y=(a(947),a(925),a(955),a(985),a(953)),ee=a.n(Y),te=Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(J.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));var ae=function(e){var t=o.a.useState([]),a=Object(n.a)(t,2),i=(a[0],a[1],o.a.useState({})),c=Object(n.a)(i,2),u=c[0],m=c[1],s=Object(N.b)(C),d=Object(n.a)(s,1)[0],p=te(),f=Object(r.useState)({name:"",price:"",quantity:"",unitOfmeasurement:"",product:""}),g=Object(n.a)(f,2),b=g[0],E=g[1],h=function(e){return function(t){E(Object(G.a)(Object(G.a)({},b),{},Object(D.a)({},e,t.target.value)))}};return o.a.createElement(r.Fragment,null,o.a.createElement(Z.a,{maxWidth:"md"},o.a.createElement(l.a,{className:p.paper},o.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(t){t.preventDefault(),function(t){var a={name:b.name,price:parseFloat(b.price),quantity:parseFloat(b.quantity)};d({variables:{input:a,file:u}}).then((function(t){console.log(t),console.log(e),t.data.createProduct&&e.modal&&(e.onCloseCreateProduct(),ee.a.fire({icon:"success",title:"El producto fue creado exitosamente",showConfirmButton:!1,timer:1500}))}))}()}},o.a.createElement(U.a,{container:!0,spacing:3},o.a.createElement(U.a,{item:!0,xs:6},o.a.createElement(X.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(K.a)(p.margin,p.textField),variant:"outlined",label:"Nombre",value:b.name,onChange:h("name")})),o.a.createElement(U.a,{item:!0,xs:6},o.a.createElement(X.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(K.a)(p.margin,p.textField),variant:"outlined",label:"Precio",value:b.price,onChange:h("price")})),o.a.createElement(U.a,{item:!0,xs:12,sm:6},o.a.createElement(X.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(K.a)(p.margin,p.textField),variant:"outlined",label:"Cantidad",value:b.quantity,onChange:h("quantity")})),o.a.createElement(U.a,{item:!0,xs:12,sm:12},o.a.createElement(Q.a,{open:!0,filesLimit:1,dropzoneText:"Arrastre y suelte un archivo de imagen aqu\xed o haga clic",acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:function(e){m(e[0])}})),o.a.createElement(U.a,{item:!0,xs:2,sm:3},o.a.createElement(B.a,{type:"submit",variant:"contained",color:"primary"},"Crear")))))))},ne=Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(J.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));var re=function(e){var t=o.a.useState({}),a=Object(n.a)(t,2),i=a[0],c=a[1],u=Object(N.b)(x),m=Object(n.a)(u,1)[0],s=ne();console.log(e.product);var d=Object(r.useState)({name:e.product.name,price:e.product.price,quantity:e.product.quantity,product:""}),p=Object(n.a)(d,2),f=p[0],g=p[1],b=function(e){return function(t){g(Object(G.a)(Object(G.a)({},f),{},Object(D.a)({},e,t.target.value)))}};return o.a.createElement(r.Fragment,null,o.a.createElement(Z.a,{maxWidth:"md"},o.a.createElement(l.a,{className:s.paper},o.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(t){t.preventDefault(),function(t){var a={id:e.product.id,name:f.name,price:parseFloat(f.price),quantity:parseFloat(f.quantity)};m({variables:{input:a,file:i}}).then((function(t){console.log(t),console.log(e),t.data.updateProduct&&e.modal&&(e.onCloseEditProduct(),ee.a.fire({icon:"success",title:"El producto fue actualizado exitosamente",showConfirmButton:!1,timer:1500}))}))}()}},o.a.createElement(U.a,{container:!0,spacing:3},o.a.createElement(U.a,{item:!0,xs:6},o.a.createElement(X.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(K.a)(s.margin,s.textField),variant:"outlined",label:"Nombre",value:f.name,onChange:b("name")})),o.a.createElement(U.a,{item:!0,xs:6},o.a.createElement(X.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(K.a)(s.margin,s.textField),variant:"outlined",label:"Precio",value:f.price,onChange:b("price")})),o.a.createElement(U.a,{item:!0,xs:12,sm:6},o.a.createElement(X.a,{fullWidth:!0,autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(K.a)(s.margin,s.textField),variant:"outlined",label:"Cantidad",value:f.quantity,onChange:b("quantity")})),o.a.createElement(U.a,{item:!0,xs:12,sm:12},o.a.createElement(Q.a,{open:!0,filesLimit:1,dropzoneText:"Arrastre y suelte un archivo de imagen aqu\xed o haga clic",acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:function(e){c(e[0])}})),o.a.createElement(U.a,{item:!0,xs:2,sm:3},o.a.createElement(B.a,{type:"submit",variant:"contained",color:"primary"},"Actualizar")))))))},oe=a(492),ie=a(943),le=Object(oe.a)({},_.esES),ce=Object(i.a)({fragment:{padding:40},margin:{margin:le.spacing(1)},root:{width:"100%",margin:le.spacing(1)},container:{maxHeight:440},iconWidth:{width:10}});function ue(){var e=ce(),t=Object(r.useState)(0),a=Object(n.a)(t,2),i=a[0],b=a[1],E=Object(r.useState)(10),h=Object(n.a)(E,2),v=h[0],O=h[1],y=Object(N.b)(P),j=Object(n.a)(y,1)[0],C=Object(N.b)(S),x=Object(n.a)(C,1)[0],$=Object(r.useState)([]),k=Object(n.a)($,2),F=k[0],H=k[1],_=o.a.useState(!1),D=Object(n.a)(_,2),G=D[0],J=D[1],U=Object(r.useState)(!1),Z=Object(n.a)(U,2),K=Z[0],Q=Z[1],X=Object(r.useState)(!1),Y=Object(n.a)(X,2),ee=Y[0],te=Y[1],ne=Object(r.useState)(!1),oe=Object(n.a)(ne,2),ue=oe[0],me=oe[1],se=Object(r.useState)({}),de=Object(n.a)(se,2),pe=de[0],fe=de[1],ge=Object(r.useState)(!1),be=Object(n.a)(ge,2),Ee=(be[0],be[1],Object(r.useState)(0)),he=Object(n.a)(Ee,2),ve=he[0],Oe=he[1];Object(r.useEffect)((function(){Ce({variables:{start:i,end:v}})}),[]);var ye=Object(N.a)(g.b,{fetchPolicy:"no-cache",onCompleted:function(){H(xe.getProducts),Oe(xe.totalProducts)}}),je=Object(n.a)(ye,2),Ce=je[0],xe=je[1].data,Pe=function(e){return function(){fe(e),Q(!0)}},Se=function(e){return function(){fe(e),me(!0)}},Ne=function(){te(!1)},$e=function(){Q(!1)},ze=function(){J(!1)},ke=function(){me(!1)};return o.a.createElement(ie.a,{theme:le},o.a.createElement(r.Fragment,null,o.a.createElement(l.a,{className:e.margin},o.a.createElement(V.a,{onClick:function(){J(!0)},variant:"extended",size:"small",className:e.margin},o.a.createElement(T.a,{className:e.extendedIcon}),"Nuevo producto"),o.a.createElement(s.a,{className:e.container},o.a.createElement(c.a,{stickyHeader:!0,"aria-label":"sticky table"},o.a.createElement(d.a,null,o.a.createElement(f.a,null,o.a.createElement(m.a,null,"Nombre"),o.a.createElement(m.a,null,"Precio"),o.a.createElement(m.a,null,"Cantidad"),o.a.createElement(m.a,{colSpan:4},"Acciones"))),o.a.createElement(u.a,null,F.map((function(t){return o.a.createElement(f.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.id},o.a.createElement(m.a,null,t.name),o.a.createElement(m.a,null,t.price),o.a.createElement(m.a,null,t.quantity),o.a.createElement(m.a,{className:e.iconWidth},o.a.createElement(R.a,{title:"Editar",placement:"top"},o.a.createElement(z.a,{className:e.icon,onClick:Se(t)}))),o.a.createElement(m.a,{className:e.iconWidth},o.a.createElement(R.a,{title:"Eliminar",placement:"top"},t.status?o.a.createElement(M.a,{className:e.icon,onClick:(a=t,function(){fe(a),te(!0)})}):o.a.createElement(A.a,{className:e.icon,onClick:Pe(t)}))));var a}))))),o.a.createElement(p.a,{rowsPerPageOptions:[10,25,100],component:"div",count:ve,rowsPerPage:v,page:i,onChangePage:function(e,t){b(t),Ce({variables:{start:t,end:v}})},onChangeRowsPerPage:function(e){O(+e.target.value),b(0),Ce({variables:{start:0,end:e.target.value}})}})),o.a.createElement(W.a,{open:G,onClose:Se,"aria-labelledby":"form-dialog-title"},o.a.createElement(L.a,{id:"form-dialog-title"},"Nuevo producto"),o.a.createElement(q.a,null,o.a.createElement(ae,{onCloseCreateProduct:ze,modal:!0})),o.a.createElement(w.a,null,o.a.createElement(B.a,{onClick:ze,color:"primary"},"Cerrar"))),o.a.createElement(W.a,{open:ue,onClose:ke,"aria-labelledby":"form-dialog-title"},o.a.createElement(L.a,{id:"form-dialog-title"},"Nuevo producto"),o.a.createElement(q.a,null,o.a.createElement(re,{onCloseEditProduct:ke,product:pe,modal:!0})),o.a.createElement(w.a,null,o.a.createElement(B.a,{onClick:ke,color:"primary"},"Cerrar"))),o.a.createElement(W.a,{open:ee,onClose:Ne,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(L.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(q.a,null,o.a.createElement(I.a,null,"Esta seguro de eliminar este producto?")),o.a.createElement(w.a,null,o.a.createElement(B.a,{autoFocus:!0,onClick:Ne,color:"primary"},"NO"),o.a.createElement(B.a,{onClick:function(){te(!1),j({variables:{id:pe.id}}).then((function(e){var t=F.map((function(e,t){return pe.id!==e.id||(e.status=!1),e}));H(t)}))},color:"primary"},"SI"))),o.a.createElement(W.a,{open:K,onClose:$e,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(L.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(q.a,null,o.a.createElement(I.a,null,"Esta seguro de recuperar este producto?")),o.a.createElement(w.a,null,o.a.createElement(B.a,{autoFocus:!0,onClick:$e,color:"primary"},"NO"),o.a.createElement(B.a,{onClick:function(){Q(!1),x({variables:{id:pe.id}}).then((function(e){var t=F.map((function(e,t){return pe.id!==e.id||(e.status=!0),e}));H(t)}))},color:"primary"},"SI")))))}},955:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),o=(0,n(a(18)).default)(r.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=o},956:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),o=(0,n(a(18)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},960:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(72),r=a(73),o=a.n(r);function i(){var e=Object(n.a)(["\n    query getProductsByName($name: String, $products: [String]) {\n        getProductsByName(name: $name, products: $products) {\n            id\n            name\n            price\n            quantity\n            status\n        }\n    }\n"]);return i=function(){return e},e}function l(){var e=Object(n.a)(["\n    query getProducts($start: Int, $end: Int) {\n        getProducts(start: $start, end: $end) {\n            id\n            name\n            price\n            quantity\n            status\n        },\n        totalProducts\n    }\n"]);return l=function(){return e},e}function c(){var e=Object(n.a)(["\n    query getProducts($start: Int, $end: Int) {\n        getProducts(start: $start, end: $end) {\n            id\n            name\n            price\n            quantity\n        }\n    }\n"]);return c=function(){return e},e}o()(c());var u=o()(l()),m=o()(i())},961:function(e,t,a){"use strict";var n=a(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),o=(0,n(a(18)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=o},985:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(1),r=a.n(n),o=a(7),i=a(2),l=(a(8),a(3)),c=a(16),u=a(10),m=a(141),s=a(68),d=Object(s.a)(n.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),p=Object(s.a)(n.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),f=Object(s.a)(n.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),g=Object(s.a)(n.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),b=Object(s.a)(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),E=a(918),h=a(12),v={success:n.createElement(d,{fontSize:"inherit"}),warning:n.createElement(p,{fontSize:"inherit"}),error:n.createElement(f,{fontSize:"inherit"}),info:n.createElement(g,{fontSize:"inherit"})},O=n.createElement(b,{fontSize:"small"}),y=n.forwardRef((function(e,t){var a=e.action,r=e.children,c=e.classes,u=e.className,s=e.closeText,d=void 0===s?"Close":s,p=e.color,f=e.icon,g=e.iconMapping,b=void 0===g?v:g,y=e.onClose,j=e.role,C=void 0===j?"alert":j,x=e.severity,P=void 0===x?"success":x,S=e.variant,N=void 0===S?"standard":S,$=Object(o.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return n.createElement(m.a,Object(i.a)({role:C,square:!0,elevation:0,className:Object(l.a)(c.root,c["".concat(N).concat(Object(h.a)(p||P))],u),ref:t},$),!1!==f?n.createElement("div",{className:c.icon},f||b[P]||v[P]):null,n.createElement("div",{className:c.message},r),null!=a?n.createElement("div",{className:c.action},a):null,null==a&&y?n.createElement("div",{className:c.action},n.createElement(E.a,{size:"small","aria-label":d,title:d,color:"inherit",onClick:y},O)):null)})),j=Object(u.a)((function(e){var t="light"===e.palette.type?c.a:c.e,a="light"===e.palette.type?c.e:c.a;return{root:Object(i.a)(Object(i.a)({},e.typography.body2),{},{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:a(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:a(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:a(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:a(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(y),C=function(e){return r.a.createElement(j,{severity:e.data.type},e.data.message)}},992:function(e,t,a){"use strict";var n=a(2),r=a(1),o=(a(8),a(10)),i=a(71),l=r.forwardRef((function(e,t){return r.createElement(i.a,Object(n.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(o.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(l)}}]);
//# sourceMappingURL=14.34cc42fd.chunk.js.map