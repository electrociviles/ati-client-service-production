(this.webpackJsonpati=this.webpackJsonpati||[]).push([[20],{1048:function(e,t,a){"use strict";var n=a(16);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),o=(0,n(a(17)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=o},1141:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(12),o=a(1),l=a.n(o),i=a(966),c=a(288),s=a(289),u=a(23),m=a(974),p=a(35),g=a(130),d=a(15),b=a(486),f=a(510),O=a(493),E=a(487),h=Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),j=function(e){var t=h();return l.a.createElement(b.a,null,l.a.createElement(f.a,{title:"Detalle Usuario"}),l.a.createElement(O.a,null),l.a.createElement(E.a,{className:t.content},l.a.createElement(c.a,null,l.a.createElement(s.a,null,l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Nombres"),l.a.createElement(u.a,null,e.person.names)),l.a.createElement(p.a,{selected:!0},l.a.createElement(u.a,null,"Apellidos"),l.a.createElement(u.a,null,e.person.last_name)),l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Tipo de documento"),l.a.createElement(u.a,null,e.person.documentType?e.person.documentType.documentType:"")),l.a.createElement(p.a,{selected:!0},l.a.createElement(u.a,null,"N\xfamero de documento"),l.a.createElement(u.a,null,e.person.documentNumber," ",e.person.checkDigit>=0?e.person.checkDigit:"")),l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Correo electr\xf3nico"),l.a.createElement(u.a,null,e.person.email)),l.a.createElement(p.a,{selected:!0},l.a.createElement(u.a,null,"Direcci\xf3n"),l.a.createElement(u.a,null,e.person.address)),l.a.createElement(p.a,null,l.a.createElement(u.a,null,"Tel\xe9fono"),l.a.createElement(u.a,null,e.person.phone))))))},v=a(82),C=a(973),S=a(293),x=a(57),y=a(3),k=a(1145),N=a(228),T=a(1049),W=a(511),F=a(43),I=a(1041),w=(a(1042),Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})));var P=function(e){Object(o.useEffect)((function(){c(e.person),Object(F.y)().then((function(e){p(e.customers)}))}),[]);var t=w(),a=Object(o.useState)(null),r=Object(n.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)([]),u=Object(n.a)(s,2),m=u[0],p=u[1],d=Object(o.useState)(""),b=Object(n.a)(d,2),f=b[0],O=b[1],E=Object(o.useState)(!1),h=Object(n.a)(E,2),j=h[0],y=h[1],T=Object(o.useState)(""),P=Object(n.a)(T,2),B=P[0],_=P[1],z=function(e){var t=void 0!==e?e:f;return null==t||""===t.toString().trim()?(y(!0),_("Este campo es requerido"),1):(y(!1),_(""),0)},H=function(t){if(0===function(){var e=0;return e+=z()}()){var a={customer:f._id,person:i._id};Object(F.a)(a).then((function(t){console.log("response",t),"success"==t.status?(e.onClose(),I.b.info("Usuario agregado al cliente exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):I.b.error("Ocurri\xf3 un error al agregar el usuario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else I.b.error("Faltan campos obligatorios por llenar",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(o.Fragment,null,l.a.createElement(I.a,null),l.a.createElement(C.a,{maxWidth:"md"},l.a.createElement(g.a,{className:t.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),H()}},l.a.createElement(v.a,{container:!0,spacing:3},l.a.createElement(v.a,{item:!0,xs:12,sm:12},l.a.createElement(k.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:m,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){O(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(F.y)(a).then((function(e){p(e.customers)}))}},renderInput:function(e){return l.a.createElement(W.a,Object.assign({error:j,helperText:B},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,t){return l.a.createElement(S.a,{label:e.name,disabled:-1!==m.indexOf(e)})}))},renderOption:function(e){return l.a.createElement(v.a,{container:!0,alignItems:"center"},l.a.createElement(v.a,{item:!0,xs:!0},l.a.createElement(x.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement(v.a,{item:!0,xs:2,sm:3},l.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary"},"Agregar")))))))},B=a(557),_=a.n(B),z=a(313),H=a.n(z),U=a(746),R=a(748),A=a(747),D=a(971),M=a(322),L=a.n(M),q=a(518),G=a(1048),V=a.n(G),J=Object(i.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(d.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}));var K=function(e){Object(o.useEffect)((function(){console.log(e),Object(F.v)().then((function(e){A(e.roles)})),Object(F.y)().then((function(e){z(e.customers)})),e.person&&(q(e.person.name),ne(e.person.document_number),ie(e.person.username),Ne(e.person.role))}),[]);var t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],i=a[1],c=Object(o.useState)(!1),s=Object(n.a)(c,2),u=s[0],m=s[1],p=Object(o.useState)({}),d=Object(n.a)(p,2),b=d[0],f=d[1],O=J(),E=Object(o.useState)([]),h=Object(n.a)(E,2),j=h[0],w=h[1],P=Object(o.useState)([]),B=Object(n.a)(P,2),_=B[0],z=B[1],H=Object(o.useState)([]),U=Object(n.a)(H,2),R=U[0],A=U[1],D=Object(o.useState)(""),M=Object(n.a)(D,2),L=M[0],q=M[1],G=Object(o.useState)(""),V=Object(n.a)(G,2),K=V[0],Q=V[1],X=Object(o.useState)(""),Y=Object(n.a)(X,2),Z=Y[0],$=Y[1],ee=Object(o.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(""),oe=Object(n.a)(re,2),le=oe[0],ie=oe[1],ce=Object(o.useState)(""),se=Object(n.a)(ce,2),ue=se[0],me=se[1],pe=Object(o.useState)(""),ge=Object(n.a)(pe,2),de=ge[0],be=ge[1],fe=Object(o.useState)(""),Oe=Object(n.a)(fe,2),Ee=Oe[0],he=Oe[1],je=Object(o.useState)(""),ve=Object(n.a)(je,2),Ce=ve[0],Se=ve[1],xe=Object(o.useState)(null),ye=Object(n.a)(xe,2),ke=ye[0],Ne=ye[1],Te=Object(o.useState)(!1),We=Object(n.a)(Te,2),Fe=We[0],Ie=We[1],we=Object(o.useState)(""),Pe=Object(n.a)(we,2),Be=Pe[0],_e=Pe[1],ze=Object(o.useState)(!1),He=Object(n.a)(ze,2),Ue=He[0],Re=He[1],Ae=Object(o.useState)(""),De=Object(n.a)(Ae,2),Me=De[0],Le=De[1],qe=Object(o.useState)(!1),Ge=Object(n.a)(qe,2),Ve=Ge[0],Je=Ge[1],Ke=Object(o.useState)(""),Qe=Object(n.a)(Ke,2),Xe=Qe[0],Ye=Qe[1],Ze=Object(o.useState)(!1),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(o.useState)(""),nt=Object(n.a)(at,2),rt=nt[0],ot=nt[1],lt=Object(o.useState)(!1),it=Object(n.a)(lt,2),ct=it[0],st=it[1],ut=Object(o.useState)(""),mt=Object(n.a)(ut,2),pt=mt[0],gt=mt[1],dt=function(e){var t=void 0!==e?e:L;return null==t||""===t.toString().trim()?(Ie(!0),_e("Este campo es requerido"),1):(Ie(!1),_e(""),0)},bt=function(e){var t=new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}"),a=void 0!==e?e:K;return""!==a.toString().trim()?t.test(a)?(Re(!1),Le(""),0):(Re(!0),Le("El correo ingresado no es valido"),1):(Re(!1),Le(""),0)},ft=function(e){var t=void 0!==e?e:ae;return null==t||""===t.toString().trim()?(Je(!0),Ye("Este campo es requerido"),1):(Je(!1),Ye(""),0)},Ot=function(t){var a=function(){var e=0;return e+=dt()}();if(a+=ft(),r&&(a+=function(e){var t=void 0!==e?e:de;return null==t||""===t.toString().trim()?(tt(!0),ot("Este campo es requerido"),1):(tt(!1),ot(""),0)}()),u&&(a+=function(e){var t=void 0!==e?e:Ee;return null==t||""===t.toString().trim()?(st(!0),gt("Este campo es requerido"),1):(st(!1),gt(""),0)}()),ue&&Ce&&ue!==Ce&&(a++,I.b.error("Las contrase\xf1as no son iguales",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),0===a){var n=new FormData;e.person&&n.append("id",e.person._id),n.append("photo",b),n.append("name",L),n.append("username",le),n.append("documentNumber",ae),n.append("role",ke._id),n.append("phone",Z),n.append("email",K),n.append("password",ue),n.append("customer",de),n.append("centerOfAttention",Ee),e.person?Object(F.db)(n).then((function(e){console.log("response",e),"success"==e.status?I.b.info("Funcionario registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):I.b.error("Ocurri\xf3 un error al registrar el funcionario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):Object(F.i)(n).then((function(t){console.log("response",t),"success"==t.status?(I.b.info("Funcionario registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.onCloseModal(!0)):I.b.error(t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else I.b.error("Faltan campos obligatorios por llenar",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return l.a.createElement(o.Fragment,null,l.a.createElement(I.a,null),l.a.createElement(C.a,{maxWidth:"md"},l.a.createElement(g.a,{className:O.paper},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),Ot()}},l.a.createElement(v.a,{container:!0,spacing:3},l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(k.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:R,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){Ne(t),function(e){switch(e.tag){case"construction_manager":case"maintenance_manager":i(!0),m(!1);break;case"oset":case"permanent":i(!0),m(!0)}}(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(F.v)(a).then((function(e){A(e.roles)}))}},renderInput:function(e){return l.a.createElement(W.a,Object.assign({},e,{label:"Roles",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return l.a.createElement(S.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==R.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(v.a,{container:!0,alignItems:"center"},l.a.createElement(v.a,{item:!0,xs:!0},l.a.createElement(x.a,null,"".concat(e.name.toString().toUpperCase()))))}})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,error:Fe,helperText:Be,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",label:"Nombre",value:L,onChange:function(e){q(e.target.value),dt(e.target.value)}})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,error:Ve,helperText:Xe,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",value:ae,onChange:function(e){ne(e.target.value),ft(e.target.value)},label:"Documento"})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",label:"Nombre de usuario",value:le,onChange:function(e){ie(e.target.value)}})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,margin:"dense",autoComplete:"off",className:Object(y.a)(O.margin,O.textField),variant:"outlined",value:Z,onChange:function(e){$(e.target.value)},label:"Tel\xe9fono"})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,error:Ue,helperText:Me,margin:"dense",autoComplete:"off",className:Object(y.a)(O.margin,O.textField),variant:"outlined",value:K,onChange:function(e){Q(e.target.value),bt(e.target.value)},label:"Correo electr\xf3nico"})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,margin:"dense",autoComplete:"off",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",type:"password",label:"Contrase\xf1a",onChange:function(e){me(e.target.value)}})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},l.a.createElement(W.a,{fullWidth:!0,margin:"dense",autoComplete:"off",type:"password",id:"outlined-simple-start-adornment",className:Object(y.a)(O.margin,O.textField),variant:"outlined",label:"Repite la contrase\xf1a",onChange:function(e){Se(e.target.value)}})),l.a.createElement(v.a,{item:!0,xs:12,sm:4},r?l.a.createElement(k.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:_,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){be(t._id),Object(F.x)({customer:t._id}).then((function(e){w(e.centersOfAttention)}))},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(F.y)(a).then((function(e){z(e.customers)}))}},renderInput:function(e){return l.a.createElement(W.a,Object.assign({error:et,helperText:rt},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return l.a.createElement(S.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==R.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(v.a,{container:!0,alignItems:"center"},l.a.createElement(v.a,{item:!0,xs:!0},l.a.createElement(x.a,null,"".concat(e.name.toString().toUpperCase()))))}}):""),l.a.createElement(v.a,{item:!0,xs:12,sm:4},u?l.a.createElement(k.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.title.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:j,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){he(t._id)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(F.x)(a).then((function(e){w(e.centersOfAttention)}))}},renderInput:function(e){return l.a.createElement(W.a,Object.assign({},e,{error:ct,helperText:pt,label:"Centro de atenci\xf3n",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return l.a.createElement(S.a,Object.assign({label:e.title},t({index:a}),{disabled:-1!==R.indexOf(e)}))}))},renderOption:function(e){return l.a.createElement(v.a,{container:!0,alignItems:"center"},l.a.createElement(v.a,{item:!0,xs:!0},l.a.createElement(x.a,null,"".concat(e.title.toString().toUpperCase()))))}}):""),l.a.createElement(v.a,{item:!0,xs:12,sm:12},l.a.createElement(T.a,{open:!0,filesLimit:1,dropzoneText:"Arrastre y suelte un archivo de imagen aqu\xed o haga clic",acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:function(e){f(e[0])}})),l.a.createElement(v.a,{item:!0,xs:2,sm:3},l.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary"},e.person?"Actualizar":"Guardar")))))))},Q=a(576),X=a(321),Y=a.n(X),Z=a(853),$=a(972),ee=a(9),te=a(970),ae=a(492),ne=a(138),re=a.n(ne),oe=a(46),le=Object(i.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),ie=Object(ee.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(r.a)(e,["children","classes","onClose"]);return l.a.createElement(te.a,Object.assign({disableTypography:!0,className:a.root},o),l.a.createElement(x.a,{variant:"h6"},t),n?l.a.createElement(ae.a,{"aria-label":"close",className:a.closeButton,onClick:n},l.a.createElement(re.a,null)):null)})),ce=l.a.forwardRef((function(e,t){return l.a.createElement(q.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(e){Object(o.useEffect)((function(){var e={start:0,end:k,paginate:!0};Object(F.B)(e).then((function(e){d(e.users),E(e.count)}))}),[]);var t=le(),a=Object(o.useState)([]),r=Object(n.a)(a,2),i=r[0],d=r[1],b=Object(o.useState)(0),f=Object(n.a)(b,2),O=f[0],E=f[1],h=Object(o.useState)(0),v=Object(n.a)(h,2),C=v[0],S=v[1],x=Object(o.useState)(10),y=Object(n.a)(x,2),k=y[0],T=y[1],W=Object(o.useState)(!1),w=Object(n.a)(W,2),B=w[0],z=w[1],M=Object(o.useState)(!1),q=Object(n.a)(M,2),G=q[0],J=q[1],X=Object(o.useState)(!1),ee=Object(n.a)(X,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!1),re=Object(n.a)(ne,2),se=re[0],ue=re[1],me=Object(o.useState)(!1),pe=Object(n.a)(me,2),ge=pe[0],de=pe[1],be=Object(o.useState)(!1),fe=Object(n.a)(be,2),Oe=fe[0],Ee=fe[1],he=Object(o.useState)({}),je=Object(n.a)(he,2),ve=je[0],Ce=je[1],Se=function(){Object(F.B)().then((function(e){d(e.users),E(e.count)}))},xe=function(e){return function(){Ce(e),J(!0)}},ye=function(e){return function(){Ce(e),Ee(!0)}},ke=function(){z(!1)},Ne=function(e){return function(){Ce(e),ae(!0)}},Te=function(){ae(!1)},We=function(e){return function(){Ce(e),ue(!0)}},Fe=function(){ue(!1)},Ie=function(){J(!1)},we=function(){Ee(!1)},Pe=function(){de(!1)},Be=function(){de(!1)};return l.a.createElement(o.Fragment,null,l.a.createElement(I.a,null),l.a.createElement(g.a,{className:t.paper},l.a.createElement(Z.a,{onClick:function(){de(!0)},variant:"extended",color:"primary",size:"small",className:t.margin},l.a.createElement(Y.a,{className:t.extendedIcon}),"Crear usuario"),l.a.createElement(c.a,null,l.a.createElement(m.a,null,l.a.createElement(p.a,null,l.a.createElement(u.a,null,"FUNCIONARIO"),l.a.createElement(u.a,null,"DOCUMENTO"),l.a.createElement(u.a,null,"NOMBRE DE USUARIO"),l.a.createElement(u.a,null,"ROL"),l.a.createElement(u.a,null,"FOTO"),l.a.createElement(u.a,{colSpan:4}))),l.a.createElement(s.a,null,i.map((function(e){return l.a.createElement(p.a,{key:e._id},l.a.createElement(u.a,null,e.name," "),l.a.createElement(u.a,null,e.document_number),l.a.createElement(u.a,null,e.username),l.a.createElement(u.a,null,e.role?e.role.name:""),l.a.createElement(u.a,null,e.username),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:"Detalle",placement:"top"},l.a.createElement("div",null,l.a.createElement(L.a,{className:t.icon,onClick:Ne(e)})))),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:"Editar",placement:"top"},l.a.createElement("div",null,l.a.createElement(_.a,{className:t.icon,onClick:We(e)})))),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:e.status,placement:"top"},"activo"===e.status?l.a.createElement(H.a,{className:t.icon,onClick:(a=e,function(){Ce(a),z(!0)})}):l.a.createElement(V.a,{className:t.icon,onClick:xe(e)}))),l.a.createElement(u.a,{className:t.iconWidth},l.a.createElement(Q.a,{title:"Agregar a cliente",placement:"top"},l.a.createElement("div",null,l.a.createElement(oe.k,{className:"icon",onClick:ye(e)})))));var a})))),l.a.createElement($.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O,rowsPerPage:k,page:C,onChangePage:function(e,t){S(t);var a={start:t*k,end:k,paginate:!0};Object(F.B)(a).then((function(e){d(e.users),E(e.count)}))},onChangeRowsPerPage:function(e){T(+e.target.value),S(0);var t={start:0,end:e.target.value,paginate:!0};Object(F.B)(t).then((function(e){d(e.users),E(e.count)}))}})),l.a.createElement(U.a,{open:B,onClose:ke,"aria-labelledby":"draggable-dialog-title"},l.a.createElement(ie,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),l.a.createElement(A.a,null,l.a.createElement(D.a,null,"Esta seguro de eliminar este funcionario?")),l.a.createElement(R.a,null,l.a.createElement(N.a,{autoFocus:!0,onClick:ke,color:"primary"},"NO"),l.a.createElement(N.a,{onClick:function(){z(!1),Object(F.o)(ve._id).then((function(e){if("success"===e.status){I.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=i.map((function(e){return ve._id!==e._id||(e.estado="inactivo"),e}));d(t)}else I.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){I.b.error("Ocurri\xf3 un error al desactivar el funcionario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(U.a,{open:G,onClose:Ie,"aria-labelledby":"draggable-dialog-title"},l.a.createElement(ie,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),l.a.createElement(A.a,null,l.a.createElement(D.a,null,"Esta seguro de Reactivar a esta persona?")),l.a.createElement(R.a,null,l.a.createElement(N.a,{autoFocus:!0,onClick:Ie,color:"primary"},"NO"),l.a.createElement(N.a,{onClick:function(){J(!1),Object(F.V)(ve).then((function(e){if("success"===e.status){I.b.success(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=i.map((function(e){return ve!==e._id||(e.estado="activo"),e}));d(t)}else I.b.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){I.b.error("Ocurri\xf3 un error al activar el funcionario",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},color:"primary"},"SI"))),l.a.createElement(U.a,{open:te,onClose:Te,TransitionComponent:ce},l.a.createElement(A.a,null,l.a.createElement(j,{person:ve})),l.a.createElement(R.a,null,l.a.createElement(N.a,{autoFocus:!0,onClick:Te,color:"primary"},"Cerrar"))),l.a.createElement(U.a,{maxWidth:"md",open:se,onClose:Fe,TransitionComponent:ce},l.a.createElement(A.a,null,l.a.createElement(K,{onCloseModal:Be,onUpdateUsers:Se,person:ve})),l.a.createElement(R.a,null,l.a.createElement(N.a,{autoFocus:!0,onClick:Fe,color:"primary"},"Cerrar"))),l.a.createElement(U.a,{fullWidth:!0,maxWidth:"md",open:ge},l.a.createElement(ie,{onClose:Pe},"Crear usuario"),l.a.createElement(A.a,null,l.a.createElement(K,{handleClose:Pe,onCloseModal:Be,onUpdateUsers:Se,modal:!0})),l.a.createElement(R.a,null,l.a.createElement(N.a,{onClick:Pe,color:"primary"},"Cerrar"))),l.a.createElement(U.a,{open:Oe,onClose:we},l.a.createElement(ie,null,"Agregar a cliente"),l.a.createElement(A.a,null,l.a.createElement(P,{onClose:we,person:ve})),l.a.createElement(R.a,null,l.a.createElement(N.a,{autoFocus:!0,onClick:we,color:"primary"},"Cerrar"))))}}}]);
//# sourceMappingURL=20.9dcc9ccc.chunk.js.map