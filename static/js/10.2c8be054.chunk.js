(this.webpackJsonpati=this.webpackJsonpati||[]).push([[10],{1048:function(e,t,a){"use strict";a.r(t);var n=a(134),r=a(16),i=a(1),o=a.n(i),c=a(903),l=a(958),s=a(959),u=a(961),m=a(962),d=a(960),p=a(130),g=a(905),b=a(939),f=a.n(b),O=a(265),h=a.n(O),v=a(915),E=a(1030),j=a(1028),C=a(1029),x=a(1027),k=a(869),S=a(942),y=a.n(S),W=a(13),N=a(916),P=a(954),w=a(3),_=a(918),A=a(1043),R=a(132),z=a(930),I=a(66),L=a(935),M=(a(941),Object(c.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(W.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}}))),F=function(e){Object(i.useEffect)((function(){console.log("props",e),Object(R.q)().then((function(e){m(e.customers)})),e.centerOfAttention}),[]);var t=Object(i.useState)(!1),a=Object(r.a)(t,2),n=a[0],c=(a[1],M()),l=Object(i.useState)([]),s=Object(r.a)(l,2),u=s[0],m=s[1],d=Object(i.useState)(),b=Object(r.a)(d,2),f=b[0],O=b[1],h=Object(i.useState)(""),v=Object(r.a)(h,2),E=v[0],j=v[1],C=Object(i.useState)(""),x=Object(r.a)(C,2),k=x[0],S=x[1],y=Object(i.useState)(!1),W=Object(r.a)(y,2),F=W[0],H=W[1],G=Object(i.useState)(""),T=Object(r.a)(G,2),B=T[0],q=T[1],V=Object(i.useState)(!1),D=Object(r.a)(V,2),J=D[0],U=D[1],X=Object(i.useState)(""),K=Object(r.a)(X,2),Q=K[0],Y=K[1],Z=function(e){var t=void 0!==e?e:E;return null==t||""===t.toString().trim()?(U(!0),Y("Este campo es requerido"),1):(U(!1),Y(""),0)},$=function(e){var t=void 0!==e?e:k;return null==t||""===t.toString().trim()?(H(!0),q("Este campo es requerido"),1):(H(!1),q(""),0)},ee=function(){if(0===function(){var e=0;return e+=Z(),e+=$()}()){var t={name:k,description:E,customer:f._id};e.centerOfAttention?Object(R.E)(t).then((function(e){"success"==e.status?L.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):L.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):Object(R.b)(t).then((function(t){"success"==t.status?(L.b.info("Proyecto registrado exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.handleClose()):L.b.error("Ocurri\xf3 un error al registrar el proyecto",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}else L.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return o.a.createElement(i.Fragment,null,o.a.createElement(L.a,null),o.a.createElement(P.a,{maxWidth:"md"},o.a.createElement(p.a,{className:c.paper},o.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),ee()}},o.a.createElement(N.a,{container:!0,spacing:3},o.a.createElement(N.a,{item:!0,xs:12,sm:12},o.a.createElement(A.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:u,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){O(t)},onInputChange:function(e,t){if(console.log("newInputValue",t),t.toString().trim().length>0){var a={search:t.toString().trim()};Object(R.q)(a).then((function(e){m(e.customers)}))}},renderInput:function(e){return o.a.createElement(_.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return o.a.createElement(z.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==u.indexOf(e)}))}))},renderOption:function(e){return o.a.createElement(N.a,{container:!0,alignItems:"center"},o.a.createElement(N.a,{item:!0,xs:!0},o.a.createElement(I.a,null,"".concat(e.name.toString().toUpperCase()))))}})),o.a.createElement(N.a,{item:!0,xs:12,sm:12},o.a.createElement(_.a,{fullWidth:!0,error:F,helperText:B,margin:"dense",autoComplete:"off",className:Object(w.a)(c.margin,c.textField),variant:"outlined",label:"Nombre del centro de atenci\xf3n",value:k,onChange:function(e){S(e.target.value),$(e.target.value)}})),o.a.createElement(N.a,{item:!0,xs:12,sm:12},o.a.createElement(_.a,{fullWidth:!0,error:J,helperText:Q,margin:"dense",autoComplete:"off",className:Object(w.a)(c.margin,c.textField),variant:"outlined",label:"Descripci\xf3n del centro de atenci\xf3n",value:E,onChange:function(e){j(e.target.value),Z(e.target.value)}})),o.a.createElement(N.a,{item:!0,xs:2,sm:3},o.a.createElement(g.a,{disabled:n,type:"submit",variant:"contained",color:"primary"},e.person?"Actualizar":"Guardar")))))))},H=a(901),G=a(1049),T=Object(c.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),B=o.a.forwardRef((function(e,t){return o.a.createElement(k.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(){var e=T(),t=Object(i.useState)([]),a=Object(r.a)(t,2),c=a[0],b=a[1],O=Object(i.useState)(0),k=Object(r.a)(O,2),S=k[0],W=k[1],N=Object(i.useState)(10),P=Object(r.a)(N,2),w=P[0],_=P[1],A=Object(i.useState)(0),z=Object(r.a)(A,2),I=z[0],L=z[1],M=Object(i.useState)(!1),q=Object(r.a)(M,2),V=q[0],D=q[1],J=Object(i.useState)(!1),U=Object(r.a)(J,2),X=U[0],K=U[1],Q=Object(i.useState)(!1),Y=Object(r.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(!1),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],re=Object(i.useState)({}),ie=Object(r.a)(re,2),oe=ie[0],ce=ie[1];Object(i.useEffect)((function(){var e={start:0,end:w};Object(R.p)(e).then((function(e){b(e.centersOfAttention),W(e.count)}))}),[]);var le=function(e){return function(){ce(e),D(!0)}},se=function(e){return function(){ce(e),K(!0)}},ue=function(){D(!1)},me=function(){$(!1)},de=function(){K(!1)},pe=function(){ne(!1)};return o.a.createElement(i.Fragment,null,o.a.createElement(p.a,{className:e.paper},o.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){ne(!0)}},"Crear centro de atenci\xf3n"),o.a.createElement(l.a,null,o.a.createElement(m.a,null,o.a.createElement(d.a,null,o.a.createElement(u.a,null,"Nombre"),o.a.createElement(u.a,{colSpan:4},"Acciones"))),o.a.createElement(s.a,null,c.map((function(t){return o.a.createElement(d.a,{key:t._id},o.a.createElement(u.a,null,t.name," "),o.a.createElement(u.a,{className:e.iconWidth},t.administrative?"":o.a.createElement(H.a,{title:"Editar",placement:"top"},o.a.createElement(f.a,{className:e.icon,onClick:(a=t,function(){ce(a),$(!0)})}))),o.a.createElement(u.a,{className:e.iconWidth},t.administrative?"":o.a.createElement(H.a,{title:"Eliminar",placement:"top"},"active"===t.status?o.a.createElement(h.a,{className:e.icon,onClick:le(t)}):o.a.createElement(y.a,{className:e.icon,onClick:se(t)}))));var a})))),o.a.createElement(G.a,{rowsPerPageOptions:[10,25,100],component:"div",count:S,rowsPerPage:w,page:I,onChangePage:function(e,t){L(t);var a={start:t,end:w};Object(R.p)(a).then((function(e){b(e.centersOfAttention),W(e.count)}))},onChangeRowsPerPage:function(e){_(+e.target.value),L(0);var t={start:0,end:e.target.value};Object(R.p)(t).then((function(e){b(e.centersOfAttention),W(e.count)}))}})),o.a.createElement(v.a,{open:V,onClose:ue,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(x.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(j.a,null,o.a.createElement(C.a,null,"Esta seguro de eliminar este rol?")),o.a.createElement(E.a,null,o.a.createElement(g.a,{autoFocus:!0,onClick:ue,color:"primary"},"NO"),o.a.createElement(g.a,{onClick:function(){D(!1),Object(R.j)({id:oe._id}).then((function(e){if("success"===e.status){var t=c.map((function(e){return oe._id!==e._id||(e.status="inactive"),e}));b(t)}}))},color:"primary"},"SI"))),o.a.createElement(v.a,{open:X,onClose:de,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(x.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),o.a.createElement(j.a,null,o.a.createElement(C.a,null,"Esta seguro de Reactivar a este rol?")),o.a.createElement(E.a,null,o.a.createElement(g.a,{autoFocus:!0,onClick:de,color:"primary"},"NO"),o.a.createElement(g.a,{onClick:function(){K(!1),Object(R.A)({id:oe._id}).then((function(e){if("success"===e.status){var t=c.map((function(e,t){return oe._id!==e._id||(e.status="active"),e}));b(t)}}))},color:"primary"},"SI"))),o.a.createElement(v.a,{maxWidth:"md",open:Z,onClose:me,TransitionComponent:B},o.a.createElement(j.a,null,o.a.createElement(F,{handleClose:me,centerOfAttention:oe,passCenterOfAttentionEdit:function(e){$(!1);var t=e.map((function(t){return e._id!==t._id||(t.name=e.name),t}));b(t)}})),o.a.createElement(E.a,null,o.a.createElement(g.a,{autoFocus:!0,onClick:me,color:"primary"},"Cerrar"))),o.a.createElement(v.a,{open:ae,onClose:pe,"aria-labelledby":"form-dialog-title"},o.a.createElement(x.a,{id:"form-dialog-title"},"Crear centro de atenci\xf3n"),o.a.createElement(j.a,null,o.a.createElement(F,{handleClose:pe,passCreateCenterOfAttention:function(e){b((function(t){return[].concat(Object(n.a)(t),[e])})),ne(!1)},modal:!0})),o.a.createElement(E.a,null,o.a.createElement(g.a,{onClick:pe,color:"primary"},"Cerrar"))))}},939:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),i=(0,n(a(15)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=i},942:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),i=(0,n(a(15)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=i},954:function(e,t,a){"use strict";var n=a(2),r=a(6),i=a(27),o=a(1),c=(a(7),a(3)),l=a(9),s=a(10),u=o.forwardRef((function(e,t){var a=e.classes,i=e.className,l=e.component,u=void 0===l?"div":l,m=e.disableGutters,d=void 0!==m&&m,p=e.fixed,g=void 0!==p&&p,b=e.maxWidth,f=void 0===b?"lg":b,O=Object(r.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(u,Object(n.a)({className:Object(c.a)(a.root,i,g&&a.fixed,d&&a.disableGutters,!1!==f&&a["maxWidth".concat(Object(s.a)(String(f)))]),ref:t},O))}));t.a=Object(l.a)((function(e){return{root:Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(i.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(i.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(i.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(i.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(i.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(u)}}]);
//# sourceMappingURL=10.2c8be054.chunk.js.map