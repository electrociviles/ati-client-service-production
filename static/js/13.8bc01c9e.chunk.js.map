{"version":3,"sources":["views/Person/PersonDetail.js","views/Person/PersonForm.js","views/Person/Person.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","height","minWidth","input","display","padding","valueContainer","flexWrap","flex","alignItems","overflow","chip","margin","spacing","chipFocused","backgroundColor","emphasize","palette","type","grey","noOptionsMessage","singleValue","fontSize","placeholder","position","left","bottom","divider","paper","color","text","secondary","button","fab","marginTop","float","extendedIcon","marginRight","formControl","PersonDetail","props","console","log","classes","useState","Card","CardHeader","title","Divider","CardContent","className","content","Table","TableBody","TableRow","TableCell","person","names","selected","last_name","documentType","documentNumber","checkDigit","email","address","PersonForm","useEffect","setName","name","setDocumentNumber","document_number","setUsername","username","setRole","role","disabled","file","setFile","password","setPassword","repeatPassword","setRepeatPassword","errorName","setErrorName","errorTextName","setErrorTextName","errorDocument","setErrorDocument","errorTextDocument","setErrorTextDocument","validateName","value","undefined","toString","trim","validateDocument","onSubmitPerson","_","errores","errors","validateForm","toast","error","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","formData","FormData","append","_id","updateUser","then","response","status","info","createUser","onCloseModal","onUpdateUsers","message","Container","maxWidth","Paper","encType","onSubmit","e","preventDefault","Grid","container","item","xs","sm","TextField","fullWidth","select","clsx","textField","variant","label","onChange","target","MenuItem","key","helperText","autoComplete","id","open","filesLimit","dropzoneText","acceptedFiles","Button","iconWidth","width","icon","DialogTitle","withStyles","closeButton","right","top","children","onClose","other","disableTypography","Typography","IconButton","aria-label","onClick","Transition","React","forwardRef","ref","Slide","direction","Person","listUsers","setPersons","users","setTotalPersons","count","persons","totalPersons","page","setPage","rowsPerPage","setRowsPerPage","setOpen","openRestorePerson","setOpenRestorePerson","openDetailPerson","setOpenDetailPerson","openEditPerson","setOpenEditPerson","openCreatePerson","setOpenCreatePerson","setPersonSelected","onOpenRestorePerson","onCloseDeletePerson","onDetailPerson","closeApu","onEditPerson","onCloseEditPerson","onCloseRestorePerson","onCloseCreatePerson","Fab","size","TableHead","map","Tooltip","placement","TablePagination","rowsPerPageOptions","component","onChangePage","event","newPage","onChangeRowsPerPage","Dialog","aria-labelledby","style","cursor","DialogContent","DialogContentText","DialogActions","autoFocus","deleteUser","success","newPersons","currentPerson","estado","catch","restoreUser","TransitionComponent","handleClose","modal"],"mappings":"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","file":"static/js/13.8bc01c9e.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { emphasize, makeStyles } from '@material-ui/core/styles';\nimport EditIcon from '@material-ui/icons/Edit';\nimport LockOpenIcon from '@material-ui/icons/LockOpenOutlined';\nimport PersonIcon from '@material-ui/icons/PersonOutline';\n\nimport { Label } from 'components';\n\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Button,\n  Divider,\n  Table,\n  TableBody,\n  TableRow,\n  TableCell,\n  colors\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n    minWidth: 290\n  },\n  input: {\n    display: \"flex\",\n    padding: 0,\n    height: \"auto\"\n  },\n  valueContainer: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flex: 1,\n    alignItems: \"center\",\n    overflow: \"hidden\"\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[300]\n        : theme.palette.grey[700],\n      0.08\n    )\n  },\n  noOptionsMessage: {\n    padding: theme.spacing(1, 2)\n  },\n  singleValue: {\n    fontSize: 16\n  },\n  placeholder: {\n    position: \"absolute\",\n    left: 2,\n    bottom: 6,\n    fontSize: 16\n  },\n\n  divider: {\n    height: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n\n  },\n  button:\n  {\n    margin: theme.spacing(1),\n  },\n  fab:\n  {\n    marginTop: -2,\n    float: \"right\"\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n  },\n}))\n\nconst PersonDetail = props => {\n\n  console.log('props', props)\n\n  const classes = useStyles()\n\n  const [openEdit, setOpenEdit] = useState(false);\n\n  const handleEditOpen = () => {\n    setOpenEdit(true);\n  };\n\n  const handleEditClose = () => {\n    setOpenEdit(false);\n  };\n\n  return (\n    <Card>\n      <CardHeader title=\"Detalle Usuario\" />\n      <Divider />\n      <CardContent className={classes.content}>\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>Nombres</TableCell>\n              <TableCell>{props.person.names}</TableCell>\n            </TableRow>\n            <TableRow selected>\n              <TableCell>Apellidos</TableCell>\n              <TableCell>{props.person.last_name}</TableCell>\n            </TableRow>\n            \n            <TableRow>\n              <TableCell>Tipo de documento</TableCell>\n              <TableCell>{props.person.documentType ? props.person.documentType.documentType : ''}</TableCell>\n            </TableRow>\n\n            <TableRow selected>\n              <TableCell>N煤mero de documento</TableCell>\n              <TableCell>{props.person.documentNumber} {props.person.checkDigit >= 0 ? props.person.checkDigit : ''}</TableCell>\n            </TableRow>\n\n            \n            <TableRow>\n              <TableCell>Correo electr贸nico</TableCell>\n              <TableCell>{props.person.email}</TableCell>\n            </TableRow>\n\n            <TableRow selected>\n              <TableCell>Direcci贸n</TableCell>\n              <TableCell>{props.person.address}</TableCell>\n            </TableRow>\n\n            <TableRow >\n              <TableCell>Correo electr贸nico</TableCell>\n              <TableCell>{props.person.email}</TableCell>\n            </TableRow>\n\n          </TableBody>\n        </Table>\n      </CardContent>\n\n    </Card>\n  )\n}\n\nexport default PersonDetail","import React, { Fragment, useState, useEffect } from 'react'\nimport { emphasize, makeStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport Container from '@material-ui/core/Container'\n\nimport clsx from 'clsx'\n\nimport { Button } from '@material-ui/core'\nimport { DropzoneArea } from 'material-ui-dropzone'\n\nimport PropTypes from \"prop-types\"\nimport TextField from \"@material-ui/core/TextField\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport { createUser, updateUser } from '../../api/api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n    minWidth: 290\n  },\n  input: {\n    display: \"flex\",\n    padding: 0,\n    height: \"auto\"\n  },\n  valueContainer: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flex: 1,\n    alignItems: \"center\",\n    overflow: \"hidden\"\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[300]\n        : theme.palette.grey[700],\n      0.08\n    )\n  },\n  noOptionsMessage: {\n    padding: theme.spacing(1, 2)\n  },\n  singleValue: {\n    fontSize: 16\n  },\n  placeholder: {\n    position: \"absolute\",\n    left: 2,\n    bottom: 6,\n    fontSize: 16\n  },\n\n  divider: {\n    height: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n\n  },\n  button:\n  {\n    margin: theme.spacing(1),\n  },\n  fab:\n  {\n    marginTop: -2,\n    float: \"right\"\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n  },\n}))\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />\n}\n\ninputComponent.propTypes = {\n  inputRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({\n      current: PropTypes.any.isRequired\n    })\n  ])\n}\nconst PersonForm = props => {\n\n\n  useEffect(() => {\n    console.log(props)\n\n    if (props.person) {\n\n      setName(props.person.name);\n      setDocumentNumber(props.person.document_number);\n      setUsername(props.person.username);\n      setRole(props.person.role);\n    }\n  }, [])\n\n  const [dataResponse, setDataResponse] = useState([])\n  const [disabled, setDisabled] = useState(false)\n\n  const [file, setFile] = useState({})\n  const classes = useStyles()\n\n\n  const [roles, setRoles] = useState([]);\n  const [name, setName] = useState('');\n  const [documentNumber, setDocumentNumber] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n  const [role, setRole] = useState(null);\n\n  const [errorName, setErrorName] = useState(false)\n  const [errorTextName, setErrorTextName] = useState('')\n\n  const [errorDocument, setErrorDocument] = useState(false)\n  const [errorTextDocument, setErrorTextDocument] = useState('')\n\n  const handlePicture = file => {\n    setFile(file[0])\n  }\n  const onChangeName = e => {\n    setName(e.target.value);\n    validateName(e.target.value);\n  }\n  const onChangeDocumentNumber = e => {\n    setDocumentNumber(e.target.value);\n    validateDocument(e.target.value);\n  }\n  const onChangeUserame = e => {\n    setUsername(e.target.value)\n  }\n  const onChangePassword = e => {\n    setPassword(e.target.value)\n  }\n  const onChangeRepeatPassword = e => {\n    setRepeatPassword(e.target.value)\n  }\n\n  const validateForm = () => {\n    let errors = 0\n    errors += validateName()\n    // errors += validatePrice()\n    // errors += validateQuantity()\n    return errors\n  }\n\n  const validateName = (value) => {\n    let text = value !== undefined ? value : name\n\n    if (text == null || text.toString().trim() === '') {\n      setErrorName(true)\n      setErrorTextName('Este campo es requerido')\n      return 1\n    }\n    else {\n      setErrorName(false)\n      setErrorTextName('')\n      return 0\n    }\n  }\n\n  const validateDocument = (value) => {\n    let text = value !== undefined ? value : documentNumber\n\n    if (text == null || text.toString().trim() === '') {\n      setErrorDocument(true)\n      setErrorTextDocument('Este campo es requerido')\n      return 1\n    }\n    else {\n      setErrorDocument(false)\n      setErrorTextDocument('')\n      return 0\n    }\n  }\n\n  const onChangeRol = e => {\n    console.log(e.target.value)\n    setRole(e.target.value)\n  }\n\n  const onSubmitPerson = _ => {\n\n    let errores = validateForm()\n    errores += validateDocument();\n\n    if (password && repeatPassword) {\n      if (password !== repeatPassword) {\n        toast.error('Las contrase帽as no son iguales', {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      }\n    }\n\n\n\n    if (errores === 0) {\n      const formData = new FormData();\n      if (props.person) {\n        formData.append(\"id\", props.person._id);\n      }\n      formData.append(\"photo\", file);\n      formData.append(\"name\", name);\n      formData.append(\"username\", username);\n      formData.append(\"documentNumber\", documentNumber);\n      formData.append(\"role\", role);\n      formData.append(\"password\", password);\n\n      if (!props.person) {\n        createUser(formData).then(response => {\n          console.log('response', response);\n          if (response.status == 'success') {\n            toast.info('Funcionario registrado exitosamente', {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            props.onCloseModal(true);\n            props.onUpdateUsers();\n          } else {\n            toast.error(response.message, {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n          }\n\n        });\n\n      } else {\n\n        updateUser(formData).then(response => {\n          console.log('response', response);\n          if (response.status == 'success') {\n            toast.info('Funcionario registrado exitosamente', {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n          } else {\n            toast.error('Ocurri贸 un error al registrar el funcionario', {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n          }\n\n        });\n      }\n    } else {\n      toast.error(' Wow so easy!', {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n    }\n  }\n\n\n  return (\n    <Fragment>\n      <ToastContainer />\n      <Container maxWidth=\"md\">\n\n        <Paper className={classes.paper}>\n          <form encType={'multipart/form-data'}\n            onSubmit={e => {\n              e.preventDefault()\n              onSubmitPerson()\n            }} >\n            <Grid container spacing={3}>\n\n              <Grid item xs={12} sm={4}>\n\n                <TextField\n                  fullWidth\n                  select\n\n                  className={clsx(classes.margin, classes.textField)}\n                  variant=\"outlined\"\n                  label=\"Rol\"\n                  margin=\"dense\"\n                  onChange={onChangeRol} >\n                  <MenuItem key={\"administrator\"} value={\"administrator\"}>Administrador</MenuItem>\n                  <MenuItem key={\"technical\"} value={\"technical\"}>T茅cnico</MenuItem>\n                </TextField>\n              </Grid>\n\n              <Grid item xs={12} sm={4}>\n                <TextField\n                  fullWidth\n                  error={errorName}\n                  helperText={errorTextName}\n                  margin=\"dense\"\n                  autoComplete='off'\n                  id=\"outlined-simple-start-adornment\"\n                  className={clsx(classes.margin, classes.textField)}\n                  variant=\"outlined\"\n                  label=\"Nombre\"\n                  value={name}\n                  onChange={onChangeName} />\n              </Grid>\n\n              <Grid item xs={12} sm={4}>\n                <TextField\n                  fullWidth\n                  error={errorDocument}\n                  helperText={errorTextDocument}\n                  margin=\"dense\"\n                  autoComplete='off'\n                  id=\"outlined-simple-start-adornment\"\n                  className={clsx(classes.margin, classes.textField)}\n                  variant=\"outlined\"\n                  value={documentNumber}\n                  onChange={onChangeDocumentNumber}\n                  label=\"Documento\" />\n              </Grid>\n\n              <Grid item xs={12} sm={4}>\n                <TextField\n                  fullWidth\n                  margin=\"dense\"\n                  autoComplete='off'\n                  id=\"outlined-simple-start-adornment\"\n                  className={clsx(classes.margin, classes.textField)}\n                  variant=\"outlined\"\n                  label=\"Nombre de usuario\"\n                  value={username}\n                  onChange={onChangeUserame} />\n              </Grid>\n\n\n              <Grid item xs={12} sm={4}>\n                <TextField\n                  fullWidth\n                  margin=\"dense\"\n                  autoComplete='off'\n                  id=\"outlined-simple-start-adornment\"\n                  className={clsx(classes.margin, classes.textField)}\n                  variant=\"outlined\"\n                  type='password'\n                  label=\"Contrase帽a\"\n                  onChange={onChangePassword} />\n              </Grid>\n\n              <Grid item xs={12} sm={4}>\n                <TextField\n                  fullWidth\n                  margin=\"dense\"\n                  autoComplete='off'\n                  type='password'\n                  id=\"outlined-simple-start-adornment\"\n                  className={clsx(classes.margin, classes.textField)}\n                  variant=\"outlined\"\n                  label=\"Repite la contrase帽a\"\n                  onChange={onChangeRepeatPassword} />\n              </Grid>\n\n\n\n              <Grid item xs={12} sm={12}>\n                <DropzoneArea\n                  open={true}\n                  filesLimit={1}\n                  dropzoneText=\"Arrastre y suelte un archivo de imagen aqu铆 o haga clic\"\n                  acceptedFiles={['image/jpeg', 'image/png', 'image/bmp']}\n                  onChange={handlePicture} />\n\n              </Grid>\n\n\n              <Grid item xs={2} sm={3}>\n                <Button disabled={disabled} type=\"submit\" variant=\"contained\" color='primary'>\n                  {props.person ? \"Actualizar\" : \"Guardar\"}\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n        </Paper>\n\n      </Container>\n    </Fragment>\n  )\n}\n\nexport default PersonForm","import React, { useState, useEffect, Fragment } from 'react'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport PersonDetail from './PersonDetail'\nimport { Button } from '@material-ui/core';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/DeleteOutlined';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Slide from '@material-ui/core/Slide';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport PersonForm from \"./../Person/PersonForm\";\n\nimport Tooltip from '@material-ui/core/Tooltip'\nimport AddIcon from '@material-ui/icons/Add';\nimport Fab from '@material-ui/core/Fab';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport { deleteUser, restoreUser, listUsers } from '../../api/api';\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    iconWidth: {\n        width: 10\n    },\n    paper: {\n        padding: theme.spacing(2),\n        marginTop: 10,\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    input: {\n        display: 'none',\n    },\n    fab: {\n        margin: theme.spacing(1),\n    },\n    extendedIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        color: 'black'\n    },\n}))\n\nconst styles = (theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n        <MuiDialogTitle disableTypography className={classes.root} {...other}>\n            <Typography variant=\"h6\">{children}</Typography>\n            {onClose ? (\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                    <CloseIcon />\n                </IconButton>\n            ) : null}\n        </MuiDialogTitle>\n    );\n});\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n})\n\n\n\nconst Person = _ => {\n\n    useEffect(() => {\n        listUsers().then(response => {\n            setPersons(response.users);\n            setTotalPersons(response.count);\n        });\n    }, []);\n\n\n\n    const classes = useStyles()\n\n    const [persons, setPersons] = useState([])\n    const [totalPersons, setTotalPersons] = useState(0)\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n\n\n    const [open, setOpen] = useState(false);\n    const [openRestorePerson, setOpenRestorePerson] = useState(false);\n    const [openDetailPerson, setOpenDetailPerson] = useState(false);\n    const [openEditPerson, setOpenEditPerson] = useState(false);\n    const [openCreatePerson, setOpenCreatePerson] = useState(false);\n    const [person, setPersonSelected] = useState({})\n\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n        // getPersons({ variables: { start: newPage, end: rowsPerPage } })\n    }\n\n    const onUpdateUsers = () => {\n        listUsers().then(response => {\n            setPersons(response.users);\n            setTotalPersons(response.count);\n        });\n    }\n\n    const handleChangeRowsPerPage = event => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n        // getPersons({ variables: { start: 0, end: event.target.value } })\n    }\n\n    const onOpenDeletePerson = id => () => {\n        setPersonSelected(id)\n        setOpen(true);\n    }\n\n    const onOpenRestorePerson = id => () => {\n        setPersonSelected(id)\n        setOpenRestorePerson(true);\n    }\n\n    const onCloseDeletePerson = () => {\n        setOpen(false);\n    }\n\n    const onDeletePerson = () => {\n        setOpen(false);\n\n        deleteUser(person).then(response => {\n            if (response.status === 'success') {\n                toast.success(response.message, {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                });\n                const newPersons = persons.map((currentPerson) => {\n                    if (person !== currentPerson._id)\n                        return currentPerson\n\n                    currentPerson.estado = \"inactivo\";\n                    return currentPerson\n                })\n                setPersons(newPersons)\n            } else {\n                toast.error(response.message, {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                });\n            }\n        }).catch(e => {\n\n            toast.error('Ocurri贸 un error al desactivar el funcionario', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n            });\n        })\n\n    }\n\n    const onRestorePerson = () => {\n\n        setOpenRestorePerson(false)\n\n        restoreUser(person).then(response => {\n            if (response.status === 'success') {\n                toast.success(response.message, {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                });\n                const newPersons = persons.map((currentPerson) => {\n                    if (person !== currentPerson._id)\n                        return currentPerson\n\n                    currentPerson.estado = \"activo\";\n                    return currentPerson\n                })\n                setPersons(newPersons)\n            } else {\n                toast.error(response.message, {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                });\n            }\n        }).catch(e => {\n            toast.error('Ocurri贸 un error al activar el funcionario', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n            });\n        })\n    }\n\n    const onDetailPerson = person => () => {\n        setPersonSelected(person)\n        setOpenDetailPerson(true)\n    }\n\n    const closeApu = () => {\n        setOpenDetailPerson(false)\n    }\n\n    const onEditPerson = person => () => {\n        setPersonSelected(person)\n        setOpenEditPerson(true)\n    }\n\n    const onCloseEditPerson = () => {\n        setOpenEditPerson(false)\n    }\n\n    const onCloseRestorePerson = () => {\n        setOpenRestorePerson(false)\n    }\n\n    const onCreatePerson = () => {\n        setOpenCreatePerson(true)\n    }\n\n    const onCloseCreatePerson = () => {\n        setOpenCreatePerson(false)\n    }\n\n    const onCloseModal = () => {\n        setOpenCreatePerson(false)\n    }\n\n\n    return (\n        <Fragment>\n            <ToastContainer />\n            <Paper className={classes.paper}>\n                <Fab onClick={onCreatePerson} variant=\"extended\" color=\"primary\" size=\"small\" className={classes.margin}>\n                    <AddIcon className={classes.extendedIcon} />\n                    Nuevo funcionario\n                </Fab>\n\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>FUNCIONARIO</TableCell>\n                            <TableCell>DOCUMENTO</TableCell>\n                            <TableCell>NOMBRE DE USUARIO</TableCell>\n                            <TableCell>ROL</TableCell>\n                            <TableCell>FOTO</TableCell>\n                            <TableCell></TableCell>\n                            <TableCell></TableCell>\n                            <TableCell></TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {\n                            persons.map(item => {\n\n                                return (\n                                    <TableRow key={item._id}>\n                                        <TableCell>{item.name} </TableCell>\n                                        <TableCell>{item.document_number}</TableCell>\n                                        <TableCell>{item.username}</TableCell>\n                                        <TableCell>{item.role}</TableCell>\n                                        <TableCell>{item.username}</TableCell>\n\n\n                                        <TableCell className={classes.iconWidth}>\n                                            <Tooltip title=\"Detalle\" placement=\"top\">\n                                                <SearchIcon className={classes.icon} onClick={onDetailPerson(item)} />\n                                            </Tooltip>\n                                        </TableCell>\n\n                                        <TableCell className={classes.iconWidth}>\n                                            <Tooltip title=\"Editar\" placement=\"top\">\n                                                <EditIcon className={classes.icon} onClick={onEditPerson(item)} />\n                                            </Tooltip>\n                                        </TableCell>\n                                        <TableCell className={classes.iconWidth}>\n                                            <Tooltip title={item.status} placement=\"top\">\n                                                {\n                                                    item.status === 'activo' ?\n                                                        <DeleteIcon className={classes.icon} onClick={onOpenDeletePerson(item._id)} />\n                                                        :\n                                                        <RestoreIcon className={classes.icon} onClick={onOpenRestorePerson(item._id)} />\n                                                }\n                                            </Tooltip>\n                                        </TableCell>\n                                    </TableRow>)\n                            }\n                            )}\n                    </TableBody>\n                </Table>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={totalPersons}\n                    rowsPerPage={rowsPerPage}\n                    page={page}\n                    onChangePage={handleChangePage}\n                    onChangeRowsPerPage={handleChangeRowsPerPage}\n                />\n            </Paper>\n\n\n            <Dialog\n                open={open}\n                onClose={onCloseDeletePerson}\n                aria-labelledby=\"draggable-dialog-title\">\n                <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n                    Alerta\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Esta seguro de eliminar este funcionario?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button autoFocus onClick={onCloseDeletePerson} color=\"primary\">\n                        NO\n                    </Button>\n                    <Button onClick={onDeletePerson} color=\"primary\">\n                        SI\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Dialog\n                open={openRestorePerson}\n                onClose={onCloseRestorePerson}\n                aria-labelledby=\"draggable-dialog-title\">\n                <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n                    Alerta\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Esta seguro de Reactivar a esta persona?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button autoFocus onClick={onCloseRestorePerson} color=\"primary\">\n                        NO\n                    </Button>\n                    <Button onClick={onRestorePerson} color=\"primary\">\n                        SI\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Dialog open={openDetailPerson} onClose={closeApu} TransitionComponent={Transition}>\n                <DialogContent>\n                    <PersonDetail person={person} />\n                </DialogContent>\n                <DialogActions>\n                    <Button autoFocus onClick={closeApu} color=\"primary\">\n                        Cerrar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Dialog maxWidth=\"md\" open={openEditPerson} onClose={onCloseEditPerson} TransitionComponent={Transition}>\n                <DialogContent>\n                    <PersonForm onCloseEditPerson={onCloseEditPerson} onCloseModal={onCloseModal} onUpdateUsers={onUpdateUsers} person={person} />\n                </DialogContent>\n                <DialogActions>\n                    <Button autoFocus onClick={onCloseEditPerson} color=\"primary\">\n                        Cerrar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Dialog\n                fullWidth={true}\n                maxWidth=\"md\"\n                open={openCreatePerson}>\n                <DialogTitle onClose={onCloseCreatePerson} >Crear usuario</DialogTitle>\n\n                <DialogContent>\n                    <PersonForm handleClose={onCloseCreatePerson} onCloseModal={onCloseModal} onUpdateUsers={onUpdateUsers} modal={true} />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={onCloseCreatePerson} color=\"primary\">\n                        Cerrar\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>)\n}\n\nexport default Person"],"sourceRoot":""}