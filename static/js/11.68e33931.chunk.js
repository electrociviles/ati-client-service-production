(this.webpackJsonpati=this.webpackJsonpati||[]).push([[11],{1088:function(e,t,a){"use strict";a.r(t);var n=a(149),r=a(14),c=a(1),i=a.n(c),o=a(896),l=a(503),u=a(504),s=a(28),m=a(976),d=a(38),f=a(136),p=a(262),b=a(914),g=a.n(b),O=a(281),E=a.n(O),j=a(942),v=a(944),h=a(943),C=a(992),S=a(981),x=a(908),y=a(970),A=a.n(y),w=a(12),N=a(79),k=a(974),W=a(3),_=a(902),F=a(1085),T=a(64),M=a(509),P=a(59),z=a(963),I=(a(967),a(280)),q=a.n(I),B=a(988),D=a(915),R=a(1079),H=Object(o.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(w.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},divider:{height:e.spacing(2)},paper:{padding:e.spacing(2),color:e.palette.text.secondary},button:{margin:e.spacing(1)},fab:{marginTop:-2,float:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1)}}})),L=function(e){Object(c.useEffect)((function(){console.log("props",e),Object(T.u)().then((function(t){m(t.customers),e.centerOfAttention&&O(e.centerOfAttention.customer)})),e.centerOfAttention&&(y(e.centerOfAttention.title),h(e.centerOfAttention.description),O(e.centerOfAttention.customer))}),[]);var t=Object(c.useState)(!1),a=Object(r.a)(t,2),n=a[0],o=(a[1],H()),l=Object(c.useState)([]),u=Object(r.a)(l,2),s=u[0],m=u[1],d=Object(c.useState)(),b=Object(r.a)(d,2),g=b[0],O=b[1],E=Object(c.useState)(""),j=Object(r.a)(E,2),v=j[0],h=j[1],C=Object(c.useState)(""),S=Object(r.a)(C,2),x=S[0],y=S[1],A=Object(c.useState)(""),w=Object(r.a)(A,2),I=w[0],L=w[1],V=Object(c.useState)(""),G=Object(r.a)(V,2),J=G[0],K=G[1],U=Object(c.useState)(""),$=Object(r.a)(U,2),Q=$[0],X=$[1],Y=Object(c.useState)(""),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(!1),ne=Object(r.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(c.useState)(""),oe=Object(r.a)(ie,2),le=oe[0],ue=oe[1],se=Object(c.useState)(!1),me=Object(r.a)(se,2),de=me[0],fe=me[1],pe=Object(c.useState)(""),be=Object(r.a)(pe,2),ge=be[0],Oe=be[1],Ee=Object(c.useState)(!1),je=Object(r.a)(Ee,2),ve=je[0],he=je[1],Ce=Object(c.useState)(""),Se=Object(r.a)(Ce,2),xe=Se[0],ye=Se[1],Ae=Object(c.useState)(!1),we=Object(r.a)(Ae,2),Ne=we[0],ke=we[1],We=Object(c.useState)(""),_e=Object(r.a)(We,2),Fe=_e[0],Te=_e[1],Me=Object(c.useState)(!1),Pe=Object(r.a)(Me,2),ze=Pe[0],Ie=Pe[1],qe=Object(c.useState)(""),Be=Object(r.a)(qe,2),De=Be[0],Re=Be[1],He=Object(c.useState)(!1),Le=Object(r.a)(He,2),Ve=Le[0],Ge=Le[1],Je=Object(c.useState)(""),Ke=Object(r.a)(Je,2),Ue=(Ke[0],Ke[1]),$e=Object(c.useState)(new Date),Qe=Object(r.a)($e,2),Xe=Qe[0],Ye=Qe[1],Ze=function(e){var t=void 0!==e?e:v;return null==t||""===t.toString().trim()?(fe(!0),Oe("Este campo es requerido"),1):(fe(!1),Oe(""),0)},et=function(e){var t=void 0!==e?e:x;return null==t||""===t.toString().trim()?(ce(!0),ue("Este campo es requerido"),1):(ce(!1),ue(""),0)},tt=function(e){var t=void 0!==e?e:I;return null==t||""===t.toString().trim()?(he(!0),ye("Este campo es requerido"),1):(he(!1),ye(""),0)},at=function(e){var t=void 0!==e?e:J;return null==t||""===t.toString().trim()?(ke(!0),Te("Este campo es requerido"),1):(ke(!1),Te(""),0)},nt=function(e){var t=void 0!==e?e:Q;return null==t||""===t.toString().trim()?(Ie(!0),Re("Este campo es requerido"),1):(Ie(!1),Re(""),0)},rt=function(e){var t=void 0!==e?e:ee;return null==t||""===t.toString().trim()?(Ge(!0),Ue("Este campo es requerido"),1):(Ge(!1),Ue(""),0)},ct=function(){if(0===function(){var e=0;return e+=Ze(),e+=et(),e+=tt(),e+=at()}()){var t={name:x,description:v,username:I,password:J,expirationDateMaintenance:Xe,customer:g._id,maintenanceCost:parseFloat(ee)};e.centerOfAttention?(t.id=e.centerOfAttention._id,Object(T.K)(t).then((function(t){"success"==t.status?(q.a.fire({icon:"success",title:"El centro de atenci\xf3n ".concat(x,"  fue actualizado exitosamente"),showConfirmButton:!1,timer:1500}),e.onClose(),e.passCenterOfAttentionEdit(t.centerOfAttention)):q.a.fire({icon:"error",title:"Ocurri\xf3 un error al actualizar el centro de atenci\xf3n ".concat(x),showConfirmButton:!1,timer:1500})}))):Object(T.c)(t).then((function(t){"success"==t.status?(q.a.fire({icon:"success",title:"El centro de atenci\xf3n ".concat(x,"  fue creado exitosamente"),showConfirmButton:!1,timer:1500}),e.onCloseModal(),e.passCreateCenterOfAttention(t.centerOfAttention)):q.a.fire({icon:"error",title:"Ocurri\xf3 un error al crear el centro de atenci\xf3n ".concat(x),showConfirmButton:!1,timer:1500})}))}else z.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return i.a.createElement(c.Fragment,null,i.a.createElement(z.a,null),i.a.createElement(k.a,{maxWidth:"md"},i.a.createElement(f.a,{className:o.paper},i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),ct()}},i.a.createElement(N.a,{container:!0,spacing:3},i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(F.a,{fullWidth:!0,size:"small",getOptionLabel:function(e){return"".concat(e.name.toString().toUpperCase()," ")},filterOptions:function(e){return e},options:s,autoComplete:!0,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){O(t)},onInputChange:function(e,t){if(t.toString().trim().length>0){var a={search:t.toString().trim()};Object(T.u)(a).then((function(e){m(e.customers)}))}},renderInput:function(e){return i.a.createElement(_.a,Object.assign({},e,{label:"Cliente",variant:"outlined",margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,a){return i.a.createElement(M.a,Object.assign({label:e.name},t({index:a}),{disabled:-1!==s.indexOf(e)}))}))},renderOption:function(e){return i.a.createElement(N.a,{container:!0,alignItems:"center"},i.a.createElement(N.a,{item:!0,xs:!0},i.a.createElement(P.a,null,"".concat(e.name.toString().toUpperCase()))))}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(_.a,{fullWidth:!0,error:re,helperText:le,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Nombre del centro de atenci\xf3n",value:x,onChange:function(e){y(e.target.value),et(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(_.a,{fullWidth:!0,error:de,helperText:ge,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Descripci\xf3n del centro de atenci\xf3n",value:v,onChange:function(e){h(e.target.value),Ze(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(D.a,{utils:B.a},i.a.createElement(R.a,{style:{width:"100%"},margin:"normal",label:"Vencimiento mantenimiento",format:"MM/dd/yyyy",value:Xe,onChange:function(e){Ye(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(_.a,{fullWidth:!0,error:Ve,helperText:Ve,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Costo del mantenimiento",value:ee,onChange:function(e){te(e.target.value),rt(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},e.centerOfAttention?"":i.a.createElement("fieldset",null,i.a.createElement("legend",null,i.a.createElement(P.a,null,"Datos del usuario")),i.a.createElement(N.a,{container:!0,spacing:1},i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(_.a,{fullWidth:!0,error:ve,helperText:xe,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Nombre de usuario",value:I,onChange:function(e){L(e.target.value),tt(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(_.a,{fullWidth:!0,error:Ne,helperText:Fe,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Contrase\xf1a",value:J,onChange:function(e){K(e.target.value),at(e.target.value)}})),i.a.createElement(N.a,{item:!0,xs:12,sm:12},i.a.createElement(_.a,{fullWidth:!0,error:ze,helperText:De,margin:"dense",autoComplete:"off",className:Object(W.a)(o.margin,o.textField),variant:"outlined",label:"Correo electr\xf3nico",value:Q,onChange:function(e){X(e.target.value),nt(e.target.value)}}))))),i.a.createElement(N.a,{item:!0,xs:2,sm:3},i.a.createElement(p.a,{disabled:n,type:"submit",variant:"contained",color:"primary"},e.centerOfAttention?"Actualizar":"Guardar")))))))},V=a(934),G=a(990),J=a(984),K=Object(o.a)((function(e){return{root:{flexGrow:1},iconWidth:{width:10},paper:{padding:e.spacing(2),marginTop:10},button:{margin:e.spacing(1)},input:{display:"none"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},icon:{marginRight:e.spacing(1),color:"black"}}})),U=i.a.forwardRef((function(e,t){return i.a.createElement(x.a,Object.assign({direction:"up",ref:t},e))}));t.default=function(){var e=K(),t=Object(c.useState)([]),a=Object(r.a)(t,2),o=a[0],b=a[1],O=Object(c.useState)(0),x=Object(r.a)(O,2),y=x[0],w=x[1],N=Object(c.useState)(10),k=Object(r.a)(N,2),W=k[0],_=k[1],F=Object(c.useState)(0),M=Object(r.a)(F,2),P=M[0],z=M[1],I=Object(c.useState)(!1),q=Object(r.a)(I,2),B=q[0],D=q[1],R=Object(c.useState)(!1),H=Object(r.a)(R,2),$=H[0],Q=H[1],X=Object(c.useState)(!1),Y=Object(r.a)(X,2),Z=Y[0],ee=Y[1],te=Object(c.useState)(!1),ae=Object(r.a)(te,2),ne=ae[0],re=ae[1],ce=Object(c.useState)({}),ie=Object(r.a)(ce,2),oe=ie[0],le=ie[1];Object(c.useEffect)((function(){var e={start:0,end:W};Object(T.t)(e).then((function(e){b(e.centersOfAttention),w(e.count)}))}),[]);var ue=function(e){return function(){le(e),D(!0)}},se=function(e){return function(){le(e),Q(!0)}},me=function(){D(!1)},de=function(){ee(!1)},fe=function(){Q(!1)},pe=function(){re(!1)};return i.a.createElement(c.Fragment,null,i.a.createElement(f.a,{className:e.paper},i.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){re(!0)}},"Crear centro de atenci\xf3n"),i.a.createElement(l.a,null,i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(s.a,null,"Nombre"),i.a.createElement(s.a,null,"Descripci\xf3n"),i.a.createElement(s.a,null,"Cliente"),i.a.createElement(s.a,{align:"right"},"Costo mantenimiento"),i.a.createElement(s.a,{colSpan:4},"Acciones"))),i.a.createElement(u.a,null,o.map((function(t){return i.a.createElement(d.a,{key:t._id},i.a.createElement(s.a,null,t.title," "),i.a.createElement(s.a,null,t.description," "),i.a.createElement(s.a,null,t.customer.name," "),i.a.createElement(s.a,{align:"right"},i.a.createElement(J.a,{value:t.maintenanceCost,displayType:"text",thousandSeparator:!0,prefix:"$"})),i.a.createElement(s.a,{className:e.iconWidth},t.administrative?"":i.a.createElement(V.a,{title:"Editar",placement:"top"},i.a.createElement(g.a,{className:e.icon,onClick:(a=t,function(){le(a),ee(!0)})}))),i.a.createElement(s.a,{className:e.iconWidth},i.a.createElement(V.a,{title:"Eliminar",placement:"top"},"active"===t.status?i.a.createElement(E.a,{className:e.icon,onClick:ue(t)}):i.a.createElement(A.a,{className:e.icon,onClick:se(t)}))));var a})))),i.a.createElement(G.a,{rowsPerPageOptions:[10,25,100],component:"div",count:y,rowsPerPage:W,page:P,onChangePage:function(e,t){z(t);var a={start:t*W,end:W};Object(T.t)(a).then((function(e){b(e.centersOfAttention),w(e.count)}))},onChangeRowsPerPage:function(e){_(+e.target.value),z(0);var t={start:0,end:e.target.value};Object(T.t)(t).then((function(e){b(e.centersOfAttention),w(e.count)}))}})),i.a.createElement(j.a,{open:B,onClose:me,"aria-labelledby":"draggable-dialog-title"},i.a.createElement(S.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Alerta"),i.a.createElement(h.a,null,i.a.createElement(C.a,null,"Esta seguro de desabilitar este centro de atenci\xf3n")),i.a.createElement(v.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:me,color:"primary"},"NO"),i.a.createElement(p.a,{onClick:function(){D(!1),Object(T.i)(oe._id).then((function(e){if("success"===e.status){var t=o.map((function(e){return oe._id!==e._id||(e.status="inactive"),e}));b(t)}}))},color:"primary"},"SI"))),i.a.createElement(j.a,{open:$,onClose:fe},i.a.createElement(S.a,{style:{cursor:"move"}},"Alerta"),i.a.createElement(h.a,null,i.a.createElement(C.a,null,"Esta seguro de reactivar a este centro de atenci\xf3n?")),i.a.createElement(v.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:fe,color:"primary"},"NO"),i.a.createElement(p.a,{onClick:function(){Q(!1),Object(T.F)(oe._id).then((function(e){if("success"===e.status){var t=o.map((function(e,t){return oe._id!==e._id||(e.status="active"),e}));b(t)}}))},color:"primary"},"SI"))),i.a.createElement(j.a,{maxWidth:"md",open:Z,onCloseEditCenterOfAttention:de,TransitionComponent:U},i.a.createElement(h.a,null,i.a.createElement(L,{onClose:de,centerOfAttention:oe,passCenterOfAttentionEdit:function(e){ee(!1);var t=o.map((function(t){return e._id!==t._id?t:t=e}));b(t)}})),i.a.createElement(v.a,null,i.a.createElement(p.a,{autoFocus:!0,onClick:de,color:"primary"},"Cerrar"))),i.a.createElement(j.a,{open:ne,onClose:pe,"aria-labelledby":"form-dialog-title"},i.a.createElement(S.a,null,"Crear centro de atenci\xf3n"),i.a.createElement(h.a,null,i.a.createElement(L,{onCloseModal:function(){re(!1)},passCreateCenterOfAttention:function(e){b((function(t){return[].concat(Object(n.a)(t),[e])})),re(!1)}})),i.a.createElement(v.a,null,i.a.createElement(p.a,{onClick:pe,color:"primary"},"Cerrar"))))}},914:function(e,t,a){"use strict";var n=a(16);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(17)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},970:function(e,t,a){"use strict";var n=a(16);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),c=(0,n(a(17)).default)(r.default.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");t.default=c}}]);
//# sourceMappingURL=11.68e33931.chunk.js.map